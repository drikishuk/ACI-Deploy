import{G as Ul,H as ql,I as vo,g as le,P as yn,T as Gl,J as qt,x as Bl,p as Q,K as Va,j as T,L as Z,M as $o,N as Sn,O as Jo,t as F,e as de,Q as Ne,R as Pt,D as C,n as ve,k as te,i as ge,m as Le,S as Ve,U as nn,V as po,W as Hl,X as Ae,a as ze,o as it,Y as je,c as R,r as J,Z as ne,l as ye,F as pe,_ as Te,$ as Ke,a0 as Fe,s as oe,a1 as xt,a2 as Ue,a3 as go,a4 as lt,a5 as gt,b as Ye,a6 as Ie,q as ht,a7 as Nn,v as yt,a8 as Vn,a9 as Rt,aa as Da,ab as on,w as mt,ac as Xe,ad as La,ae as De,af as qe,ag as Fa,ah as $l,ai as Jl,aj as Ua,ak as zo,al as Cn,am as zl,an as Et,ao as we,ap as Ol,aq as st,ar as qa,A as ue,C as K,as as he,at as Ee,au as Yt,B as z,E as Se,av as se,aw as Oo,ax as Ga,ay as Ba,az as It,aA as ln,f as Ge,aB as Wl,u as Tn,aC as Ha,aD as Xt,aE as Kl,aF as $a,aG as Ja,aH as Oe,aI as Zn,aJ as vn,aK as za,aL as Oa,aM as Wa,aN as Ka,aO as Wo,aP as Ya,aQ as Xa,aR as Qa,aS as Za,aT as ja,d as er,h as tr,aU as Yl,aV as Xl,aW as nr,aX as or}from"./index-Dm_ogsSw.js";import{h as ho,M as Dn,i as Ln,g as ce,j as Ql,c as at,u as Je,k as kt,L as Zl,m as rt,l as ir,n as Pe,o as Gt,p as Bt,I as _n,q as tt,r as Ko,s as $n,t as Jn,v as Yo,w as Xo,x as jl,y as lr,d as St,R as Qe,b as Ct,z as At,f as be,V as Ze,A as yo,B as So,C as sn,a as an,D as sr,E as jn,F as es,G as Co,H as ar,J as ts,K as ns,e as rn,N as To,O as Qt,P as os,Q as is,S as ls,T as ss,U as _o,W as rr,X as as,Y as ur,Z as rs,_ as dr}from"./VGrid-UwN6YtXS.js";class He{constructor(t){const n=document.body.currentCSSZoom??1,o=t instanceof DOMRect?1+(1-n)/n:1,{x:i,y:l,width:a,height:u}=t;this.x=i*o,this.y=l*o,this.width=a*o,this.height=u*o}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Qo(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function us(e){if(Array.isArray(e)){const t=document.body.currentCSSZoom??1,n=1+(1-t)/t;return new He({x:e[0]*n,y:e[1]*n,width:0*n,height:0*n})}else return new He(e.getBoundingClientRect())}function cr(e){if(e===document.documentElement)if(visualViewport){const t=document.body.currentCSSZoom??1;return new He({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale/t,height:visualViewport.height*visualViewport.scale/t})}else return new He({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});else{const t=e.getBoundingClientRect();return new He({x:t.x,y:t.y,width:e.clientWidth,height:e.clientHeight})}}function Eo(e){const t=new He(e.getBoundingClientRect()),n=getComputedStyle(e),o=n.transform;if(o){let i,l,a,u,d;if(o.startsWith("matrix3d("))i=o.slice(9,-1).split(/, /),l=Number(i[0]),a=Number(i[5]),u=Number(i[12]),d=Number(i[13]);else if(o.startsWith("matrix("))i=o.slice(7,-1).split(/, /),l=Number(i[0]),a=Number(i[3]),u=Number(i[4]),d=Number(i[5]);else return new He(t);const c=n.transformOrigin,f=t.x-u-(1-l)*parseFloat(c),m=t.y-d-(1-a)*parseFloat(c.slice(c.indexOf(" ")+1)),v=l?t.width/l:e.offsetWidth+1,p=a?t.height/a:e.offsetHeight+1;return new He({x:f,y:m,width:v,height:p})}else return new He(t)}function ct(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let o;try{o=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof o.finished>"u"&&(o.finished=new Promise(i=>{o.onfinish=()=>{i(o)}})),o}const pn=new WeakMap;function fr(e,t){Object.keys(t).forEach(n=>{if(Ul(n)){const o=ql(n),i=pn.get(e);if(t[n]==null)i?.forEach(l=>{const[a,u]=l;a===o&&(e.removeEventListener(o,u),i.delete(l))});else if(!i||![...i].some(l=>l[0]===o&&l[1]===t[n])){e.addEventListener(o,t[n]);const l=i||new Set;l.add([o,t[n]]),pn.has(e)||pn.set(e,l)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function mr(e,t){Object.keys(t).forEach(n=>{if(Ul(n)){const o=ql(n),i=pn.get(e);i?.forEach(l=>{const[a,u]=l;a===o&&(e.removeEventListener(o,u),i.delete(l))})}else e.removeAttribute(n)})}function ds(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}function cs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?vr(e):Io(e))return e;e=e.parentElement}return document.scrollingElement}function En(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Io(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Io(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e),n=t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight,o=t.overflowX==="scroll"||t.overflowX==="auto"&&e.scrollWidth>e.clientWidth;return n||o}function vr(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function pr(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function gr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{leading:!0,trailing:!0},o=0,i=0,l=!1,a=0;function u(){clearTimeout(o),l=!1,a=0}const d=function(){for(var c=arguments.length,f=new Array(c),m=0;m<c;m++)f[m]=arguments[m];clearTimeout(o);const v=Date.now();a||(a=v);const p=v-Math.max(a,i);function h(){i=Date.now(),o=window.setTimeout(u,t),e(...f)}l?p>=t?h():n.trailing&&(o=window.setTimeout(h,t-p)):(l=!0,n.leading&&h())};return d.clear=u,d.immediate=e,d}const fs=ho("v-spacer","div","VSpacer");/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hr,yr;function Sr(){return{geminiUrl:hr,vertexUrl:yr}}function Cr(e,t,n,o){var i,l;if(!e?.baseUrl){const a=Sr();return t?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(l=a.geminiUrl)!==null&&l!==void 0?l:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ut{}function $(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const l=t[i];return l!=null?String(l):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function r(e,t,n){for(let l=0;l<t.length-1;l++){const a=t[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];r(f,t.slice(l+1),n[c])}else for(const c of d)r(c,t.slice(l+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];r(d[0],t.slice(l+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const o=t[t.length-1],i=e[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const i=t[o];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in e){const a=e[l];return Array.isArray(a)?a.map(u=>s(u,t.slice(o+1),n)):n}else return n}else e=e[i]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function Tr(e,t){for(const[n,o]of Object.entries(t)){const i=n.split("."),l=o.split("."),a=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&l.length>u)for(let d=u;d<l.length;d++){const c=l[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&a.add(c)}eo(e,i,l,0,a)}}function eo(e,t,n,o,i){if(o>=t.length||typeof e!="object"||e===null)return;const l=t[o];if(l.endsWith("[]")){const a=l.slice(0,-2),u=e;if(a in u&&Array.isArray(u[a]))for(const d of u[a])eo(d,t,n,o+1,i)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,u=Object.keys(a).filter(c=>!c.startsWith("_")&&!i.has(c)),d={};for(const c of u)d[c]=a[c];for(const[c,f]of Object.entries(d)){const m=[];for(const v of n.slice(o))v==="*"?m.push(c):m.push(v);r(a,m,f)}for(const c of u)delete a[c]}}else{const a=e;l in a&&eo(a[l],t,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ao(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _r(e){const t={},n=s(e,["operationName"]);n!=null&&r(t,["operationName"],n);const o=s(e,["resourceName"]);return o!=null&&r(t,["_url","resourceName"],o),t}function Er(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["metadata"]);o!=null&&r(t,["metadata"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response","generateVideoResponse"]);return a!=null&&r(t,["response"],Ar(a)),t}function Ir(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["metadata"]);o!=null&&r(t,["metadata"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],br(a)),t}function Ar(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>wr(a))),r(t,["generatedVideos"],l)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&r(t,["raiMediaFilteredCount"],o);const i=s(e,["raiMediaFilteredReasons"]);return i!=null&&r(t,["raiMediaFilteredReasons"],i),t}function br(e){const t={},n=s(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>Pr(a))),r(t,["generatedVideos"],l)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&r(t,["raiMediaFilteredCount"],o);const i=s(e,["raiMediaFilteredReasons"]);return i!=null&&r(t,["raiMediaFilteredReasons"],i),t}function wr(e){const t={},n=s(e,["video"]);return n!=null&&r(t,["video"],Vr(n)),t}function Pr(e){const t={},n=s(e,["_self"]);return n!=null&&r(t,["video"],Dr(n)),t}function xr(e){const t={},n=s(e,["operationName"]);return n!=null&&r(t,["_url","operationName"],n),t}function Rr(e){const t={},n=s(e,["operationName"]);return n!=null&&r(t,["_url","operationName"],n),t}function kr(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["metadata"]);o!=null&&r(t,["metadata"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],Mr(a)),t}function Mr(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&r(t,["parent"],o);const i=s(e,["documentName"]);return i!=null&&r(t,["documentName"],i),t}function ms(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["metadata"]);o!=null&&r(t,["metadata"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],Nr(a)),t}function Nr(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&r(t,["parent"],o);const i=s(e,["documentName"]);return i!=null&&r(t,["documentName"],i),t}function Vr(e){const t={},n=s(e,["uri"]);n!=null&&r(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&r(t,["videoBytes"],Ao(o));const i=s(e,["encoding"]);return i!=null&&r(t,["mimeType"],i),t}function Dr(e){const t={},n=s(e,["gcsUri"]);n!=null&&r(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&r(t,["videoBytes"],Ao(o));const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zo;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Zo||(Zo={}));var jo;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(jo||(jo={}));var ei;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ei||(ei={}));var ft;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ft||(ft={}));var ti;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ti||(ti={}));var ni;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ni||(ni={}));var oi;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(oi||(oi={}));var ii;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ii||(ii={}));var li;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(li||(li={}));var si;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(si||(si={}));var ai;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(ai||(ai={}));var ri;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(ri||(ri={}));var ui;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(ui||(ui={}));var di;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(di||(di={}));var ci;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ci||(ci={}));var fi;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fi||(fi={}));var mi;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(mi||(mi={}));var vi;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(vi||(vi={}));var In;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(In||(In={}));var pi;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pi||(pi={}));var gi;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(gi||(gi={}));var hi;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hi||(hi={}));var to;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(to||(to={}));var yi;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yi||(yi={}));var Si;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Si||(Si={}));var Ci;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Ci||(Ci={}));var Ti;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ti||(Ti={}));var _i;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_i||(_i={}));var Ei;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Ei||(Ei={}));var Ii;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Ii||(Ii={}));var Ai;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Ai||(Ai={}));var bi;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(bi||(bi={}));var wi;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wi||(wi={}));var Pi;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Pi||(Pi={}));var xi;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xi||(xi={}));var Ri;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ri||(Ri={}));var ki;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(ki||(ki={}));var Mi;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Mi||(Mi={}));var Ni;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Ni||(Ni={}));var Vi;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Vi||(Vi={}));var Di;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Di||(Di={}));var Li;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Li||(Li={}));var Fi;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Fi||(Fi={}));var Ui;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Ui||(Ui={}));var qi;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qi||(qi={}));var Gi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Gi||(Gi={}));var Bi;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Bi||(Bi={}));var Hi;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Hi||(Hi={}));var $i;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})($i||($i={}));var Ji;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ji||(Ji={}));var zi;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zi||(zi={}));var Oi;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Oi||(Oi={}));var Vt;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Vt||(Vt={}));class no{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ot{get text(){var t,n,o,i,l,a,u,d;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const m=[];for(const v of(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[p,h]of Object.entries(v))p!=="text"&&p!=="thought"&&(h!==null||h!==void 0)&&m.push(p);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;f=!0,c+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var t,n,o,i,l,a,u,d;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const m of(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[v,p]of Object.entries(m))v!=="inlineData"&&(p!==null||p!==void 0)&&f.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,n,o,i,l,a,u,d;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(c?.length!==0)return c}get executableCode(){var t,n,o,i,l,a,u,d,c;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(f?.length!==0)return(c=f?.[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,n,o,i,l,a,u,d,c;if(((i=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(f?.length!==0)return(c=f?.[0])===null||c===void 0?void 0:c.output}}class Wi{}class Ki{}class Lr{}class Fr{}class Ur{}class qr{}class Yi{}class Xi{}class Qi{}class Gr{}class An{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new An;let i;const l=t;return n?i=Ir(l):i=Er(l),Object.assign(o,i),o}}class Zi{}class ji{}class el{}class Br{}class Hr{}class $r{}class bo{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new bo,l=kr(t);return Object.assign(o,l),o}}class Jr{}class zr{}class Or{}class tl{}class Wr{get text(){var t,n,o;let i="",l=!1;const a=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&a.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;l=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?i:void 0}get data(){var t,n,o;let i="";const l=[];for(const a of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(a))u!=="inlineData"&&d!==null&&l.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Kr{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class wo{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new wo,l=ms(t);return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function vs(e,t){const n=fe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function ps(e){return Array.isArray(e)?e.map(t=>bn(t)):[bn(e)]}function bn(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function gs(e){const t=bn(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function hs(e){const t=bn(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function nl(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ys(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>nl(t)):[nl(e)]}function oo(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function ol(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function il(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Re(e){if(e==null)throw new Error("ContentUnion is required");return oo(e)?e:{role:"user",parts:ys(e)}}function Po(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Re(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Re(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Re(n)):[Re(t)]}function $e(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(ol(e)||il(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Re(e)]}const t=[],n=[],o=oo(e[0]);for(const i of e){const l=oo(i);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(i);else{if(ol(i)||il(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||t.push({role:"user",parts:ys(n)}),t}function Yr(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(ft).includes(n[0].toUpperCase())?n[0].toUpperCase():ft.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(ft).includes(o.toUpperCase())?o.toUpperCase():ft.TYPE_UNSPECIFIED})}}function Dt(e){const t={},n=["items"],o=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&Yr(e.type,t);for(const[a,u]of Object.entries(e))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(ft).includes(u.toUpperCase())?u.toUpperCase():ft.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Dt(u);else if(o.includes(a)){const d=[];for(const c of u){if(c.type=="null"){t.nullable=!0;continue}d.push(Dt(c))}t[a]=d}else if(i.includes(a)){const d={};for(const[c,f]of Object.entries(u))d[c]=Dt(f);t[a]=d}else{if(a==="additionalProperties")continue;t[a]=u}return t}function xo(e){return Dt(e)}function Ro(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ko(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ht(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Dt(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Dt(t.response));return e}function $t(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Xr(e,t,n,o=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function dt(e,t){if(typeof t!="string")throw new Error("name must be a string");return Xr(e,t,"cachedContents")}function Ss(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Tt(e){return Ao(e)}function Qr(e){return e!=null&&typeof e=="object"&&"name"in e}function Zr(e){return e!=null&&typeof e=="object"&&"video"in e}function jr(e){return e!=null&&typeof e=="object"&&"uri"in e}function Cs(e){var t;let n;if(Qr(e)&&(n=e.name),!(jr(e)&&(n=e.uri,n===void 0))&&!(Zr(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ts(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function _s(e){for(const t of["models","tunedModels","publisherModels"])if(eu(e,t))return e[t];return[]}function eu(e,t){return e!==null&&typeof e=="object"&&t in e}function tu(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function nu(e,t={}){const n=[],o=new Set;for(const i of e){const l=i.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const a=tu(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function Es(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ou(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Is(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let l=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const d=a.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Jt(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function As(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iu(e){const t={},n=s(e,["responsesFile"]);n!=null&&r(t,["fileName"],n);const o=s(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>Du(a))),r(t,["inlinedResponses"],l)}const i=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["inlinedEmbedContentResponses"],l)}return t}function lu(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&r(t,["format"],n);const o=s(e,["gcsDestination","outputUriPrefix"]);o!=null&&r(t,["gcsUri"],o);const i=s(e,["bigqueryDestination","outputUri"]);return i!=null&&r(t,["bigqueryUri"],i),t}function su(e){const t={},n=s(e,["format"]);n!=null&&r(t,["predictionsFormat"],n);const o=s(e,["gcsUri"]);o!=null&&r(t,["gcsDestination","outputUriPrefix"],o);const i=s(e,["bigqueryUri"]);if(i!=null&&r(t,["bigqueryDestination","outputUri"],i),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function gn(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["metadata","displayName"]);o!=null&&r(t,["displayName"],o);const i=s(e,["metadata","state"]);i!=null&&r(t,["state"],As(i));const l=s(e,["metadata","createTime"]);l!=null&&r(t,["createTime"],l);const a=s(e,["metadata","endTime"]);a!=null&&r(t,["endTime"],a);const u=s(e,["metadata","updateTime"]);u!=null&&r(t,["updateTime"],u);const d=s(e,["metadata","model"]);d!=null&&r(t,["model"],d);const c=s(e,["metadata","output"]);return c!=null&&r(t,["dest"],iu(Is(c))),t}function io(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["displayName"]);o!=null&&r(t,["displayName"],o);const i=s(e,["state"]);i!=null&&r(t,["state"],As(i));const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["createTime"]);a!=null&&r(t,["createTime"],a);const u=s(e,["startTime"]);u!=null&&r(t,["startTime"],u);const d=s(e,["endTime"]);d!=null&&r(t,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=s(e,["model"]);f!=null&&r(t,["model"],f);const m=s(e,["inputConfig"]);m!=null&&r(t,["src"],au(m));const v=s(e,["outputConfig"]);v!=null&&r(t,["dest"],lu(Is(v)));const p=s(e,["completionStats"]);return p!=null&&r(t,["completionStats"],p),t}function au(e){const t={},n=s(e,["instancesFormat"]);n!=null&&r(t,["format"],n);const o=s(e,["gcsSource","uris"]);o!=null&&r(t,["gcsUri"],o);const i=s(e,["bigquerySource","inputUri"]);return i!=null&&r(t,["bigqueryUri"],i),t}function ru(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(t,["fileName"]);o!=null&&r(n,["fileName"],o);const i=s(t,["inlinedRequests"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>Vu(e,a))),r(n,["requests","requests"],l)}return n}function uu(e){const t={},n=s(e,["format"]);n!=null&&r(t,["instancesFormat"],n);const o=s(e,["gcsUri"]);o!=null&&r(t,["gcsSource","uris"],o);const i=s(e,["bigqueryUri"]);if(i!=null&&r(t,["bigquerySource","inputUri"],i),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function du(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function cu(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],Jt(e,o)),n}function fu(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],Jt(e,o)),n}function mu(e){const t={},n=s(e,["content"]);n!=null&&r(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&r(t,["citationMetadata"],vu(o));const i=s(e,["tokenCount"]);i!=null&&r(t,["tokenCount"],i);const l=s(e,["finishReason"]);l!=null&&r(t,["finishReason"],l);const a=s(e,["avgLogprobs"]);a!=null&&r(t,["avgLogprobs"],a);const u=s(e,["groundingMetadata"]);u!=null&&r(t,["groundingMetadata"],u);const d=s(e,["index"]);d!=null&&r(t,["index"],d);const c=s(e,["logprobsResult"]);c!=null&&r(t,["logprobsResult"],c);const f=s(e,["safetyRatings"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(p=>p)),r(t,["safetyRatings"],v)}const m=s(e,["urlContextMetadata"]);return m!=null&&r(t,["urlContextMetadata"],m),t}function vu(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),r(t,["citations"],o)}return t}function bs(e){const t={},n=s(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Hu(l))),r(t,["parts"],i)}const o=s(e,["role"]);return o!=null&&r(t,["role"],o),t}function pu(e,t){const n={},o=s(e,["displayName"]);if(t!==void 0&&o!=null&&r(t,["batch","displayName"],o),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function gu(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&r(t,["displayName"],o);const i=s(e,["dest"]);return t!==void 0&&i!=null&&r(t,["outputConfig"],su(ou(i))),n}function ll(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["src"]);i!=null&&r(n,["batch","inputConfig"],ru(e,Es(e,i)));const l=s(t,["config"]);return l!=null&&pu(l,n),n}function hu(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["model"],fe(e,o));const i=s(t,["src"]);i!=null&&r(n,["inputConfig"],uu(Es(e,i)));const l=s(t,["config"]);return l!=null&&gu(l,n),n}function yu(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&r(t,["batch","displayName"],o),n}function Su(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["src"]);i!=null&&r(n,["batch","inputConfig"],bu(e,i));const l=s(t,["config"]);return l!=null&&yu(l,n),n}function Cu(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],Jt(e,o)),n}function Tu(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],Jt(e,o)),n}function _u(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&r(t,["name"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);return l!=null&&r(t,["error"],l),t}function Eu(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&r(t,["name"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);return l!=null&&r(t,["error"],l),t}function Iu(e,t){const n={},o=s(t,["contents"]);if(o!=null){let l=Po(e,o);Array.isArray(l)&&(l=l.map(a=>a)),r(n,["requests[]","request","content"],l)}const i=s(t,["config"]);return i!=null&&(r(n,["_self"],Au(i,n)),Tr(n,{"requests[].*":"requests[].request.*"})),n}function Au(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&r(t,["requests[]","taskType"],o);const i=s(e,["title"]);t!==void 0&&i!=null&&r(t,["requests[]","title"],i);const l=s(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&r(t,["requests[]","outputDimensionality"],l),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bu(e,t){const n={},o=s(t,["fileName"]);o!=null&&r(n,["file_name"],o);const i=s(t,["inlinedRequests"]);return i!=null&&r(n,["requests"],Iu(e,i)),n}function wu(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Pu(e,t,n){const o={},i=s(t,["systemInstruction"]);n!==void 0&&i!=null&&r(n,["systemInstruction"],bs(Re(i)));const l=s(t,["temperature"]);l!=null&&r(o,["temperature"],l);const a=s(t,["topP"]);a!=null&&r(o,["topP"],a);const u=s(t,["topK"]);u!=null&&r(o,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&r(o,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&r(o,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&r(o,["stopSequences"],f);const m=s(t,["responseLogprobs"]);m!=null&&r(o,["responseLogprobs"],m);const v=s(t,["logprobs"]);v!=null&&r(o,["logprobs"],v);const p=s(t,["presencePenalty"]);p!=null&&r(o,["presencePenalty"],p);const h=s(t,["frequencyPenalty"]);h!=null&&r(o,["frequencyPenalty"],h);const g=s(t,["seed"]);g!=null&&r(o,["seed"],g);const y=s(t,["responseMimeType"]);y!=null&&r(o,["responseMimeType"],y);const S=s(t,["responseSchema"]);S!=null&&r(o,["responseSchema"],xo(S));const E=s(t,["responseJsonSchema"]);if(E!=null&&r(o,["responseJsonSchema"],E),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=s(t,["safetySettings"]);if(n!==void 0&&_!=null){let D=_;Array.isArray(D)&&(D=D.map(U=>$u(U))),r(n,["safetySettings"],D)}const w=s(t,["tools"]);if(n!==void 0&&w!=null){let D=$t(w);Array.isArray(D)&&(D=D.map(U=>Ju(Ht(U)))),r(n,["tools"],D)}const x=s(t,["toolConfig"]);if(n!==void 0&&x!=null&&r(n,["toolConfig"],x),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=s(t,["cachedContent"]);n!==void 0&&P!=null&&r(n,["cachedContent"],dt(e,P));const I=s(t,["responseModalities"]);I!=null&&r(o,["responseModalities"],I);const b=s(t,["mediaResolution"]);b!=null&&r(o,["mediaResolution"],b);const A=s(t,["speechConfig"]);if(A!=null&&r(o,["speechConfig"],Ro(A)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=s(t,["thinkingConfig"]);k!=null&&r(o,["thinkingConfig"],k);const N=s(t,["imageConfig"]);return N!=null&&r(o,["imageConfig"],N),o}function xu(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>mu(c))),r(t,["candidates"],d)}const i=s(e,["modelVersion"]);i!=null&&r(t,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&r(t,["promptFeedback"],l);const a=s(e,["responseId"]);a!=null&&r(t,["responseId"],a);const u=s(e,["usageMetadata"]);return u!=null&&r(t,["usageMetadata"],u),t}function Ru(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],Jt(e,o)),n}function ku(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],Jt(e,o)),n}function Mu(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function Nu(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function Vu(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["request","model"],fe(e,o));const i=s(t,["contents"]);if(i!=null){let u=$e(i);Array.isArray(u)&&(u=u.map(d=>bs(d))),r(n,["request","contents"],u)}const l=s(t,["metadata"]);l!=null&&r(n,["metadata"],l);const a=s(t,["config"]);return a!=null&&r(n,["request","generationConfig"],Pu(e,a,s(n,["request"],{}))),n}function Du(e){const t={},n=s(e,["response"]);n!=null&&r(t,["response"],xu(n));const o=s(e,["error"]);return o!=null&&r(t,["error"],o),t}function Lu(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);if(t!==void 0&&i!=null&&r(t,["_query","pageToken"],i),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Fu(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&r(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&r(t,["_query","filter"],l),n}function Uu(e){const t={},n=s(e,["config"]);return n!=null&&Lu(n,t),t}function qu(e){const t={},n=s(e,["config"]);return n!=null&&Fu(n,t),t}function Gu(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>gn(a))),r(t,["batchJobs"],l)}return t}function Bu(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>io(a))),r(t,["batchJobs"],l)}return t}function Hu(e){const t={},n=s(e,["functionCall"]);n!=null&&r(t,["functionCall"],n);const o=s(e,["codeExecutionResult"]);o!=null&&r(t,["codeExecutionResult"],o);const i=s(e,["executableCode"]);i!=null&&r(t,["executableCode"],i);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],wu(l));const a=s(e,["functionResponse"]);a!=null&&r(t,["functionResponse"],a);const u=s(e,["inlineData"]);u!=null&&r(t,["inlineData"],du(u));const d=s(e,["text"]);d!=null&&r(t,["text"],d);const c=s(e,["thought"]);c!=null&&r(t,["thought"],c);const f=s(e,["thoughtSignature"]);f!=null&&r(t,["thoughtSignature"],f);const m=s(e,["videoMetadata"]);return m!=null&&r(t,["videoMetadata"],m),t}function $u(e){const t={},n=s(e,["category"]);if(n!=null&&r(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&r(t,["threshold"],o),t}function Ju(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),r(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&r(t,["googleSearchRetrieval"],o);const i=s(e,["computerUse"]);i!=null&&r(t,["computerUse"],i);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],Mu(u));const d=s(e,["googleSearch"]);d!=null&&r(t,["googleSearch"],Nu(d));const c=s(e,["urlContext"]);return c!=null&&r(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ot;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ot||(ot={}));class Mt{constructor(t,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,i)}init(t,n,o){var i,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!o||Object.keys(o).length===0?a={config:{}}:typeof o=="object"?a=Object.assign({},o):a=o,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(l=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zu extends ut{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Mt(ot.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=ll(this.apiClient,t),o=n._url,i=$("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const m=Object.assign({},f);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const p=m.request;p.systemInstruction=v,m.request=p}c.push(m)}return u.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const l=this.getGcsUri(t),a=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${i}`;else if(a)o.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=hu(this.apiClient,t);return u=$("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>io(f))}else{const c=ll(this.apiClient,t);return u=$("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a.then(f=>gn(f))}}async createEmbeddingsInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Su(this.apiClient,t);return l=$("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>gn(d))}}async get(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=ku(this.apiClient,t);return u=$("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>io(f))}else{const c=Ru(this.apiClient,t);return u=$("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a.then(f=>gn(f))}}async cancel(t){var n,o,i,l;let a="",u={};if(this.apiClient.isVertexAI()){const d=fu(this.apiClient,t);a=$("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=cu(this.apiClient,t);a=$("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=qu(t);return u=$("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=Bu(f),v=new tl;return Object.assign(v,m),v})}else{const c=Uu(t);return u=$("batches",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=Gu(f),v=new tl;return Object.assign(v,m),v})}}async delete(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=Tu(this.apiClient,t);return u=$("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>Eu(f))}else{const c=Cu(this.apiClient,t);return u=$("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>_u(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ou(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function sl(e){const t={},n=s(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>md(l))),r(t,["parts"],i)}const o=s(e,["role"]);return o!=null&&r(t,["role"],o),t}function Wu(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&r(t,["ttl"],o);const i=s(e,["expireTime"]);t!==void 0&&i!=null&&r(t,["expireTime"],i);const l=s(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const a=s(e,["contents"]);if(t!==void 0&&a!=null){let f=$e(a);Array.isArray(f)&&(f=f.map(m=>sl(m))),r(t,["contents"],f)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&r(t,["systemInstruction"],sl(Re(u)));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>vd(m))),r(t,["tools"],f)}const c=s(e,["toolConfig"]);if(t!==void 0&&c!=null&&r(t,["toolConfig"],c),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Ku(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&r(t,["ttl"],o);const i=s(e,["expireTime"]);t!==void 0&&i!=null&&r(t,["expireTime"],i);const l=s(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const a=s(e,["contents"]);if(t!==void 0&&a!=null){let m=$e(a);Array.isArray(m)&&(m=m.map(v=>v)),r(t,["contents"],m)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&r(t,["systemInstruction"],Re(u));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>pd(v))),r(t,["tools"],m)}const c=s(e,["toolConfig"]);t!==void 0&&c!=null&&r(t,["toolConfig"],c);const f=s(e,["kmsKeyName"]);return t!==void 0&&f!=null&&r(t,["encryption_spec","kmsKeyName"],f),n}function Yu(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["model"],vs(e,o));const i=s(t,["config"]);return i!=null&&Wu(i,n),n}function Xu(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["model"],vs(e,o));const i=s(t,["config"]);return i!=null&&Ku(i,n),n}function Qu(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],dt(e,o)),n}function Zu(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],dt(e,o)),n}function ju(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function ed(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function td(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function nd(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&r(t,["description"],n);const o=s(e,["name"]);o!=null&&r(t,["name"],o);const i=s(e,["parameters"]);i!=null&&r(t,["parameters"],i);const l=s(e,["parametersJsonSchema"]);l!=null&&r(t,["parametersJsonSchema"],l);const a=s(e,["response"]);a!=null&&r(t,["response"],a);const u=s(e,["responseJsonSchema"]);return u!=null&&r(t,["responseJsonSchema"],u),t}function od(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],dt(e,o)),n}function id(e,t){const n={},o=s(t,["name"]);return o!=null&&r(n,["_url","name"],dt(e,o)),n}function ld(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function sd(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function ad(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);return t!==void 0&&i!=null&&r(t,["_query","pageToken"],i),n}function rd(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);return t!==void 0&&i!=null&&r(t,["_query","pageToken"],i),n}function ud(e){const t={},n=s(e,["config"]);return n!=null&&ad(n,t),t}function dd(e){const t={},n=s(e,["config"]);return n!=null&&rd(n,t),t}function cd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["cachedContents"],l)}return t}function fd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["cachedContents"],l)}return t}function md(e){const t={},n=s(e,["functionCall"]);n!=null&&r(t,["functionCall"],n);const o=s(e,["codeExecutionResult"]);o!=null&&r(t,["codeExecutionResult"],o);const i=s(e,["executableCode"]);i!=null&&r(t,["executableCode"],i);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],td(l));const a=s(e,["functionResponse"]);a!=null&&r(t,["functionResponse"],a);const u=s(e,["inlineData"]);u!=null&&r(t,["inlineData"],Ou(u));const d=s(e,["text"]);d!=null&&r(t,["text"],d);const c=s(e,["thought"]);c!=null&&r(t,["thought"],c);const f=s(e,["thoughtSignature"]);f!=null&&r(t,["thoughtSignature"],f);const m=s(e,["videoMetadata"]);return m!=null&&r(t,["videoMetadata"],m),t}function vd(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),r(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&r(t,["googleSearchRetrieval"],o);const i=s(e,["computerUse"]);i!=null&&r(t,["computerUse"],i);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],ld(u));const d=s(e,["googleSearch"]);d!=null&&r(t,["googleSearch"],sd(d));const c=s(e,["urlContext"]);return c!=null&&r(t,["urlContext"],c),t}function pd(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>nd(v))),r(t,["functionDeclarations"],m)}const o=s(e,["retrieval"]);o!=null&&r(t,["retrieval"],o);const i=s(e,["googleSearchRetrieval"]);i!=null&&r(t,["googleSearchRetrieval"],i);const l=s(e,["computerUse"]);if(l!=null&&r(t,["computerUse"],l),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&r(t,["codeExecution"],a);const u=s(e,["enterpriseWebSearch"]);u!=null&&r(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&r(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&r(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&r(t,["urlContext"],f),t}function gd(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&r(t,["ttl"],o);const i=s(e,["expireTime"]);return t!==void 0&&i!=null&&r(t,["expireTime"],i),n}function hd(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&r(t,["ttl"],o);const i=s(e,["expireTime"]);return t!==void 0&&i!=null&&r(t,["expireTime"],i),n}function yd(e,t){const n={},o=s(t,["name"]);o!=null&&r(n,["_url","name"],dt(e,o));const i=s(t,["config"]);return i!=null&&gd(i,n),n}function Sd(e,t){const n={},o=s(t,["name"]);o!=null&&r(n,["_url","name"],dt(e,o));const i=s(t,["config"]);return i!=null&&hd(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cd extends ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Mt(ot.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=Xu(this.apiClient,t);return u=$("cachedContents",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=Yu(this.apiClient,t);return u=$("cachedContents",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async get(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=id(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=od(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=Zu(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=ed(f),v=new ji;return Object.assign(v,m),v})}else{const c=Qu(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=ju(f),v=new ji;return Object.assign(v,m),v})}}async update(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=Sd(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>f)}else{const c=yd(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async listInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=dd(t);return u=$("cachedContents",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=fd(f),v=new el;return Object.assign(v,m),v})}else{const c=ud(t);return u=$("cachedContents",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=cd(f),v=new el;return Object.assign(v,m),v})}}}function al(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(e){return this instanceof _e?(this.v=e,this):new _e(e)}function Lt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(h){return Promise.resolve(h).then(p,m)}}function u(p,h){o[p]&&(i[p]=function(g){return new Promise(function(y,S){l.push([p,g,y,S])>1||d(p,g)})},h&&(i[p]=h(i[p])))}function d(p,h){try{c(o[p](h))}catch(g){v(l[0][3],g)}}function c(p){p.value instanceof _e?Promise.resolve(p.value.v).then(f,m):v(l[0][2],p)}function f(p){d("next",p)}function m(p){d("throw",p)}function v(p,h){p(h),l.shift(),l.length&&d(l[0][0],l[0][1])}}function Kt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof al=="function"?al(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(l){n[l]=e[l]&&function(a){return new Promise(function(u,d){a=e[l](a),i(u,d,a.done,a.value)})}}function i(l,a,u,d){Promise.resolve(d).then(function(c){l({value:c,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Td(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:ws(n)}function ws(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function _d(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function rl(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const i=[];let l=!0;for(;o<n&&e[o].role==="model";)i.push(e[o]),l&&!ws(e[o])&&(l=!1),o++;l?t.push(...i):t.pop()}return t}class Ed{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Id(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Id{constructor(t,n,o,i={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=i,this.history=l,this.sendPromise=Promise.resolve(),_d(l)}async sendMessage(t){var n;await this.sendPromise;const o=Re(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,a,u;const d=await i,c=(a=(l=d.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content,f=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];f!=null&&(v=(u=f.slice(m))!==null&&u!==void 0?u:[]);const p=c?[c]:[];this.recordHistory(o,p,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const o=Re(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const l=await i;return this.processStreamResponse(l,o)}getHistory(t=!1){const n=t?rl(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var o,i;return Lt(this,arguments,function*(){var a,u,d,c;const f=[];try{for(var m=!0,v=Kt(t),p;p=yield _e(v.next()),a=p.done,!a;m=!0){c=p.value,m=!1;const h=c;if(Td(h)){const g=(i=(o=h.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;g!==void 0&&f.push(g)}yield yield _e(h)}}catch(h){u={error:h}}finally{try{!m&&!a&&(d=v.return)&&(yield _e(d.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let i=[];n.length>0&&n.every(l=>l.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...rl(o)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fn extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Fn.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ad(e){const t={},n=s(e,["file"]);return n!=null&&r(t,["file"],n),t}function bd(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function wd(e){const t={},n=s(e,["name"]);return n!=null&&r(t,["_url","file"],Cs(n)),t}function Pd(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function xd(e){const t={},n=s(e,["name"]);return n!=null&&r(t,["_url","file"],Cs(n)),t}function Rd(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);return t!==void 0&&i!=null&&r(t,["_query","pageToken"],i),n}function kd(e){const t={},n=s(e,["config"]);return n!=null&&Rd(n,t),t}function Md(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["files"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nd extends ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Mt(ot.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kd(t);return l=$("files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=Md(d),f=new Jr;return Object.assign(f,c),f})}}async createInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ad(t);return l=$("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=bd(d),f=new zr;return Object.assign(f,c),f})}}async get(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xd(t);return l=$("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wd(t);return l=$("files/{file}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=Pd(d),f=new Or;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hn(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Vd(e){const t={},n=s(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Yd(l))),r(t,["parts"],i)}const o=s(e,["role"]);return o!=null&&r(t,["role"],o),t}function Dd(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Ld(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&r(t,["description"],n);const o=s(e,["name"]);o!=null&&r(t,["name"],o);const i=s(e,["parameters"]);i!=null&&r(t,["parameters"],i);const l=s(e,["parametersJsonSchema"]);l!=null&&r(t,["parametersJsonSchema"],l);const a=s(e,["response"]);a!=null&&r(t,["response"],a);const u=s(e,["responseJsonSchema"]);return u!=null&&r(t,["responseJsonSchema"],u),t}function Fd(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&r(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&r(t,["responseJsonSchema"],o);const i=s(e,["audioTimestamp"]);i!=null&&r(t,["audioTimestamp"],i);const l=s(e,["candidateCount"]);l!=null&&r(t,["candidateCount"],l);const a=s(e,["enableAffectiveDialog"]);a!=null&&r(t,["enableAffectiveDialog"],a);const u=s(e,["frequencyPenalty"]);u!=null&&r(t,["frequencyPenalty"],u);const d=s(e,["logprobs"]);d!=null&&r(t,["logprobs"],d);const c=s(e,["maxOutputTokens"]);c!=null&&r(t,["maxOutputTokens"],c);const f=s(e,["mediaResolution"]);f!=null&&r(t,["mediaResolution"],f);const m=s(e,["presencePenalty"]);m!=null&&r(t,["presencePenalty"],m);const v=s(e,["responseLogprobs"]);v!=null&&r(t,["responseLogprobs"],v);const p=s(e,["responseMimeType"]);p!=null&&r(t,["responseMimeType"],p);const h=s(e,["responseModalities"]);h!=null&&r(t,["responseModalities"],h);const g=s(e,["responseSchema"]);g!=null&&r(t,["responseSchema"],g);const y=s(e,["routingConfig"]);y!=null&&r(t,["routingConfig"],y);const S=s(e,["seed"]);S!=null&&r(t,["seed"],S);const E=s(e,["speechConfig"]);E!=null&&r(t,["speechConfig"],Ps(E));const _=s(e,["stopSequences"]);_!=null&&r(t,["stopSequences"],_);const w=s(e,["temperature"]);w!=null&&r(t,["temperature"],w);const x=s(e,["thinkingConfig"]);x!=null&&r(t,["thinkingConfig"],x);const P=s(e,["topK"]);P!=null&&r(t,["topK"],P);const I=s(e,["topP"]);if(I!=null&&r(t,["topP"],I),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ud(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function qd(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function Gd(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig"],o);const i=s(e,["responseModalities"]);t!==void 0&&i!=null&&r(t,["setup","generationConfig","responseModalities"],i);const l=s(e,["temperature"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig","temperature"],l);const a=s(e,["topP"]);t!==void 0&&a!=null&&r(t,["setup","generationConfig","topP"],a);const u=s(e,["topK"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","speechConfig"],ko(m));const v=s(e,["thinkingConfig"]);t!==void 0&&v!=null&&r(t,["setup","generationConfig","thinkingConfig"],v);const p=s(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const h=s(e,["systemInstruction"]);t!==void 0&&h!=null&&r(t,["setup","systemInstruction"],Vd(Re(h)));const g=s(e,["tools"]);if(t!==void 0&&g!=null){let P=$t(g);Array.isArray(P)&&(P=P.map(I=>Qd(Ht(I)))),r(t,["setup","tools"],P)}const y=s(e,["sessionResumption"]);t!==void 0&&y!=null&&r(t,["setup","sessionResumption"],Xd(y));const S=s(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&r(t,["setup","inputAudioTranscription"],S);const E=s(e,["outputAudioTranscription"]);t!==void 0&&E!=null&&r(t,["setup","outputAudioTranscription"],E);const _=s(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&r(t,["setup","realtimeInputConfig"],_);const w=s(e,["contextWindowCompression"]);t!==void 0&&w!=null&&r(t,["setup","contextWindowCompression"],w);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&r(t,["setup","proactivity"],x),n}function Bd(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig"],Fd(o));const i=s(e,["responseModalities"]);t!==void 0&&i!=null&&r(t,["setup","generationConfig","responseModalities"],i);const l=s(e,["temperature"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig","temperature"],l);const a=s(e,["topP"]);t!==void 0&&a!=null&&r(t,["setup","generationConfig","topP"],a);const u=s(e,["topK"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","speechConfig"],Ps(ko(m)));const v=s(e,["thinkingConfig"]);t!==void 0&&v!=null&&r(t,["setup","generationConfig","thinkingConfig"],v);const p=s(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const h=s(e,["systemInstruction"]);t!==void 0&&h!=null&&r(t,["setup","systemInstruction"],Re(h));const g=s(e,["tools"]);if(t!==void 0&&g!=null){let P=$t(g);Array.isArray(P)&&(P=P.map(I=>Zd(Ht(I)))),r(t,["setup","tools"],P)}const y=s(e,["sessionResumption"]);t!==void 0&&y!=null&&r(t,["setup","sessionResumption"],y);const S=s(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&r(t,["setup","inputAudioTranscription"],S);const E=s(e,["outputAudioTranscription"]);t!==void 0&&E!=null&&r(t,["setup","outputAudioTranscription"],E);const _=s(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&r(t,["setup","realtimeInputConfig"],_);const w=s(e,["contextWindowCompression"]);t!==void 0&&w!=null&&r(t,["setup","contextWindowCompression"],w);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&r(t,["setup","proactivity"],x),n}function Hd(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["setup","model"],fe(e,o));const i=s(t,["config"]);return i!=null&&r(n,["config"],Gd(i,n)),n}function $d(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["setup","model"],fe(e,o));const i=s(t,["config"]);return i!=null&&r(n,["config"],Bd(i,n)),n}function Jd(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&r(t,["musicGenerationConfig"],n),t}function zd(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),r(t,["weightedPrompts"],o)}return t}function Od(e){const t={},n=s(e,["media"]);if(n!=null){let c=ps(n);Array.isArray(c)&&(c=c.map(f=>hn(f))),r(t,["mediaChunks"],c)}const o=s(e,["audio"]);o!=null&&r(t,["audio"],hn(hs(o)));const i=s(e,["audioStreamEnd"]);i!=null&&r(t,["audioStreamEnd"],i);const l=s(e,["video"]);l!=null&&r(t,["video"],hn(gs(l)));const a=s(e,["text"]);a!=null&&r(t,["text"],a);const u=s(e,["activityStart"]);u!=null&&r(t,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&r(t,["activityEnd"],d),t}function Wd(e){const t={},n=s(e,["media"]);if(n!=null){let c=ps(n);Array.isArray(c)&&(c=c.map(f=>f)),r(t,["mediaChunks"],c)}const o=s(e,["audio"]);o!=null&&r(t,["audio"],hs(o));const i=s(e,["audioStreamEnd"]);i!=null&&r(t,["audioStreamEnd"],i);const l=s(e,["video"]);l!=null&&r(t,["video"],gs(l));const a=s(e,["text"]);a!=null&&r(t,["text"],a);const u=s(e,["activityStart"]);u!=null&&r(t,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&r(t,["activityEnd"],d),t}function Kd(e){const t={},n=s(e,["setupComplete"]);n!=null&&r(t,["setupComplete"],n);const o=s(e,["serverContent"]);o!=null&&r(t,["serverContent"],o);const i=s(e,["toolCall"]);i!=null&&r(t,["toolCall"],i);const l=s(e,["toolCallCancellation"]);l!=null&&r(t,["toolCallCancellation"],l);const a=s(e,["usageMetadata"]);a!=null&&r(t,["usageMetadata"],jd(a));const u=s(e,["goAway"]);u!=null&&r(t,["goAway"],u);const d=s(e,["sessionResumptionUpdate"]);return d!=null&&r(t,["sessionResumptionUpdate"],d),t}function Yd(e){const t={},n=s(e,["functionCall"]);n!=null&&r(t,["functionCall"],n);const o=s(e,["codeExecutionResult"]);o!=null&&r(t,["codeExecutionResult"],o);const i=s(e,["executableCode"]);i!=null&&r(t,["executableCode"],i);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],Dd(l));const a=s(e,["functionResponse"]);a!=null&&r(t,["functionResponse"],a);const u=s(e,["inlineData"]);u!=null&&r(t,["inlineData"],hn(u));const d=s(e,["text"]);d!=null&&r(t,["text"],d);const c=s(e,["thought"]);c!=null&&r(t,["thought"],c);const f=s(e,["thoughtSignature"]);f!=null&&r(t,["thoughtSignature"],f);const m=s(e,["videoMetadata"]);return m!=null&&r(t,["videoMetadata"],m),t}function Xd(e){const t={},n=s(e,["handle"]);if(n!=null&&r(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ps(e){const t={},n=s(e,["languageCode"]);n!=null&&r(t,["languageCode"],n);const o=s(e,["voiceConfig"]);if(o!=null&&r(t,["voiceConfig"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Qd(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),r(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&r(t,["googleSearchRetrieval"],o);const i=s(e,["computerUse"]);i!=null&&r(t,["computerUse"],i);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],Ud(u));const d=s(e,["googleSearch"]);d!=null&&r(t,["googleSearch"],qd(d));const c=s(e,["urlContext"]);return c!=null&&r(t,["urlContext"],c),t}function Zd(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>Ld(v))),r(t,["functionDeclarations"],m)}const o=s(e,["retrieval"]);o!=null&&r(t,["retrieval"],o);const i=s(e,["googleSearchRetrieval"]);i!=null&&r(t,["googleSearchRetrieval"],i);const l=s(e,["computerUse"]);if(l!=null&&r(t,["computerUse"],l),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&r(t,["codeExecution"],a);const u=s(e,["enterpriseWebSearch"]);u!=null&&r(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&r(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&r(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&r(t,["urlContext"],f),t}function jd(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&r(t,["promptTokenCount"],n);const o=s(e,["cachedContentTokenCount"]);o!=null&&r(t,["cachedContentTokenCount"],o);const i=s(e,["candidatesTokenCount"]);i!=null&&r(t,["responseTokenCount"],i);const l=s(e,["toolUsePromptTokenCount"]);l!=null&&r(t,["toolUsePromptTokenCount"],l);const a=s(e,["thoughtsTokenCount"]);a!=null&&r(t,["thoughtsTokenCount"],a);const u=s(e,["totalTokenCount"]);u!=null&&r(t,["totalTokenCount"],u);const d=s(e,["promptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),r(t,["promptTokensDetails"],p)}const c=s(e,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>h)),r(t,["cacheTokensDetails"],p)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),r(t,["responseTokensDetails"],p)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>h)),r(t,["toolUsePromptTokensDetails"],p)}const v=s(e,["trafficType"]);return v!=null&&r(t,["trafficType"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ec(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function tc(e){const t={},n=s(e,["content"]);n!=null&&r(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&r(t,["citationMetadata"],nc(o));const i=s(e,["tokenCount"]);i!=null&&r(t,["tokenCount"],i);const l=s(e,["finishReason"]);l!=null&&r(t,["finishReason"],l);const a=s(e,["avgLogprobs"]);a!=null&&r(t,["avgLogprobs"],a);const u=s(e,["groundingMetadata"]);u!=null&&r(t,["groundingMetadata"],u);const d=s(e,["index"]);d!=null&&r(t,["index"],d);const c=s(e,["logprobsResult"]);c!=null&&r(t,["logprobsResult"],c);const f=s(e,["safetyRatings"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(p=>p)),r(t,["safetyRatings"],v)}const m=s(e,["urlContextMetadata"]);return m!=null&&r(t,["urlContextMetadata"],m),t}function nc(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),r(t,["citations"],o)}return t}function oc(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["contents"]);if(i!=null){let l=$e(i);Array.isArray(l)&&(l=l.map(a=>a)),r(n,["contents"],l)}return n}function ic(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),r(t,["tokensInfo"],i)}return t}function lc(e){const t={},n=s(e,["values"]);n!=null&&r(t,["values"],n);const o=s(e,["statistics"]);return o!=null&&r(t,["statistics"],sc(o)),t}function sc(e){const t={},n=s(e,["truncated"]);n!=null&&r(t,["truncated"],n);const o=s(e,["token_count"]);return o!=null&&r(t,["tokenCount"],o),t}function Un(e){const t={},n=s(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ff(l))),r(t,["parts"],i)}const o=s(e,["role"]);return o!=null&&r(t,["role"],o),t}function ac(e){const t={},n=s(e,["controlType"]);n!=null&&r(t,["controlType"],n);const o=s(e,["enableControlImageComputation"]);return o!=null&&r(t,["computeControl"],o),t}function rc(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function uc(e,t){const n={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&r(t,["systemInstruction"],Re(o));const i=s(e,["tools"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Ns(u))),r(t,["tools"],a)}const l=s(e,["generationConfig"]);return t!==void 0&&l!=null&&r(t,["generationConfig"],Zc(l)),n}function dc(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["contents"]);if(i!=null){let a=$e(i);Array.isArray(a)&&(a=a.map(u=>Un(u))),r(n,["contents"],a)}const l=s(t,["config"]);return l!=null&&rc(l),n}function cc(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["contents"]);if(i!=null){let a=$e(i);Array.isArray(a)&&(a=a.map(u=>u)),r(n,["contents"],a)}const l=s(t,["config"]);return l!=null&&uc(l,n),n}function fc(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);o!=null&&r(t,["totalTokens"],o);const i=s(e,["cachedContentTokenCount"]);return i!=null&&r(t,["cachedContentTokenCount"],i),t}function mc(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);return o!=null&&r(t,["totalTokens"],o),t}function vc(e,t){const n={},o=s(t,["model"]);return o!=null&&r(n,["_url","name"],fe(e,o)),n}function pc(e,t){const n={},o=s(t,["model"]);return o!=null&&r(n,["_url","name"],fe(e,o)),n}function gc(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function hc(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function yc(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const i=s(e,["negativePrompt"]);t!==void 0&&i!=null&&r(t,["parameters","negativePrompt"],i);const l=s(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const a=s(e,["aspectRatio"]);t!==void 0&&a!=null&&r(t,["parameters","aspectRatio"],a);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&r(t,["parameters","guidanceScale"],u);const d=s(e,["seed"]);t!==void 0&&d!=null&&r(t,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&r(t,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&r(t,["parameters","personGeneration"],f);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&r(t,["parameters","includeSafetyAttributes"],m);const v=s(e,["includeRaiReason"]);t!==void 0&&v!=null&&r(t,["parameters","includeRaiReason"],v);const p=s(e,["language"]);t!==void 0&&p!=null&&r(t,["parameters","language"],p);const h=s(e,["outputMimeType"]);t!==void 0&&h!=null&&r(t,["parameters","outputOptions","mimeType"],h);const g=s(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&r(t,["parameters","outputOptions","compressionQuality"],g);const y=s(e,["addWatermark"]);t!==void 0&&y!=null&&r(t,["parameters","addWatermark"],y);const S=s(e,["labels"]);t!==void 0&&S!=null&&r(t,["labels"],S);const E=s(e,["editMode"]);t!==void 0&&E!=null&&r(t,["parameters","editMode"],E);const _=s(e,["baseSteps"]);return t!==void 0&&_!=null&&r(t,["parameters","editConfig","baseSteps"],_),n}function Sc(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["prompt"]);i!=null&&r(n,["instances[0]","prompt"],i);const l=s(t,["referenceImages"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>yf(d))),r(n,["instances[0]","referenceImages"],u)}const a=s(t,["config"]);return a!=null&&yc(a,n),n}function Cc(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>qn(l))),r(t,["generatedImages"],i)}return t}function Tc(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&r(t,["requests[]","taskType"],o);const i=s(e,["title"]);t!==void 0&&i!=null&&r(t,["requests[]","title"],i);const l=s(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&r(t,["requests[]","outputDimensionality"],l),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function _c(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&r(t,["instances[]","task_type"],o);const i=s(e,["title"]);t!==void 0&&i!=null&&r(t,["instances[]","title"],i);const l=s(e,["outputDimensionality"]);t!==void 0&&l!=null&&r(t,["parameters","outputDimensionality"],l);const a=s(e,["mimeType"]);t!==void 0&&a!=null&&r(t,["instances[]","mimeType"],a);const u=s(e,["autoTruncate"]);return t!==void 0&&u!=null&&r(t,["parameters","autoTruncate"],u),n}function Ec(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["contents"]);if(i!=null){let u=Po(e,i);Array.isArray(u)&&(u=u.map(d=>d)),r(n,["requests[]","content"],u)}const l=s(t,["config"]);l!=null&&Tc(l,n);const a=s(t,["model"]);return a!==void 0&&r(n,["requests[]","model"],fe(e,a)),n}function Ic(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["contents"]);if(i!=null){let a=Po(e,i);Array.isArray(a)&&(a=a.map(u=>u)),r(n,["instances[]","content"],a)}const l=s(t,["config"]);return l!=null&&_c(l,n),n}function Ac(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["embeddings"],l)}const i=s(e,["metadata"]);return i!=null&&r(t,["metadata"],i),t}function bc(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>lc(a))),r(t,["embeddings"],l)}const i=s(e,["metadata"]);return i!=null&&r(t,["metadata"],i),t}function wc(e){const t={},n=s(e,["endpoint"]);n!=null&&r(t,["name"],n);const o=s(e,["deployedModelId"]);return o!=null&&r(t,["deployedModelId"],o),t}function Pc(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function xc(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&r(t,["description"],n);const o=s(e,["name"]);o!=null&&r(t,["name"],o);const i=s(e,["parameters"]);i!=null&&r(t,["parameters"],i);const l=s(e,["parametersJsonSchema"]);l!=null&&r(t,["parametersJsonSchema"],l);const a=s(e,["response"]);a!=null&&r(t,["response"],a);const u=s(e,["responseJsonSchema"]);return u!=null&&r(t,["responseJsonSchema"],u),t}function Rc(e,t,n){const o={},i=s(t,["systemInstruction"]);n!==void 0&&i!=null&&r(n,["systemInstruction"],Un(Re(i)));const l=s(t,["temperature"]);l!=null&&r(o,["temperature"],l);const a=s(t,["topP"]);a!=null&&r(o,["topP"],a);const u=s(t,["topK"]);u!=null&&r(o,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&r(o,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&r(o,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&r(o,["stopSequences"],f);const m=s(t,["responseLogprobs"]);m!=null&&r(o,["responseLogprobs"],m);const v=s(t,["logprobs"]);v!=null&&r(o,["logprobs"],v);const p=s(t,["presencePenalty"]);p!=null&&r(o,["presencePenalty"],p);const h=s(t,["frequencyPenalty"]);h!=null&&r(o,["frequencyPenalty"],h);const g=s(t,["seed"]);g!=null&&r(o,["seed"],g);const y=s(t,["responseMimeType"]);y!=null&&r(o,["responseMimeType"],y);const S=s(t,["responseSchema"]);S!=null&&r(o,["responseSchema"],xo(S));const E=s(t,["responseJsonSchema"]);if(E!=null&&r(o,["responseJsonSchema"],E),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=s(t,["safetySettings"]);if(n!==void 0&&_!=null){let D=_;Array.isArray(D)&&(D=D.map(U=>Sf(U))),r(n,["safetySettings"],D)}const w=s(t,["tools"]);if(n!==void 0&&w!=null){let D=$t(w);Array.isArray(D)&&(D=D.map(U=>Af(Ht(U)))),r(n,["tools"],D)}const x=s(t,["toolConfig"]);if(n!==void 0&&x!=null&&r(n,["toolConfig"],x),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=s(t,["cachedContent"]);n!==void 0&&P!=null&&r(n,["cachedContent"],dt(e,P));const I=s(t,["responseModalities"]);I!=null&&r(o,["responseModalities"],I);const b=s(t,["mediaResolution"]);b!=null&&r(o,["mediaResolution"],b);const A=s(t,["speechConfig"]);if(A!=null&&r(o,["speechConfig"],Ro(A)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=s(t,["thinkingConfig"]);k!=null&&r(o,["thinkingConfig"],k);const N=s(t,["imageConfig"]);return N!=null&&r(o,["imageConfig"],N),o}function kc(e,t,n){const o={},i=s(t,["systemInstruction"]);n!==void 0&&i!=null&&r(n,["systemInstruction"],Re(i));const l=s(t,["temperature"]);l!=null&&r(o,["temperature"],l);const a=s(t,["topP"]);a!=null&&r(o,["topP"],a);const u=s(t,["topK"]);u!=null&&r(o,["topK"],u);const d=s(t,["candidateCount"]);d!=null&&r(o,["candidateCount"],d);const c=s(t,["maxOutputTokens"]);c!=null&&r(o,["maxOutputTokens"],c);const f=s(t,["stopSequences"]);f!=null&&r(o,["stopSequences"],f);const m=s(t,["responseLogprobs"]);m!=null&&r(o,["responseLogprobs"],m);const v=s(t,["logprobs"]);v!=null&&r(o,["logprobs"],v);const p=s(t,["presencePenalty"]);p!=null&&r(o,["presencePenalty"],p);const h=s(t,["frequencyPenalty"]);h!=null&&r(o,["frequencyPenalty"],h);const g=s(t,["seed"]);g!=null&&r(o,["seed"],g);const y=s(t,["responseMimeType"]);y!=null&&r(o,["responseMimeType"],y);const S=s(t,["responseSchema"]);S!=null&&r(o,["responseSchema"],xo(S));const E=s(t,["responseJsonSchema"]);E!=null&&r(o,["responseJsonSchema"],E);const _=s(t,["routingConfig"]);_!=null&&r(o,["routingConfig"],_);const w=s(t,["modelSelectionConfig"]);w!=null&&r(o,["modelConfig"],w);const x=s(t,["safetySettings"]);if(n!==void 0&&x!=null){let H=x;Array.isArray(H)&&(H=H.map(X=>X)),r(n,["safetySettings"],H)}const P=s(t,["tools"]);if(n!==void 0&&P!=null){let H=$t(P);Array.isArray(H)&&(H=H.map(X=>Ns(Ht(X)))),r(n,["tools"],H)}const I=s(t,["toolConfig"]);n!==void 0&&I!=null&&r(n,["toolConfig"],I);const b=s(t,["labels"]);n!==void 0&&b!=null&&r(n,["labels"],b);const A=s(t,["cachedContent"]);n!==void 0&&A!=null&&r(n,["cachedContent"],dt(e,A));const k=s(t,["responseModalities"]);k!=null&&r(o,["responseModalities"],k);const N=s(t,["mediaResolution"]);N!=null&&r(o,["mediaResolution"],N);const D=s(t,["speechConfig"]);D!=null&&r(o,["speechConfig"],Ms(Ro(D)));const U=s(t,["audioTimestamp"]);U!=null&&r(o,["audioTimestamp"],U);const V=s(t,["thinkingConfig"]);V!=null&&r(o,["thinkingConfig"],V);const G=s(t,["imageConfig"]);return G!=null&&r(o,["imageConfig"],G),o}function ul(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["contents"]);if(i!=null){let a=$e(i);Array.isArray(a)&&(a=a.map(u=>Un(u))),r(n,["contents"],a)}const l=s(t,["config"]);return l!=null&&r(n,["generationConfig"],Rc(e,l,n)),n}function dl(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["contents"]);if(i!=null){let a=$e(i);Array.isArray(a)&&(a=a.map(u=>u)),r(n,["contents"],a)}const l=s(t,["config"]);return l!=null&&r(n,["generationConfig"],kc(e,l,n)),n}function cl(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>tc(c))),r(t,["candidates"],d)}const i=s(e,["modelVersion"]);i!=null&&r(t,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&r(t,["promptFeedback"],l);const a=s(e,["responseId"]);a!=null&&r(t,["responseId"],a);const u=s(e,["usageMetadata"]);return u!=null&&r(t,["usageMetadata"],u),t}function fl(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),r(t,["candidates"],c)}const i=s(e,["createTime"]);i!=null&&r(t,["createTime"],i);const l=s(e,["modelVersion"]);l!=null&&r(t,["modelVersion"],l);const a=s(e,["promptFeedback"]);a!=null&&r(t,["promptFeedback"],a);const u=s(e,["responseId"]);u!=null&&r(t,["responseId"],u);const d=s(e,["usageMetadata"]);return d!=null&&r(t,["usageMetadata"],d),t}function Mc(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&r(t,["parameters","sampleCount"],o);const i=s(e,["aspectRatio"]);t!==void 0&&i!=null&&r(t,["parameters","aspectRatio"],i);const l=s(e,["guidanceScale"]);if(t!==void 0&&l!=null&&r(t,["parameters","guidanceScale"],l),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&r(t,["parameters","safetySetting"],a);const u=s(e,["personGeneration"]);t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u);const d=s(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&r(t,["parameters","includeSafetyAttributes"],d);const c=s(e,["includeRaiReason"]);t!==void 0&&c!=null&&r(t,["parameters","includeRaiReason"],c);const f=s(e,["language"]);t!==void 0&&f!=null&&r(t,["parameters","language"],f);const m=s(e,["outputMimeType"]);t!==void 0&&m!=null&&r(t,["parameters","outputOptions","mimeType"],m);const v=s(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&r(t,["parameters","outputOptions","compressionQuality"],v),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const p=s(e,["imageSize"]);if(t!==void 0&&p!=null&&r(t,["parameters","sampleImageSize"],p),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Nc(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const i=s(e,["negativePrompt"]);t!==void 0&&i!=null&&r(t,["parameters","negativePrompt"],i);const l=s(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const a=s(e,["aspectRatio"]);t!==void 0&&a!=null&&r(t,["parameters","aspectRatio"],a);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&r(t,["parameters","guidanceScale"],u);const d=s(e,["seed"]);t!==void 0&&d!=null&&r(t,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&r(t,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&r(t,["parameters","personGeneration"],f);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&r(t,["parameters","includeSafetyAttributes"],m);const v=s(e,["includeRaiReason"]);t!==void 0&&v!=null&&r(t,["parameters","includeRaiReason"],v);const p=s(e,["language"]);t!==void 0&&p!=null&&r(t,["parameters","language"],p);const h=s(e,["outputMimeType"]);t!==void 0&&h!=null&&r(t,["parameters","outputOptions","mimeType"],h);const g=s(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&r(t,["parameters","outputOptions","compressionQuality"],g);const y=s(e,["addWatermark"]);t!==void 0&&y!=null&&r(t,["parameters","addWatermark"],y);const S=s(e,["labels"]);t!==void 0&&S!=null&&r(t,["labels"],S);const E=s(e,["imageSize"]);t!==void 0&&E!=null&&r(t,["parameters","sampleImageSize"],E);const _=s(e,["enhancePrompt"]);return t!==void 0&&_!=null&&r(t,["parameters","enhancePrompt"],_),n}function Vc(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["prompt"]);i!=null&&r(n,["instances[0]","prompt"],i);const l=s(t,["config"]);return l!=null&&Mc(l,n),n}function Dc(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["prompt"]);i!=null&&r(n,["instances[0]","prompt"],i);const l=s(t,["config"]);return l!=null&&Nc(l,n),n}function Lc(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>Kc(a))),r(t,["generatedImages"],l)}const i=s(e,["positivePromptSafetyAttributes"]);return i!=null&&r(t,["positivePromptSafetyAttributes"],Rs(i)),t}function Fc(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>qn(a))),r(t,["generatedImages"],l)}const i=s(e,["positivePromptSafetyAttributes"]);return i!=null&&r(t,["positivePromptSafetyAttributes"],ks(i)),t}function Uc(e,t){const n={},o=s(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&r(t,["parameters","sampleCount"],o),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=s(e,["durationSeconds"]);if(t!==void 0&&i!=null&&r(t,["parameters","durationSeconds"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&r(t,["parameters","aspectRatio"],l);const a=s(e,["resolution"]);t!==void 0&&a!=null&&r(t,["parameters","resolution"],a);const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(e,["negativePrompt"]);t!==void 0&&d!=null&&r(t,["parameters","negativePrompt"],d);const c=s(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&r(t,["parameters","enhancePrompt"],c),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);t!==void 0&&f!=null&&r(t,["instances[0]","lastFrame"],Gn(f));const m=s(e,["referenceImages"]);if(t!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(p=>Uf(p))),r(t,["instances[0]","referenceImages"],v)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function qc(e,t){const n={},o=s(e,["numberOfVideos"]);t!==void 0&&o!=null&&r(t,["parameters","sampleCount"],o);const i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&r(t,["parameters","storageUri"],i);const l=s(e,["fps"]);t!==void 0&&l!=null&&r(t,["parameters","fps"],l);const a=s(e,["durationSeconds"]);t!==void 0&&a!=null&&r(t,["parameters","durationSeconds"],a);const u=s(e,["seed"]);t!==void 0&&u!=null&&r(t,["parameters","seed"],u);const d=s(e,["aspectRatio"]);t!==void 0&&d!=null&&r(t,["parameters","aspectRatio"],d);const c=s(e,["resolution"]);t!==void 0&&c!=null&&r(t,["parameters","resolution"],c);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&r(t,["parameters","personGeneration"],f);const m=s(e,["pubsubTopic"]);t!==void 0&&m!=null&&r(t,["parameters","pubsubTopic"],m);const v=s(e,["negativePrompt"]);t!==void 0&&v!=null&&r(t,["parameters","negativePrompt"],v);const p=s(e,["enhancePrompt"]);t!==void 0&&p!=null&&r(t,["parameters","enhancePrompt"],p);const h=s(e,["generateAudio"]);t!==void 0&&h!=null&&r(t,["parameters","generateAudio"],h);const g=s(e,["lastFrame"]);t!==void 0&&g!=null&&r(t,["instances[0]","lastFrame"],We(g));const y=s(e,["referenceImages"]);if(t!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(w=>qf(w))),r(t,["instances[0]","referenceImages"],_)}const S=s(e,["mask"]);t!==void 0&&S!=null&&r(t,["instances[0]","mask"],Ff(S));const E=s(e,["compressionQuality"]);return t!==void 0&&E!=null&&r(t,["parameters","compressionQuality"],E),n}function Gc(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["metadata"]);o!=null&&r(t,["metadata"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response","generateVideoResponse"]);return a!=null&&r(t,["response"],Jc(a)),t}function Bc(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["metadata"]);o!=null&&r(t,["metadata"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],zc(a)),t}function Hc(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["prompt"]);i!=null&&r(n,["instances[0]","prompt"],i);const l=s(t,["image"]);l!=null&&r(n,["instances[0]","image"],Gn(l));const a=s(t,["video"]);a!=null&&r(n,["instances[0]","video"],Vs(a));const u=s(t,["source"]);u!=null&&Oc(u,n);const d=s(t,["config"]);return d!=null&&Uc(d,n),n}function $c(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["prompt"]);i!=null&&r(n,["instances[0]","prompt"],i);const l=s(t,["image"]);l!=null&&r(n,["instances[0]","image"],We(l));const a=s(t,["video"]);a!=null&&r(n,["instances[0]","video"],Ds(a));const u=s(t,["source"]);u!=null&&Wc(u,n);const d=s(t,["config"]);return d!=null&&qc(d,n),n}function Jc(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>Xc(a))),r(t,["generatedVideos"],l)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&r(t,["raiMediaFilteredCount"],o);const i=s(e,["raiMediaFilteredReasons"]);return i!=null&&r(t,["raiMediaFilteredReasons"],i),t}function zc(e){const t={},n=s(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>Qc(a))),r(t,["generatedVideos"],l)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&r(t,["raiMediaFilteredCount"],o);const i=s(e,["raiMediaFilteredReasons"]);return i!=null&&r(t,["raiMediaFilteredReasons"],i),t}function Oc(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&r(t,["instances[0]","prompt"],o);const i=s(e,["image"]);t!==void 0&&i!=null&&r(t,["instances[0]","image"],Gn(i));const l=s(e,["video"]);return t!==void 0&&l!=null&&r(t,["instances[0]","video"],Vs(l)),n}function Wc(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&r(t,["instances[0]","prompt"],o);const i=s(e,["image"]);t!==void 0&&i!=null&&r(t,["instances[0]","image"],We(i));const l=s(e,["video"]);return t!==void 0&&l!=null&&r(t,["instances[0]","video"],Ds(l)),n}function Kc(e){const t={},n=s(e,["_self"]);n!=null&&r(t,["image"],of(n));const o=s(e,["raiFilteredReason"]);o!=null&&r(t,["raiFilteredReason"],o);const i=s(e,["_self"]);return i!=null&&r(t,["safetyAttributes"],Rs(i)),t}function qn(e){const t={},n=s(e,["_self"]);n!=null&&r(t,["image"],xs(n));const o=s(e,["raiFilteredReason"]);o!=null&&r(t,["raiFilteredReason"],o);const i=s(e,["_self"]);i!=null&&r(t,["safetyAttributes"],ks(i));const l=s(e,["prompt"]);return l!=null&&r(t,["enhancedPrompt"],l),t}function Yc(e){const t={},n=s(e,["_self"]);n!=null&&r(t,["mask"],xs(n));const o=s(e,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),r(t,["labels"],i)}return t}function Xc(e){const t={},n=s(e,["video"]);return n!=null&&r(t,["video"],Df(n)),t}function Qc(e){const t={},n=s(e,["_self"]);return n!=null&&r(t,["video"],Lf(n)),t}function Zc(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&r(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&r(t,["responseJsonSchema"],o);const i=s(e,["audioTimestamp"]);i!=null&&r(t,["audioTimestamp"],i);const l=s(e,["candidateCount"]);l!=null&&r(t,["candidateCount"],l);const a=s(e,["enableAffectiveDialog"]);a!=null&&r(t,["enableAffectiveDialog"],a);const u=s(e,["frequencyPenalty"]);u!=null&&r(t,["frequencyPenalty"],u);const d=s(e,["logprobs"]);d!=null&&r(t,["logprobs"],d);const c=s(e,["maxOutputTokens"]);c!=null&&r(t,["maxOutputTokens"],c);const f=s(e,["mediaResolution"]);f!=null&&r(t,["mediaResolution"],f);const m=s(e,["presencePenalty"]);m!=null&&r(t,["presencePenalty"],m);const v=s(e,["responseLogprobs"]);v!=null&&r(t,["responseLogprobs"],v);const p=s(e,["responseMimeType"]);p!=null&&r(t,["responseMimeType"],p);const h=s(e,["responseModalities"]);h!=null&&r(t,["responseModalities"],h);const g=s(e,["responseSchema"]);g!=null&&r(t,["responseSchema"],g);const y=s(e,["routingConfig"]);y!=null&&r(t,["routingConfig"],y);const S=s(e,["seed"]);S!=null&&r(t,["seed"],S);const E=s(e,["speechConfig"]);E!=null&&r(t,["speechConfig"],Ms(E));const _=s(e,["stopSequences"]);_!=null&&r(t,["stopSequences"],_);const w=s(e,["temperature"]);w!=null&&r(t,["temperature"],w);const x=s(e,["thinkingConfig"]);x!=null&&r(t,["thinkingConfig"],x);const P=s(e,["topK"]);P!=null&&r(t,["topK"],P);const I=s(e,["topP"]);if(I!=null&&r(t,["topP"],I),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function jc(e,t){const n={},o=s(t,["model"]);return o!=null&&r(n,["_url","name"],fe(e,o)),n}function ef(e,t){const n={},o=s(t,["model"]);return o!=null&&r(n,["_url","name"],fe(e,o)),n}function tf(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function nf(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function of(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&r(t,["imageBytes"],Tt(n));const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function xs(e){const t={},n=s(e,["gcsUri"]);n!=null&&r(t,["gcsUri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&r(t,["imageBytes"],Tt(o));const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function Gn(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&r(t,["bytesBase64Encoded"],Tt(n));const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function We(e){const t={},n=s(e,["gcsUri"]);n!=null&&r(t,["gcsUri"],n);const o=s(e,["imageBytes"]);o!=null&&r(t,["bytesBase64Encoded"],Tt(o));const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function lf(e,t,n){const o={},i=s(t,["pageSize"]);n!==void 0&&i!=null&&r(n,["_query","pageSize"],i);const l=s(t,["pageToken"]);n!==void 0&&l!=null&&r(n,["_query","pageToken"],l);const a=s(t,["filter"]);n!==void 0&&a!=null&&r(n,["_query","filter"],a);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],Ts(e,u)),o}function sf(e,t,n){const o={},i=s(t,["pageSize"]);n!==void 0&&i!=null&&r(n,["_query","pageSize"],i);const l=s(t,["pageToken"]);n!==void 0&&l!=null&&r(n,["_query","pageToken"],l);const a=s(t,["filter"]);n!==void 0&&a!=null&&r(n,["_query","filter"],a);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],Ts(e,u)),o}function af(e,t){const n={},o=s(t,["config"]);return o!=null&&lf(e,o,n),n}function rf(e,t){const n={},o=s(t,["config"]);return o!=null&&sf(e,o,n),n}function uf(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["_self"]);if(i!=null){let l=_s(i);Array.isArray(l)&&(l=l.map(a=>lo(a))),r(t,["models"],l)}return t}function df(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["_self"]);if(i!=null){let l=_s(i);Array.isArray(l)&&(l=l.map(a=>so(a))),r(t,["models"],l)}return t}function cf(e){const t={},n=s(e,["maskMode"]);n!=null&&r(t,["maskMode"],n);const o=s(e,["segmentationClasses"]);o!=null&&r(t,["maskClasses"],o);const i=s(e,["maskDilation"]);return i!=null&&r(t,["dilation"],i),t}function lo(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["displayName"]);o!=null&&r(t,["displayName"],o);const i=s(e,["description"]);i!=null&&r(t,["description"],i);const l=s(e,["version"]);l!=null&&r(t,["version"],l);const a=s(e,["_self"]);a!=null&&r(t,["tunedModelInfo"],bf(a));const u=s(e,["inputTokenLimit"]);u!=null&&r(t,["inputTokenLimit"],u);const d=s(e,["outputTokenLimit"]);d!=null&&r(t,["outputTokenLimit"],d);const c=s(e,["supportedGenerationMethods"]);return c!=null&&r(t,["supportedActions"],c),t}function so(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["displayName"]);o!=null&&r(t,["displayName"],o);const i=s(e,["description"]);i!=null&&r(t,["description"],i);const l=s(e,["versionId"]);l!=null&&r(t,["version"],l);const a=s(e,["deployedModels"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>wc(v))),r(t,["endpoints"],m)}const u=s(e,["labels"]);u!=null&&r(t,["labels"],u);const d=s(e,["_self"]);d!=null&&r(t,["tunedModelInfo"],wf(d));const c=s(e,["defaultCheckpointId"]);c!=null&&r(t,["defaultCheckpointId"],c);const f=s(e,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),r(t,["checkpoints"],m)}return t}function ff(e){const t={},n=s(e,["functionCall"]);n!=null&&r(t,["functionCall"],n);const o=s(e,["codeExecutionResult"]);o!=null&&r(t,["codeExecutionResult"],o);const i=s(e,["executableCode"]);i!=null&&r(t,["executableCode"],i);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],Pc(l));const a=s(e,["functionResponse"]);a!=null&&r(t,["functionResponse"],a);const u=s(e,["inlineData"]);u!=null&&r(t,["inlineData"],ec(u));const d=s(e,["text"]);d!=null&&r(t,["text"],d);const c=s(e,["thought"]);c!=null&&r(t,["thought"],c);const f=s(e,["thoughtSignature"]);f!=null&&r(t,["thoughtSignature"],f);const m=s(e,["videoMetadata"]);return m!=null&&r(t,["videoMetadata"],m),t}function mf(e){const t={},n=s(e,["productImage"]);return n!=null&&r(t,["image"],We(n)),t}function vf(e,t){const n={},o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&r(t,["parameters","sampleCount"],o);const i=s(e,["baseSteps"]);t!==void 0&&i!=null&&r(t,["parameters","editConfig","baseSteps"],i);const l=s(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const a=s(e,["seed"]);t!==void 0&&a!=null&&r(t,["parameters","seed"],a);const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&r(t,["parameters","safetySetting"],u);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&r(t,["parameters","personGeneration"],d);const c=s(e,["addWatermark"]);t!==void 0&&c!=null&&r(t,["parameters","addWatermark"],c);const f=s(e,["outputMimeType"]);t!==void 0&&f!=null&&r(t,["parameters","outputOptions","mimeType"],f);const m=s(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&r(t,["parameters","outputOptions","compressionQuality"],m);const v=s(e,["enhancePrompt"]);t!==void 0&&v!=null&&r(t,["parameters","enhancePrompt"],v);const p=s(e,["labels"]);return t!==void 0&&p!=null&&r(t,["labels"],p),n}function pf(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["source"]);i!=null&&hf(i,n);const l=s(t,["config"]);return l!=null&&vf(l,n),n}function gf(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>qn(i))),r(t,["generatedImages"],o)}return t}function hf(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&r(t,["instances[0]","prompt"],o);const i=s(e,["personImage"]);t!==void 0&&i!=null&&r(t,["instances[0]","personImage","image"],We(i));const l=s(e,["productImages"]);if(t!==void 0&&l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>mf(u))),r(t,["instances[0]","productImages"],a)}return n}function yf(e){const t={},n=s(e,["referenceImage"]);n!=null&&r(t,["referenceImage"],We(n));const o=s(e,["referenceId"]);o!=null&&r(t,["referenceId"],o);const i=s(e,["referenceType"]);i!=null&&r(t,["referenceType"],i);const l=s(e,["maskImageConfig"]);l!=null&&r(t,["maskImageConfig"],cf(l));const a=s(e,["controlImageConfig"]);a!=null&&r(t,["controlImageConfig"],ac(a));const u=s(e,["styleImageConfig"]);u!=null&&r(t,["styleImageConfig"],u);const d=s(e,["subjectImageConfig"]);return d!=null&&r(t,["subjectImageConfig"],d),t}function Rs(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&r(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&r(t,["scores"],o);const i=s(e,["contentType"]);return i!=null&&r(t,["contentType"],i),t}function ks(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&r(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&r(t,["scores"],o);const i=s(e,["contentType"]);return i!=null&&r(t,["contentType"],i),t}function Sf(e){const t={},n=s(e,["category"]);if(n!=null&&r(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&r(t,["threshold"],o),t}function Cf(e){const t={},n=s(e,["image"]);return n!=null&&r(t,["image"],We(n)),t}function Tf(e,t){const n={},o=s(e,["mode"]);t!==void 0&&o!=null&&r(t,["parameters","mode"],o);const i=s(e,["maxPredictions"]);t!==void 0&&i!=null&&r(t,["parameters","maxPredictions"],i);const l=s(e,["confidenceThreshold"]);t!==void 0&&l!=null&&r(t,["parameters","confidenceThreshold"],l);const a=s(e,["maskDilation"]);t!==void 0&&a!=null&&r(t,["parameters","maskDilation"],a);const u=s(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&r(t,["parameters","binaryColorThreshold"],u);const d=s(e,["labels"]);return t!==void 0&&d!=null&&r(t,["labels"],d),n}function _f(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["source"]);i!=null&&If(i,n);const l=s(t,["config"]);return l!=null&&Tf(l,n),n}function Ef(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Yc(i))),r(t,["generatedMasks"],o)}return t}function If(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&r(t,["instances[0]","prompt"],o);const i=s(e,["image"]);t!==void 0&&i!=null&&r(t,["instances[0]","image"],We(i));const l=s(e,["scribbleImage"]);return t!==void 0&&l!=null&&r(t,["instances[0]","scribble"],Cf(l)),n}function Ms(e){const t={},n=s(e,["languageCode"]);n!=null&&r(t,["languageCode"],n);const o=s(e,["voiceConfig"]);if(o!=null&&r(t,["voiceConfig"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Af(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),r(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&r(t,["googleSearchRetrieval"],o);const i=s(e,["computerUse"]);i!=null&&r(t,["computerUse"],i);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],tf(u));const d=s(e,["googleSearch"]);d!=null&&r(t,["googleSearch"],nf(d));const c=s(e,["urlContext"]);return c!=null&&r(t,["urlContext"],c),t}function Ns(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>xc(v))),r(t,["functionDeclarations"],m)}const o=s(e,["retrieval"]);o!=null&&r(t,["retrieval"],o);const i=s(e,["googleSearchRetrieval"]);i!=null&&r(t,["googleSearchRetrieval"],i);const l=s(e,["computerUse"]);if(l!=null&&r(t,["computerUse"],l),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&r(t,["codeExecution"],a);const u=s(e,["enterpriseWebSearch"]);u!=null&&r(t,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&r(t,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&r(t,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&r(t,["urlContext"],f),t}function bf(e){const t={},n=s(e,["baseModel"]);n!=null&&r(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&r(t,["createTime"],o);const i=s(e,["updateTime"]);return i!=null&&r(t,["updateTime"],i),t}function wf(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&r(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&r(t,["createTime"],o);const i=s(e,["updateTime"]);return i!=null&&r(t,["updateTime"],i),t}function Pf(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&r(t,["displayName"],o);const i=s(e,["description"]);t!==void 0&&i!=null&&r(t,["description"],i);const l=s(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&r(t,["defaultCheckpointId"],l),n}function xf(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&r(t,["displayName"],o);const i=s(e,["description"]);t!==void 0&&i!=null&&r(t,["description"],i);const l=s(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&r(t,["defaultCheckpointId"],l),n}function Rf(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","name"],fe(e,o));const i=s(t,["config"]);return i!=null&&Pf(i,n),n}function kf(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["config"]);return i!=null&&xf(i,n),n}function Mf(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const i=s(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&r(t,["parameters","safetySetting"],i);const l=s(e,["personGeneration"]);t!==void 0&&l!=null&&r(t,["parameters","personGeneration"],l);const a=s(e,["includeRaiReason"]);t!==void 0&&a!=null&&r(t,["parameters","includeRaiReason"],a);const u=s(e,["outputMimeType"]);t!==void 0&&u!=null&&r(t,["parameters","outputOptions","mimeType"],u);const d=s(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&r(t,["parameters","outputOptions","compressionQuality"],d);const c=s(e,["enhanceInputImage"]);t!==void 0&&c!=null&&r(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&r(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=s(e,["labels"]);t!==void 0&&m!=null&&r(t,["labels"],m);const v=s(e,["numberOfImages"]);t!==void 0&&v!=null&&r(t,["parameters","sampleCount"],v);const p=s(e,["mode"]);return t!==void 0&&p!=null&&r(t,["parameters","mode"],p),n}function Nf(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["_url","model"],fe(e,o));const i=s(t,["image"]);i!=null&&r(n,["instances[0]","image"],We(i));const l=s(t,["upscaleFactor"]);l!=null&&r(n,["parameters","upscaleConfig","upscaleFactor"],l);const a=s(t,["config"]);return a!=null&&Mf(a,n),n}function Vf(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>qn(l))),r(t,["generatedImages"],i)}return t}function Df(e){const t={},n=s(e,["uri"]);n!=null&&r(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&r(t,["videoBytes"],Tt(o));const i=s(e,["encoding"]);return i!=null&&r(t,["mimeType"],i),t}function Lf(e){const t={},n=s(e,["gcsUri"]);n!=null&&r(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&r(t,["videoBytes"],Tt(o));const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function Ff(e){const t={},n=s(e,["image"]);n!=null&&r(t,["_self"],We(n));const o=s(e,["maskMode"]);return o!=null&&r(t,["maskMode"],o),t}function Uf(e){const t={},n=s(e,["image"]);n!=null&&r(t,["image"],Gn(n));const o=s(e,["referenceType"]);return o!=null&&r(t,["referenceType"],o),t}function qf(e){const t={},n=s(e,["image"]);n!=null&&r(t,["image"],We(n));const o=s(e,["referenceType"]);return o!=null&&r(t,["referenceType"],o),t}function Vs(e){const t={},n=s(e,["uri"]);n!=null&&r(t,["uri"],n);const o=s(e,["videoBytes"]);o!=null&&r(t,["encodedVideo"],Tt(o));const i=s(e,["mimeType"]);return i!=null&&r(t,["encoding"],i),t}function Ds(e){const t={},n=s(e,["uri"]);n!=null&&r(t,["gcsUri"],n);const o=s(e,["videoBytes"]);o!=null&&r(t,["bytesBase64Encoded"],Tt(o));const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gf="Content-Type",Bf="X-Server-Timeout",Hf="User-Agent",ao="x-goog-api-client",$f="1.29.0",Jf=`google-genai-sdk/${$f}`,zf="v1beta1",Of="v1beta",ml=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Wf{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:zf,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Of,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[a,u]of Object.entries(t.queryParams))i.searchParams.append(a,String(u));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,i.toString(),t.abortSignal),this.unaryApiCall(i,l,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[i,l]of Object.entries(n))typeof l=="object"?o[i]=Object.assign(Object.assign({},o[i]),l):l!==void 0&&(o[i]=l);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,i.toString(),t.abortSignal),this.streamApiCall(i,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,i){if(n&&n.timeout||i){const l=new AbortController,a=l.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>l.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{l.abort()}),t.signal=a}return n&&n.extraBody!==null&&Kf(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await vl(i),new no(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await vl(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return Lt(this,arguments,function*(){const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:d}=yield _e(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=l.decode(d,{stream:!0});try{const m=JSON.parse(c);if("error"in m){const v=JSON.parse(JSON.stringify(m.error)),p=v.status,h=v.code,g=`got status: ${p}. ${JSON.stringify(m)}`;if(h>=400&&h<600)throw new Fn({message:g,status:h})}}catch(m){if(m.name==="ApiError")throw m}a+=c;let f=a.match(ml);for(;f;){const m=f[1];try{const v=new Response(m,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield _e(new no(v)),a=a.slice(f[0].length),f=a.match(ml)}catch(v){throw new Error(`exception parsing stream chunk ${m}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=Jf+" "+this.clientOptions.userAgentExtra;return t[Hf]=n,t[ao]=n,t[Gf]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[i,l]of Object.entries(t.headers))o.append(i,l);t.timeout&&t.timeout>0&&o.append(Bf,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const l=this.clientOptions.uploader,a=await l.stat(t);i.sizeBytes=String(a.size);const u=(o=n?.mimeType)!==null&&o!==void 0?o:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},c=this.getFileName(t),f=$("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,c,d,n?.httpOptions);return l.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,o){var i;const l=this.clientOptions.uploader,a=await l.stat(n),u=String(a.size),d=(i=o?.mimeType)!==null&&i!==void 0?i:a.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),m={};o?.customMetadata&&(m.customMetadata=o.customMetadata),o?.chunkingConfig&&(m.chunkingConfig=o.chunkingConfig);const v=await this.fetchUploadUrl(c,u,d,f,m,o?.httpOptions);return l.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,i,l,a){var u;let d={};a?d=a:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:t,body:JSON.stringify(l),httpMethod:"POST",httpOptions:d});if(!c||!c?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function vl(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new Fn({message:i,status:n}):new Error(i)}}function Kf(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,a){const u=Object.assign({},l);for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=a[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const i=o(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yf="mcp_used/unknown";let Xf=!1;function Ls(e){for(const t of e)if(Qf(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Xf}function Fs(e){var t;const n=(t=e[ao])!==null&&t!==void 0?t:"";e[ao]=(n+` ${Yf}`).trimStart()}function Qf(e){return e!==null&&typeof e=="object"&&e instanceof Mo}function Zf(e,t=100){return Lt(this,arguments,function*(){let o,i=0;for(;i<t;){const l=yield _e(e.listTools({cursor:o}));for(const a of l.tools)yield yield _e(a),i++;if(!l.nextCursor)break;o=l.nextCursor}})}class Mo{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Mo(t,n)}async initialize(){var t,n,o,i;if(this.mcpTools.length>0)return;const l={},a=[];for(const f of this.mcpClients)try{for(var u=!0,d=(n=void 0,Kt(Zf(f))),c;c=await d.next(),t=c.done,!t;u=!0){i=c.value,u=!1;const m=i;a.push(m);const v=m.name;if(l[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);l[v]=f}}catch(m){n={error:m}}finally{try{!u&&!t&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),nu(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const a=await i.callTool({name:o.name,arguments:o.args},void 0,l);n.push({functionResponse:{name:o.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jf(e,t,n){const o=new Kr;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),t(o)}class em{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),a=om(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(_=>{c=_}),m=t.callbacks,v=function(){c({})},p=this.apiClient,h={onopen:v,onmessage:_=>{jf(p,m.onmessage,_)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(_){},onclose:(o=m?.onclose)!==null&&o!==void 0?o:function(_){}},g=this.webSocketFactory.create(d,nm(a),h);g.connect(),await f;const E={setup:{model:fe(this.apiClient,t.model)}};return g.send(JSON.stringify(E)),new tm(g,this.apiClient)}}class tm{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=zd(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Jd(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vt.PLAY)}pause(){this.sendPlaybackControl(Vt.PAUSE)}stop(){this.sendPlaybackControl(Vt.STOP)}resetContext(){this.sendPlaybackControl(Vt.RESET_CONTEXT)}close(){this.conn.close()}}function nm(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function om(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const im="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lm(e,t,n){const o=new Wr;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const l=JSON.parse(i);if(e.isVertexAI()){const a=Kd(l);Object.assign(o,a)}else Object.assign(o,l);t(o)}class sm{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new em(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,i,l,a,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&Ls(t.config.tools)&&Fs(m);const v=dm(m);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,f);else{const A=this.apiClient.getApiKey();let k="BidiGenerateContent",N="key";A?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",N="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${k}?${N}=${A}`}let p=()=>{};const h=new Promise(A=>{p=A}),g=t.callbacks,y=function(){var A;(A=g?.onopen)===null||A===void 0||A.call(g),p({})},S=this.apiClient,E={onopen:y,onmessage:A=>{lm(S,g.onmessage,A)},onerror:(n=g?.onerror)!==null&&n!==void 0?n:function(A){},onclose:(o=g?.onclose)!==null&&o!==void 0?o:function(A){}},_=this.webSocketFactory.create(f,um(v),E);_.connect(),await h;let w=fe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const A=this.apiClient.getProject(),k=this.apiClient.getLocation();w=`projects/${A}/locations/${k}/`+w}let x={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[In.AUDIO]}:t.config.responseModalities=[In.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],I=[];for(const A of P)if(this.isCallableTool(A)){const k=A;I.push(await k.tool())}else I.push(A);I.length>0&&(t.config.tools=I);const b={model:w,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?x=$d(this.apiClient,b):x=Hd(this.apiClient,b),delete x.config,_.send(JSON.stringify(x)),new rm(_,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const am={turnComplete:!0};class rm{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=$e(n.turns),t.isVertexAI()||(o=o.map(i=>Un(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(im)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},am),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Wd(t)}:n={realtimeInput:Od(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function um(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function dm(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pl=10;function gl(e){var t,n,o;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const a of(n=e?.tools)!==null&&n!==void 0?n:[])if(Ft(a)){i=!0;break}if(!i)return!0;const l=(o=e?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Ft(e){return"callTool"in e&&typeof e.callTool=="function"}function cm(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ft(i)))!==null&&o!==void 0?o:!1}function hl(e){var t;const n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,i)=>{if(Ft(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(i)}),n}function yl(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fm extends ut{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,i,l,a,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!cm(n)||gl(n.config))return await this.generateContentInternal(d);const c=hl(n);if(c.length>0){const g=c.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${g}.`)}let f,m;const v=$e(d.contents),p=(l=(i=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:pl;let h=0;for(;h<p&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const g=f.candidates[0].content,y=[];for(const S of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Ft(S)){const _=await S.callTool(f.functionCalls);y.push(..._)}h++,m={role:"user",parts:y},d.contents=$e(d.contents),d.contents.push(g),d.contents.push(m),yl(d.config)&&(v.push(g),v.push(m))}return yl(d.config)&&(f.automaticFunctionCallingHistory=v),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),gl(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}const o=hl(n);if(o.length>0){const i=o.map(l=>`tools[${l}]`).join(", ");throw new Error(`Incompatible tools found at ${i}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let l;const a=[];if(o?.generatedImages)for(const d of o.generatedImages)d&&d?.safetyAttributes&&((i=d?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?l=d?.safetyAttributes:a.push(d);let u;return l?u={generatedImages:a,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((o=a.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Mt(ot.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,l,a,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(l=n.source)===null||l===void 0?void 0:l.video)===null||a===void 0)&&a.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,i;const l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;const a=await Promise.all(l.map(async d=>Ft(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(u.config.tools=a,t.config&&t.config.tools&&Ls(t.config.tools)){const d=(i=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Fs(c),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(t){var n,o,i;const l=new Map;for(const a of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Ft(a)){const u=a,d=await u.tool();for(const c of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(l.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);l.set(c.name,u)}}return l}async processAfcStream(t){var n,o,i;const l=(i=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:pl;let a=!1,u=0;const d=await this.initAfcToolsMap(t);return(function(c,f,m){var v,p;return Lt(this,arguments,function*(){for(var h,g,y,S;u<l;){a&&(u++,a=!1);const x=yield _e(c.processParamsMaybeAddMcpUsage(m)),P=yield _e(c.generateContentStreamInternal(x)),I=[],b=[];try{for(var E=!0,_=(g=void 0,Kt(P)),w;w=yield _e(_.next()),h=w.done,!h;E=!0){S=w.value,E=!1;const A=S;if(yield yield _e(A),A.candidates&&(!((v=A.candidates[0])===null||v===void 0)&&v.content)){b.push(A.candidates[0].content);for(const k of(p=A.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(u<l&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(k.functionCall.name)){const N=yield _e(f.get(k.functionCall.name).callTool([k.functionCall]));I.push(...N)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(A){g={error:A}}finally{try{!E&&!h&&(y=_.return)&&(yield _e(y.call(_)))}finally{if(g)throw g.error}}if(I.length>0){a=!0;const A=new Ot;A.candidates=[{content:{role:"user",parts:I}}],yield yield _e(A);const k=[];k.push(...b),k.push({role:"user",parts:I});const N=$e(m.contents).concat(k);m.contents=N}else break}})})(this,d,t)}async generateContentInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=dl(this.apiClient,t);return u=$("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=fl(f),v=new Ot;return Object.assign(v,m),v})}else{const c=ul(this.apiClient,t);return u=$("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=cl(f),v=new Ot;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=dl(this.apiClient,t);return u=$("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(m){return Lt(this,arguments,function*(){var v,p,h,g;try{for(var y=!0,S=Kt(m),E;E=yield _e(S.next()),v=E.done,!v;y=!0){g=E.value,y=!1;const _=g,w=fl(yield _e(_.json()));w.sdkHttpResponse={headers:_.headers};const x=new Ot;Object.assign(x,w),yield yield _e(x)}}catch(_){p={error:_}}finally{try{!y&&!v&&(h=S.return)&&(yield _e(h.call(S)))}finally{if(p)throw p.error}}})})}else{const c=ul(this.apiClient,t);return u=$("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),a.then(function(m){return Lt(this,arguments,function*(){var v,p,h,g;try{for(var y=!0,S=Kt(m),E;E=yield _e(S.next()),v=E.done,!v;y=!0){g=E.value,y=!1;const _=g,w=cl(yield _e(_.json()));w.sdkHttpResponse={headers:_.headers};const x=new Ot;Object.assign(x,w),yield yield _e(x)}}catch(_){p={error:_}}finally{try{!y&&!v&&(h=S.return)&&(yield _e(h.call(S)))}finally{if(p)throw p.error}}})})}}async embedContent(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=Ic(this.apiClient,t);return u=$("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=bc(f),v=new Wi;return Object.assign(v,m),v})}else{const c=Ec(this.apiClient,t);return u=$("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=Ac(f),v=new Wi;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=Dc(this.apiClient,t);return u=$("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=Fc(f),v=new Ki;return Object.assign(v,m),v})}else{const c=Vc(this.apiClient,t);return u=$("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=Lc(f),v=new Ki;return Object.assign(v,m),v})}}async editImageInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const u=Sc(this.apiClient,t);return l=$("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=Cc(d),f=new Lr;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const u=Nf(this.apiClient,t);return l=$("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=Vf(d),f=new Fr;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const u=pf(this.apiClient,t);return l=$("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=gf(d),f=new Ur;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const u=_f(this.apiClient,t);return l=$("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=Ef(d),f=new qr;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=ef(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>so(f))}else{const c=jc(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a.then(f=>lo(f))}}async listInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=rf(this.apiClient,t);return u=$("{models_url}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=df(f),v=new Yi;return Object.assign(v,m),v})}else{const c=af(this.apiClient,t);return u=$("{models_url}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=uf(f),v=new Yi;return Object.assign(v,m),v})}}async update(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=kf(this.apiClient,t);return u=$("{model}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>so(f))}else{const c=Rf(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a.then(f=>lo(f))}}async delete(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=pc(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=hc(f),v=new Xi;return Object.assign(v,m),v})}else{const c=vc(this.apiClient,t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=gc(f),v=new Xi;return Object.assign(v,m),v})}}async countTokens(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=cc(this.apiClient,t);return u=$("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=mc(f),v=new Qi;return Object.assign(v,m),v})}else{const c=dc(this.apiClient,t);return u=$("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=fc(f),v=new Qi;return Object.assign(v,m),v})}}async computeTokens(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const u=oc(this.apiClient,t);return l=$("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>{const c=ic(d),f=new Gr;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=$c(this.apiClient,t);return u=$("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const m=Bc(f),v=new An;return Object.assign(v,m),v})}else{const c=Hc(this.apiClient,t);return u=$("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a.then(f=>{const m=Gc(f),v=new An;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mm extends ut{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=Rr(t);return u=$("{operationName}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a}else{const c=xr(t);return u=$("{operationName}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json()),a}}async fetchPredictVideosOperationInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const u=_r(t);return l=$("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vm(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function pm(e){const t={},n=s(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Em(l))),r(t,["parts"],i)}const o=s(e,["role"]);return o!=null&&r(t,["role"],o),t}function gm(e,t,n){const o={},i=s(t,["expireTime"]);n!==void 0&&i!=null&&r(n,["expireTime"],i);const l=s(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&r(n,["newSessionExpireTime"],l);const a=s(t,["uses"]);n!==void 0&&a!=null&&r(n,["uses"],a);const u=s(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&r(n,["bidiGenerateContentSetup"],_m(e,u));const d=s(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&r(n,["fieldMask"],d),o}function hm(e,t){const n={},o=s(t,["config"]);return o!=null&&r(n,["config"],gm(e,o,n)),n}function ym(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Sm(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function Cm(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function Tm(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig"],o);const i=s(e,["responseModalities"]);t!==void 0&&i!=null&&r(t,["setup","generationConfig","responseModalities"],i);const l=s(e,["temperature"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig","temperature"],l);const a=s(e,["topP"]);t!==void 0&&a!=null&&r(t,["setup","generationConfig","topP"],a);const u=s(e,["topK"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","speechConfig"],ko(m));const v=s(e,["thinkingConfig"]);t!==void 0&&v!=null&&r(t,["setup","generationConfig","thinkingConfig"],v);const p=s(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const h=s(e,["systemInstruction"]);t!==void 0&&h!=null&&r(t,["setup","systemInstruction"],pm(Re(h)));const g=s(e,["tools"]);if(t!==void 0&&g!=null){let P=$t(g);Array.isArray(P)&&(P=P.map(I=>Am(Ht(I)))),r(t,["setup","tools"],P)}const y=s(e,["sessionResumption"]);t!==void 0&&y!=null&&r(t,["setup","sessionResumption"],Im(y));const S=s(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&r(t,["setup","inputAudioTranscription"],S);const E=s(e,["outputAudioTranscription"]);t!==void 0&&E!=null&&r(t,["setup","outputAudioTranscription"],E);const _=s(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&r(t,["setup","realtimeInputConfig"],_);const w=s(e,["contextWindowCompression"]);t!==void 0&&w!=null&&r(t,["setup","contextWindowCompression"],w);const x=s(e,["proactivity"]);return t!==void 0&&x!=null&&r(t,["setup","proactivity"],x),n}function _m(e,t){const n={},o=s(t,["model"]);o!=null&&r(n,["setup","model"],fe(e,o));const i=s(t,["config"]);return i!=null&&r(n,["config"],Tm(i,n)),n}function Em(e){const t={},n=s(e,["functionCall"]);n!=null&&r(t,["functionCall"],n);const o=s(e,["codeExecutionResult"]);o!=null&&r(t,["codeExecutionResult"],o);const i=s(e,["executableCode"]);i!=null&&r(t,["executableCode"],i);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],ym(l));const a=s(e,["functionResponse"]);a!=null&&r(t,["functionResponse"],a);const u=s(e,["inlineData"]);u!=null&&r(t,["inlineData"],vm(u));const d=s(e,["text"]);d!=null&&r(t,["text"],d);const c=s(e,["thought"]);c!=null&&r(t,["thought"],c);const f=s(e,["thoughtSignature"]);f!=null&&r(t,["thoughtSignature"],f);const m=s(e,["videoMetadata"]);return m!=null&&r(t,["videoMetadata"],m),t}function Im(e){const t={},n=s(e,["handle"]);if(n!=null&&r(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Am(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),r(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&r(t,["googleSearchRetrieval"],o);const i=s(e,["computerUse"]);i!=null&&r(t,["computerUse"],i);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],Sm(u));const d=s(e,["googleSearch"]);d!=null&&r(t,["googleSearch"],Cm(d));const c=s(e,["urlContext"]);return c!=null&&r(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bm(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(l=>`${n}.${l}`);t.push(...i)}else t.push(n)}return t.join(",")}function wm(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const l=bm(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)l?e.fieldMask=l:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(c=>a.includes(c)?`generationConfig.${c}`:c));const d=[];l&&d.push(l),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Pm extends ut{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=hm(this.apiClient,t);l=$("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const d=wm(u,t.config);return i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xm(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&r(t,["displayName"],o),n}function Rm(e){const t={},n=s(e,["config"]);return n!=null&&xm(n,t),t}function km(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&r(t,["_query","force"],o),n}function Mm(e){const t={},n=s(e,["name"]);n!=null&&r(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&km(o,t),t}function Nm(e){const t={},n=s(e,["name"]);return n!=null&&r(t,["_url","name"],n),t}function Vm(e,t){const n={},o=s(e,["customMetadata"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["customMetadata"],l)}const i=s(e,["chunkingConfig"]);return t!==void 0&&i!=null&&r(t,["chunkingConfig"],i),n}function Dm(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const o=s(e,["metadata"]);o!=null&&r(t,["metadata"],o);const i=s(e,["done"]);i!=null&&r(t,["done"],i);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],Fm(a)),t}function Lm(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&r(t,["_url","file_search_store_name"],n);const o=s(e,["fileName"]);o!=null&&r(t,["fileName"],o);const i=s(e,["config"]);return i!=null&&Vm(i,t),t}function Fm(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&r(t,["parent"],o);const i=s(e,["documentName"]);return i!=null&&r(t,["documentName"],i),t}function Um(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);return t!==void 0&&i!=null&&r(t,["_query","pageToken"],i),n}function qm(e){const t={},n=s(e,["config"]);return n!=null&&Um(n,t),t}function Gm(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["fileSearchStores"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["fileSearchStores"],l)}return t}function Bm(e,t){const n={},o=s(e,["mimeType"]);t!==void 0&&o!=null&&r(t,["mimeType"],o);const i=s(e,["displayName"]);t!==void 0&&i!=null&&r(t,["displayName"],i);const l=s(e,["customMetadata"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),r(t,["customMetadata"],u)}const a=s(e,["chunkingConfig"]);return t!==void 0&&a!=null&&r(t,["chunkingConfig"],a),n}function Hm(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&r(t,["_url","file_search_store_name"],n);const o=s(e,["config"]);return o!=null&&Bm(o,t),t}function $m(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jm(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&r(t,["_query","force"],o),n}function zm(e){const t={},n=s(e,["name"]);n!=null&&r(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&Jm(o,t),t}function Om(e){const t={},n=s(e,["name"]);return n!=null&&r(t,["_url","name"],n),t}function Wm(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const i=s(e,["pageToken"]);return t!==void 0&&i!=null&&r(t,["_query","pageToken"],i),n}function Km(e){const t={},n=s(e,["parent"]);n!=null&&r(t,["_url","parent"],n);const o=s(e,["config"]);return o!=null&&Wm(o,t),t}function Ym(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&r(t,["nextPageToken"],o);const i=s(e,["documents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["documents"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xm extends ut{constructor(t){super(),this.apiClient=t,this.list=async n=>new Mt(ot.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Om(t);return l=$("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,o;let i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zm(t);i=$("{name}",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Km(t);return l=$("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=Ym(d),f=new Br;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qm extends ut{constructor(t,n=new Xm(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new Mt(ot.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rm(t);return l=$("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Nm(t);return l=$("{name}",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,o;let i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Mm(t);i=$("{name}",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qm(t);return l=$("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=Gm(d),f=new Hr;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hm(t);return l=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=$m(d),f=new $r;return Object.assign(f,c),f})}}async importFile(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lm(t);return l=$("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=Dm(d),f=new bo;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zm(e,t){const n={},o=s(e,["name"]);return o!=null&&r(n,["_url","name"],o),n}function jm(e,t){const n={},o=s(e,["name"]);return o!=null&&r(n,["_url","name"],o),n}function ev(e,t,n){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&r(t,["displayName"],i),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=s(e,["epochCount"]);t!==void 0&&l!=null&&r(t,["tuningTask","hyperparameters","epochCount"],l);const a=s(e,["learningRateMultiplier"]);if(a!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],a),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&r(t,["tuningTask","hyperparameters","batchSize"],u);const d=s(e,["learningRate"]);if(t!==void 0&&d!=null&&r(t,["tuningTask","hyperparameters","learningRate"],d),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function tv(e,t,n){const o={};let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const p=s(e,["validationDataset"]);t!==void 0&&p!=null&&r(t,["supervisedTuningSpec"],Sl(p))}else if(i==="PREFERENCE_TUNING"){const p=s(e,["validationDataset"]);t!==void 0&&p!=null&&r(t,["preferenceOptimizationSpec"],Sl(p))}const l=s(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&r(t,["tunedModelDisplayName"],l);const a=s(e,["description"]);t!==void 0&&a!=null&&r(t,["description"],a);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const p=s(e,["epochCount"]);t!==void 0&&p!=null&&r(t,["supervisedTuningSpec","hyperParameters","epochCount"],p)}else if(u==="PREFERENCE_TUNING"){const p=s(e,["epochCount"]);t!==void 0&&p!=null&&r(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],p)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=s(e,["learningRateMultiplier"]);t!==void 0&&p!=null&&r(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p)}else if(d==="PREFERENCE_TUNING"){const p=s(e,["learningRateMultiplier"]);t!==void 0&&p!=null&&r(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],p)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=s(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&r(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p)}else if(c==="PREFERENCE_TUNING"){const p=s(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&r(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],p)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=s(e,["adapterSize"]);t!==void 0&&p!=null&&r(t,["supervisedTuningSpec","hyperParameters","adapterSize"],p)}else if(f==="PREFERENCE_TUNING"){const p=s(e,["adapterSize"]);t!==void 0&&p!=null&&r(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],p)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(e,["labels"]);t!==void 0&&m!=null&&r(t,["labels"],m);const v=s(e,["beta"]);return t!==void 0&&v!=null&&r(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),o}function nv(e,t){const n={},o=s(e,["baseModel"]);o!=null&&r(n,["baseModel"],o);const i=s(e,["preTunedModel"]);i!=null&&r(n,["preTunedModel"],i);const l=s(e,["trainingDataset"]);l!=null&&mv(l);const a=s(e,["config"]);return a!=null&&ev(a,n),n}function ov(e,t){const n={},o=s(e,["baseModel"]);o!=null&&r(n,["baseModel"],o);const i=s(e,["preTunedModel"]);i!=null&&r(n,["preTunedModel"],i);const l=s(e,["trainingDataset"]);l!=null&&vv(l,n,t);const a=s(e,["config"]);return a!=null&&tv(a,n,t),n}function iv(e,t){const n={},o=s(e,["name"]);return o!=null&&r(n,["_url","name"],o),n}function lv(e,t){const n={},o=s(e,["name"]);return o!=null&&r(n,["_url","name"],o),n}function sv(e,t,n){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);t!==void 0&&l!=null&&r(t,["_query","pageToken"],l);const a=s(e,["filter"]);return t!==void 0&&a!=null&&r(t,["_query","filter"],a),o}function av(e,t,n){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);t!==void 0&&l!=null&&r(t,["_query","pageToken"],l);const a=s(e,["filter"]);return t!==void 0&&a!=null&&r(t,["_query","filter"],a),o}function rv(e,t){const n={},o=s(e,["config"]);return o!=null&&sv(o,n),n}function uv(e,t){const n={},o=s(e,["config"]);return o!=null&&av(o,n),n}function dv(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&r(n,["sdkHttpResponse"],o);const i=s(e,["nextPageToken"]);i!=null&&r(n,["nextPageToken"],i);const l=s(e,["tunedModels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Us(u))),r(n,["tuningJobs"],a)}return n}function cv(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&r(n,["sdkHttpResponse"],o);const i=s(e,["nextPageToken"]);i!=null&&r(n,["nextPageToken"],i);const l=s(e,["tuningJobs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>ro(u))),r(n,["tuningJobs"],a)}return n}function fv(e,t){const n={},o=s(e,["name"]);o!=null&&r(n,["model"],o);const i=s(e,["name"]);return i!=null&&r(n,["endpoint"],i),n}function mv(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),r(n,["examples","examples"],i)}return n}function vv(e,t,n){const o={};let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=s(e,["gcsUri"]);t!==void 0&&a!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=s(e,["gcsUri"]);t!==void 0&&a!=null&&r(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let l=s(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const a=s(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(l==="PREFERENCE_TUNING"){const a=s(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&r(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Us(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&r(n,["sdkHttpResponse"],o);const i=s(e,["name"]);i!=null&&r(n,["name"],i);const l=s(e,["state"]);l!=null&&r(n,["state"],Ss(l));const a=s(e,["createTime"]);a!=null&&r(n,["createTime"],a);const u=s(e,["tuningTask","startTime"]);u!=null&&r(n,["startTime"],u);const d=s(e,["tuningTask","completeTime"]);d!=null&&r(n,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&r(n,["updateTime"],c);const f=s(e,["description"]);f!=null&&r(n,["description"],f);const m=s(e,["baseModel"]);m!=null&&r(n,["baseModel"],m);const v=s(e,["_self"]);return v!=null&&r(n,["tunedModel"],fv(v)),n}function ro(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&r(n,["sdkHttpResponse"],o);const i=s(e,["name"]);i!=null&&r(n,["name"],i);const l=s(e,["state"]);l!=null&&r(n,["state"],Ss(l));const a=s(e,["createTime"]);a!=null&&r(n,["createTime"],a);const u=s(e,["startTime"]);u!=null&&r(n,["startTime"],u);const d=s(e,["endTime"]);d!=null&&r(n,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&r(n,["updateTime"],c);const f=s(e,["error"]);f!=null&&r(n,["error"],f);const m=s(e,["description"]);m!=null&&r(n,["description"],m);const v=s(e,["baseModel"]);v!=null&&r(n,["baseModel"],v);const p=s(e,["tunedModel"]);p!=null&&r(n,["tunedModel"],p);const h=s(e,["preTunedModel"]);h!=null&&r(n,["preTunedModel"],h);const g=s(e,["supervisedTuningSpec"]);g!=null&&r(n,["supervisedTuningSpec"],g);const y=s(e,["preferenceOptimizationSpec"]);y!=null&&r(n,["preferenceOptimizationSpec"],y);const S=s(e,["tuningDataStats"]);S!=null&&r(n,["tuningDataStats"],S);const E=s(e,["encryptionSpec"]);E!=null&&r(n,["encryptionSpec"],E);const _=s(e,["partnerModelTuningSpec"]);_!=null&&r(n,["partnerModelTuningSpec"],_);const w=s(e,["customBaseModel"]);w!=null&&r(n,["customBaseModel"],w);const x=s(e,["experiment"]);x!=null&&r(n,["experiment"],x);const P=s(e,["labels"]);P!=null&&r(n,["labels"],P);const I=s(e,["outputUri"]);I!=null&&r(n,["outputUri"],I);const b=s(e,["pipelineJob"]);b!=null&&r(n,["pipelineJob"],b);const A=s(e,["serviceAccount"]);A!=null&&r(n,["serviceAccount"],A);const k=s(e,["tunedModelDisplayName"]);k!=null&&r(n,["tunedModelDisplayName"],k);const N=s(e,["veoTuningSpec"]);return N!=null&&r(n,["veoTuningSpec"],N),n}function pv(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&r(n,["sdkHttpResponse"],o);const i=s(e,["name"]);i!=null&&r(n,["name"],i);const l=s(e,["metadata"]);l!=null&&r(n,["metadata"],l);const a=s(e,["done"]);a!=null&&r(n,["done"],a);const u=s(e,["error"]);return u!=null&&r(n,["error"],u),n}function Sl(e,t){const n={},o=s(e,["gcsUri"]);o!=null&&r(n,["validationDatasetUri"],o);const i=s(e,["vertexDatasetResource"]);return i!=null&&r(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gv extends ut{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Mt(ot.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:i});return l.baseModel=void 0,await this.tuneInternal(l)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),l=await this.tuneMldevInternal(i);let a="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?a=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(a=l.name.split("/operations/")[0]),{name:a,state:to.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=lv(t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>ro(f))}else{const c=iv(t);return u=$("{name}",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>Us(f))}}async listInternal(t){var n,o,i,l;let a,u="",d={};if(this.apiClient.isVertexAI()){const c=uv(t);return u=$("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=cv(f),v=new Zi;return Object.assign(v,m),v})}else{const c=rv(t);return u=$("tunedModels",c._url),d=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),a.then(f=>{const m=dv(f),v=new Zi;return Object.assign(v,m),v})}}async cancel(t){var n,o,i,l;let a="",u={};if(this.apiClient.isVertexAI()){const d=jm(t);a=$("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=Zm(t);a=$("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const u=ov(t,t);return l=$("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>ro(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let i,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nv(t);return l=$("tunedModels",u._url),a=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),i.then(d=>pv(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hv{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const yv=1024*1024*8,Sv=3,Cv=1e3,Tv=2,wn="x-goog-upload-status";async function _v(e,t,n){var o;const i=await qs(e,t,n),l=await i?.json();if(((o=i?.headers)===null||o===void 0?void 0:o[wn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function Ev(e,t,n){var o;const i=await qs(e,t,n),l=await i?.json();if(((o=i?.headers)===null||o===void 0?void 0:o[wn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=ms(l),u=new wo;return Object.assign(u,a),u}async function qs(e,t,n){var o,i;let l=0,a=0,u=new no(new Response),d="upload";for(l=e.size;a<l;){const c=Math.min(yv,l-a),f=e.slice(a,a+c);a+c>=l&&(d+=", finalize");let m=0,v=Cv;for(;m<Sv&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(a),"Content-Length":String(c)}}}),!(!((o=u?.headers)===null||o===void 0)&&o[wn]));)m++,await Av(v),v=v*Tv;if(a+=c,((i=u?.headers)===null||i===void 0?void 0:i[wn])!=="active")break;if(l<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Iv(e){return{size:e.size,type:e.type}}function Av(e){return new Promise(t=>setTimeout(t,e))}class bv{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await _v(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ev(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Iv(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wv{create(t,n,o){return new Pv(t,n,o)}}class Pv{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cl="x-goog-api-key";class xv{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Cl)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Cl,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rv="gl-node/";class kv{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=Cr(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion;const i=new xv(this.apiKey);this.apiClient=new Wf({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:Rv+"web",uploader:new bv,downloader:new hv}),this.models=new fm(this.apiClient),this.live=new sm(this.apiClient,i,new wv),this.batches=new zu(this.apiClient),this.chats=new Ed(this.models,this.apiClient),this.caches=new Cd(this.apiClient),this.files=new Nd(this.apiClient),this.operations=new mm(this.apiClient),this.authTokens=new Pm(this.apiClient),this.tunings=new gv(this.apiClient),this.fileSearchStores=new Qm(this.apiClient)}}const zn={model:"gemini-2.5-flash-image",prompt:{text:{value:"Create a photorealistic commercial lifestyle image of an 8-year-old boy of Caribbean ethnicity playing with a Buzz Lightyear action figure whilst wearing the jumper shown in the product reference image. The boy should be sitting comfortably on a plush rug on the floor of a modern, well-designed living room.",required:!0,type:"textarea",description:"Primary description of the image to generate"},style:{toggle:!1,required:!1,children:{genre:{value:"product photography",toggle:!1,required:!1,type:"select",description:"Artistic genre classification",options:[{value:"photorealistic",label:"Photorealistic"},{value:"product photography",label:"Product Photography"},{value:"cinematic",label:"Cinematic"},{value:"artistic",label:"Artistic"},{value:"anime",label:"Anime"},{value:"fantasy",label:"Fantasy"},{value:"sci-fi",label:"Sci-Fi"},{value:"portrait",label:"Portrait"},{value:"landscape",label:"Landscape"},{value:"abstract",label:"Abstract"},{value:"surreal",label:"Surreal"},{value:"custom",label:"Custom"}]},rendering_type:{value:"photorealistic",toggle:!1,required:!1,type:"select",description:"Rendering style type",options:[{value:"photorealistic",label:"Photorealistic"},{value:"illustrated",label:"Illustrated"},{value:"3d_render",label:"3D Render"},{value:"painterly",label:"Painterly"},{value:"custom",label:"Custom"}]},art_movement:{value:"minimalism",toggle:!1,required:!1,type:"select",description:"Art movement or style period",options:[{value:"contemporary",label:"Contemporary"},{value:"impressionism",label:"Impressionism"},{value:"expressionism",label:"Expressionism"},{value:"cubism",label:"Cubism"},{value:"surrealism",label:"Surrealism"},{value:"abstract_expressionism",label:"Abstract Expressionism"},{value:"pop_art",label:"Pop Art"},{value:"minimalism",label:"Minimalism"},{value:"baroque",label:"Baroque"},{value:"renaissance",label:"Renaissance"},{value:"art_nouveau",label:"Art Nouveau"},{value:"custom",label:"Custom"}]},rendering:{value:"high quality",toggle:!1,required:!1,type:"select",description:"Rendering quality level",options:[{value:"low quality",label:"Low Quality"},{value:"medium quality",label:"Medium Quality"},{value:"high quality",label:"High Quality"},{value:"ultra quality",label:"Ultra Quality"},{value:"custom",label:"Custom"}]},detail_level:{value:"ultra-detailed",toggle:!1,required:!1,type:"select",description:"Level of detail in the image",options:[{value:"simple",label:"Simple"},{value:"detailed",label:"Detailed"},{value:"highly-detailed",label:"Highly Detailed"},{value:"ultra-detailed",label:"Ultra Detailed"},{value:"custom",label:"Custom"}]},color_palette:{value:["#FFFFFF","#F0F0F0","#E0E0E0"],toggle:!1,required:!1,type:"array",arrayType:"colorpicker",description:"Color palette for the image"},composition:{value:"rule of thirds",toggle:!1,required:!1,type:"select",description:"Compositional style approach",options:[{value:"rule of thirds",label:"Rule of Thirds"},{value:"golden ratio",label:"Golden Ratio"},{value:"centered",label:"Centered"},{value:"symmetrical",label:"Symmetrical"},{value:"asymmetrical",label:"Asymmetrical"},{value:"leading lines",label:"Leading Lines"},{value:"frame within frame",label:"Frame Within Frame"},{value:"diagonal",label:"Diagonal"},{value:"triangular",label:"Triangular"},{value:"custom",label:"Custom"}]},mood:{value:"clean and professional",toggle:!1,required:!1,type:"select",description:"Emotional tone or mood",options:[{value:"neutral",label:"Neutral"},{value:"dramatic",label:"Dramatic"},{value:"peaceful",label:"Peaceful"},{value:"energetic",label:"Energetic"},{value:"melancholic",label:"Melancholic"},{value:"mysterious",label:"Mysterious"},{value:"romantic",label:"Romantic"},{value:"epic",label:"Epic"},{value:"intimate",label:"Intimate"},{value:"clean and professional",label:"Clean and Professional"},{value:"custom",label:"Custom"}]},texture:{value:"smooth",toggle:!1,required:!1,type:"select",description:"Surface texture style",options:[{value:"smooth",label:"Smooth"},{value:"rough",label:"Rough"},{value:"glossy",label:"Glossy"},{value:"matte",label:"Matte"},{value:"textured",label:"Textured"},{value:"grainy",label:"Grainy"},{value:"brushed",label:"Brushed"},{value:"woven",label:"Woven"},{value:"metallic",label:"Metallic"},{value:"organic",label:"Organic"},{value:"custom",label:"Custom"}]},contrast:{value:"medium",toggle:!1,required:!1,type:"select",description:"Contrast level",options:[{value:"very low",label:"Very Low"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"very high",label:"Very High"}]},saturation:{value:"natural",toggle:!1,required:!1,type:"select",description:"Color saturation level",options:[{value:"desaturated",label:"Desaturated"},{value:"low",label:"Low"},{value:"natural",label:"Natural"},{value:"high",label:"High"},{value:"oversaturated",label:"Oversaturated"}]},reference_style:{value:"Apple product photography",toggle:!1,required:!1,type:"text",description:"Reference style name or artist"}}},technical:{toggle:!1,required:!1,children:{camera:{toggle:!1,required:!1,children:{type:{value:"DSLR",toggle:!1,required:!1,type:"select",description:"Camera type",options:[{value:"DSLR",label:"DSLR"},{value:"mirrorless",label:"Mirrorless"},{value:"medium format",label:"Medium Format"},{value:"large format",label:"Large Format"},{value:"film",label:"Film"},{value:"toy camera",label:"Toy Camera"},{value:"vintage",label:"Vintage"},{value:"custom",label:"Custom"}]},model:{value:"Canon EOS R5",toggle:!1,required:!1,type:"text",description:"Camera model name"},lens:{toggle:!1,required:!1,children:{focal_length_mm:{value:85,toggle:!1,required:!1,type:"number",description:"Lens focal length in millimeters",min:8,max:800,step:1},focal_length:{value:"portrait",toggle:!1,required:!1,type:"select",description:"Focal length category",options:[{value:"ultra-wide",label:"Ultra-Wide"},{value:"wide",label:"Wide"},{value:"standard",label:"Standard"},{value:"portrait",label:"Portrait"},{value:"telephoto",label:"Telephoto"},{value:"super-telephoto",label:"Super-Telephoto"},{value:"custom",label:"Custom"}]},aperture:{value:"f/2.8",toggle:!1,required:!1,type:"select",description:"Lens aperture (f-stop)",options:[{value:"f/1.2",label:"f/1.2"},{value:"f/1.4",label:"f/1.4"},{value:"f/1.8",label:"f/1.8"},{value:"f/2",label:"f/2"},{value:"f/2.8",label:"f/2.8"},{value:"f/4",label:"f/4"},{value:"f/5.6",label:"f/5.6"},{value:"f/8",label:"f/8"},{value:"f/11",label:"f/11"},{value:"f/16",label:"f/16"},{value:"f/22",label:"f/22"},{value:"custom",label:"Custom"}]},zoom:{value:1,toggle:!1,required:!1,type:"number",description:"Zoom factor",min:.5,max:20,step:.1}}},settings:{toggle:!1,required:!1,children:{shutter_speed:{value:"1/125s",toggle:!1,required:!1,type:"select",description:"Shutter speed setting",options:[{value:"1/4000s",label:"1/4000s (Very Fast)"},{value:"1/2000s",label:"1/2000s"},{value:"1/1000s",label:"1/1000s"},{value:"1/500s",label:"1/500s"},{value:"1/250s",label:"1/250s"},{value:"1/125s",label:"1/125s (Standard)"},{value:"1/60s",label:"1/60s"},{value:"1/30s",label:"1/30s"},{value:"1/15s",label:"1/15s"},{value:"1/8s",label:"1/8s (Slow)"},{value:"1s",label:"1s (Long Exposure)"},{value:"custom",label:"Custom"}]},iso:{value:100,toggle:!1,required:!1,type:"number",description:"ISO sensitivity",min:50,max:25600,step:100},exposure_compensation:{value:0,toggle:!1,required:!1,type:"number",description:"Exposure compensation in EV",min:-5,max:5,step:.1},focus:{value:"sharp",toggle:!1,required:!1,type:"select",description:"Focus type or mode",options:[{value:"autofocus",label:"Autofocus"},{value:"manual",label:"Manual"},{value:"single point",label:"Single Point"},{value:"continuous",label:"Continuous"},{value:"sharp",label:"Sharp"},{value:"soft",label:"Soft"},{value:"custom",label:"Custom"}]},sensor_size:{value:"full frame",toggle:!1,required:!1,type:"select",description:"Camera sensor size",options:[{value:"full frame",label:"Full Frame (35mm)"},{value:"aps-c",label:"APS-C"},{value:"micro four thirds",label:"Micro Four Thirds"},{value:"1 inch",label:"1 inch"},{value:"medium format",label:"Medium Format"},{value:"large format",label:"Large Format"},{value:"custom",label:"Custom"}]}}},depth_of_field:{value:"medium",toggle:!1,required:!1,type:"select",description:"Depth of field setting",options:[{value:"very_shallow",label:"Very Shallow"},{value:"shallow",label:"Shallow"},{value:"medium",label:"Medium"},{value:"deep",label:"Deep"},{value:"very_deep",label:"Very Deep"}]}}},lighting:{toggle:!1,required:!1,children:{type:{value:"studio",toggle:!1,required:!1,type:"select",description:"Overall lighting type",options:[{value:"natural",label:"Natural"},{value:"studio",label:"Studio"},{value:"dramatic",label:"Dramatic"},{value:"soft",label:"Soft"},{value:"hard",label:"Hard"},{value:"mixed",label:"Mixed"},{value:"custom",label:"Custom"}]},direction:{value:"three-quarter",toggle:!1,required:!1,type:"select",description:"Main lighting direction",options:[{value:"front",label:"Front"},{value:"three-quarter",label:"Three-Quarter"},{value:"side",label:"Side"},{value:"back",label:"Back"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"rim",label:"Rim"},{value:"custom",label:"Custom"}]},color_temperature:{value:"daylight",toggle:!1,required:!1,type:"select",description:"Overall color temperature",options:[{value:"candlelight",label:"Candlelight (2000K)"},{value:"tungsten",label:"Tungsten (3200K)"},{value:"daylight",label:"Daylight (5500K)"},{value:"overcast",label:"Overcast (6500K)"},{value:"shade",label:"Shade (7500K)"},{value:"custom",label:"Custom"}]},setup:{value:"three-point lighting",toggle:!1,required:!1,type:"select",description:"Overall lighting setup type",options:[{value:"natural",label:"Natural"},{value:"studio",label:"Studio"},{value:"three-point lighting",label:"Three Point Lighting"},{value:"rim lighting",label:"Rim Lighting"},{value:"butterfly",label:"Butterfly"},{value:"loop",label:"Loop"},{value:"split",label:"Split"},{value:"broad",label:"Broad"},{value:"short",label:"Short"},{value:"custom",label:"Custom"}]},main_light:{toggle:!1,required:!1,children:{type:{value:"softbox",toggle:!1,required:!1,type:"select",description:"Main light source type",options:[{value:"key",label:"Key Light"},{value:"softbox",label:"Softbox"},{value:"umbrella",label:"Umbrella"},{value:"ring",label:"Ring Light"},{value:"spot",label:"Spotlight"},{value:"sun",label:"Sun"},{value:"window",label:"Window"},{value:"led",label:"LED Panel"},{value:"custom",label:"Custom"}]},position:{value:"45 degrees",toggle:!1,required:!1,type:"select",description:"Main light position",options:[{value:"front",label:"Front"},{value:"45 degrees",label:"45 Degrees"},{value:"side",label:"Side"},{value:"back",label:"Back"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"rim",label:"Rim"},{value:"custom",label:"Custom"}]},intensity:{value:"high",toggle:!1,required:!1,type:"select",description:"Main light intensity level",options:[{value:"very low",label:"Very Low"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"very high",label:"Very High"}]},temperature:{value:5500,toggle:!1,required:!1,type:"number",description:"Main light color temperature in Kelvin",min:2e3,max:1e4,step:100}}},fill_light:{toggle:!1,required:!1,children:{type:{value:"reflector",toggle:!1,required:!1,type:"select",description:"Fill light source type",options:[{value:"soft",label:"Soft"},{value:"reflector",label:"Reflector"},{value:"bounce",label:"Bounce"},{value:"ambient",label:"Ambient"},{value:"none",label:"None"},{value:"custom",label:"Custom"}]},position:{value:"opposite",toggle:!1,required:!1,type:"select",description:"Fill light position",options:[{value:"opposite",label:"Opposite Main"},{value:"front",label:"Front"},{value:"side",label:"Side"},{value:"back",label:"Back"},{value:"top",label:"Top"},{value:"custom",label:"Custom"}]},intensity:{value:"medium",toggle:!1,required:!1,type:"select",description:"Fill light intensity level",options:[{value:"very low",label:"Very Low"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"very high",label:"Very High"}]},temperature:{value:5500,toggle:!1,required:!1,type:"number",description:"Fill light color temperature in Kelvin",min:2e3,max:1e4,step:100}}},rim_light:{toggle:!1,required:!1,children:{type:{value:"strip box",toggle:!1,required:!1,type:"select",description:"Rim light source type",options:[{value:"spot",label:"Spotlight"},{value:"strip box",label:"Strip Light"},{value:"soft",label:"Soft"},{value:"hard",label:"Hard"},{value:"none",label:"None"},{value:"custom",label:"Custom"}]},position:{value:"behind",toggle:!1,required:!1,type:"select",description:"Rim light position",options:[{value:"behind",label:"Behind"},{value:"back",label:"Back"},{value:"side back",label:"Side Back"},{value:"top back",label:"Top Back"},{value:"bottom back",label:"Bottom Back"},{value:"custom",label:"Custom"}]},intensity:{value:"low",toggle:!1,required:!1,type:"select",description:"Rim light intensity level",options:[{value:"very low",label:"Very Low"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"very high",label:"Very High"}]},temperature:{value:5500,toggle:!1,required:!1,type:"number",description:"Rim light color temperature in Kelvin",min:2e3,max:1e4,step:100}}},ambient_light:{value:"studio",toggle:!1,required:!1,type:"select",description:"Ambient lighting type",options:[{value:"natural",label:"Natural"},{value:"artificial",label:"Artificial"},{value:"studio",label:"Studio"},{value:"mixed",label:"Mixed"},{value:"none",label:"None"},{value:"custom",label:"Custom"}]}}},post_processing:{toggle:!1,required:!1,children:{retouching:{value:"minimal",toggle:!1,required:!1,type:"select",description:"Retouching level",options:[{value:"none",label:"None"},{value:"minimal",label:"Minimal"},{value:"light",label:"Light"},{value:"medium",label:"Medium"},{value:"heavy",label:"Heavy"},{value:"commercial",label:"Commercial"}]},sharpening:{value:"medium",toggle:!1,required:!1,type:"select",description:"Sharpening level",options:[{value:"none",label:"None"},{value:"light",label:"Light"},{value:"medium",label:"Medium"},{value:"moderate",label:"Moderate"},{value:"strong",label:"Strong"},{value:"very strong",label:"Very Strong"}]},noise_reduction:{value:"high",toggle:!1,required:!1,type:"select",description:"Noise reduction level",options:[{value:"none",label:"None"},{value:"light",label:"Light"},{value:"moderate",label:"Moderate"},{value:"high",label:"High"},{value:"strong",label:"Strong"},{value:"maximum",label:"Maximum"}]},color_grading:{value:"neutral",toggle:!1,required:!1,type:"select",description:"Color grading style",options:[{value:"neutral",label:"Neutral"},{value:"warm",label:"Warm"},{value:"cool",label:"Cool"},{value:"vibrant",label:"Vibrant"},{value:"cinematic",label:"Cinematic"},{value:"teal orange",label:"Teal & Orange"},{value:"black white",label:"Black & White"},{value:"vintage",label:"Vintage"},{value:"custom",label:"Custom"}]},exposure_adjust:{value:0,toggle:!1,required:!1,type:"number",description:"Exposure adjustment in stops",min:-5,max:5,step:.1},contrast_adjust:{value:0,toggle:!1,required:!1,type:"number",description:"Contrast adjustment",min:-1,max:1,step:.1}}},rendering:{toggle:!1,required:!1,children:{engine:{value:"path_tracing",toggle:!1,required:!1,type:"select",description:"Rendering engine type",options:[{value:"path_tracing",label:"Path Tracing"},{value:"ray_tracing",label:"Ray Tracing"},{value:"rasterization",label:"Rasterization"},{value:"hybrid",label:"Hybrid"},{value:"real_time",label:"Real-Time"}]},samples:{value:512,toggle:!1,required:!1,type:"number",description:"Number of rendering samples",min:64,max:4096,step:64},bounces:{value:8,toggle:!1,required:!1,type:"number",description:"Number of light bounces",min:1,max:32,step:1},denoising:{toggle:!1,required:!1,children:{enabled:{value:!0,toggle:!1,required:!1,type:"boolean",description:"Enable denoising"},strength:{value:.5,toggle:!1,required:!1,type:"number",description:"Denoising strength (0-1)",min:0,max:1,step:.1},preserve_detail:{value:!0,toggle:!1,required:!1,type:"boolean",description:"Preserve detail during denoising"}}},global_illumination:{toggle:!1,required:!1,children:{type:{value:"gi",toggle:!1,required:!1,type:"select",description:"Global illumination type",options:[{value:"none",label:"None"},{value:"gi",label:"Global Illumination"},{value:"ambient_occlusion",label:"Ambient Occlusion"},{value:"indirect",label:"Indirect"},{value:"full",label:"Full GI"}]},intensity:{value:1,toggle:!1,required:!1,type:"number",description:"Global illumination intensity (0-1)",min:0,max:1,step:.1}}}}},procedural_textures:{toggle:!1,required:!1,children:{enabled:{value:!1,toggle:!1,required:!1,type:"boolean",description:"Enable procedural textures"},type:{value:"noise",toggle:!1,required:!1,type:"select",description:"Procedural texture type",options:[{value:"noise",label:"Noise"},{value:"voronoi",label:"Voronoi"},{value:"perlin",label:"Perlin"},{value:"simplex",label:"Simplex"},{value:"fbm",label:"Fractal Brownian Motion"},{value:"cellular",label:"Cellular"}]},parameters:{toggle:!1,required:!1,children:{scale:{value:1,toggle:!1,required:!1,type:"number",description:"Texture scale",min:.1,max:10,step:.1},octaves:{value:4,toggle:!1,required:!1,type:"number",description:"Number of octaves",min:1,max:8,step:1},persistence:{value:.5,toggle:!1,required:!1,type:"number",description:"Persistence value",min:0,max:1,step:.1},lacunarity:{value:2,toggle:!1,required:!1,type:"number",description:"Lacunarity value",min:.5,max:4,step:.1},seed:{value:0,toggle:!1,required:!1,type:"number",description:"Random seed for texture generation",min:0,max:999999,step:1}}},mapping:{toggle:!1,required:!1,children:{projection:{value:"uv",toggle:!1,required:!1,type:"select",description:"Texture projection type",options:[{value:"uv",label:"UV"},{value:"planar",label:"Planar"},{value:"cylindrical",label:"Cylindrical"},{value:"spherical",label:"Spherical"},{value:"box",label:"Box"}]}}}}},environment:{toggle:!1,required:!1,children:{type:{value:"hdri",toggle:!1,required:!1,type:"select",description:"Environment type",options:[{value:"hdri",label:"HDRI"},{value:"gradient",label:"Gradient"},{value:"color",label:"Solid Color"},{value:"sky",label:"Sky"},{value:"studio",label:"Studio"},{value:"indoor",label:"Indoor"},{value:"outdoor",label:"Outdoor"}]},lighting:{toggle:!1,required:!1,children:{mode:{value:"hdri",toggle:!1,required:!1,type:"select",description:"Environment lighting mode",options:[{value:"hdri",label:"HDRI"},{value:"ambient",label:"Ambient"},{value:"directional",label:"Directional"},{value:"mixed",label:"Mixed"}]},hdri:{toggle:!1,required:!1,children:{url:{value:"",toggle:!1,required:!1,type:"text",description:"HDRI image URL"},intensity:{value:1,toggle:!1,required:!1,type:"number",description:"HDRI intensity multiplier",min:0,max:5,step:.1},rotation:{value:0,toggle:!1,required:!1,type:"number",description:"HDRI rotation in degrees",min:0,max:360,step:1},background:{value:!0,toggle:!1,required:!1,type:"boolean",description:"Use HDRI as background"}}},ambient:{toggle:!1,required:!1,children:{color:{value:"[255, 255, 255]",toggle:!1,required:!1,type:"text",description:"Ambient light color (RGB array or hex)"},intensity:{value:.5,toggle:!1,required:!1,type:"number",description:"Ambient light intensity (0-1)",min:0,max:1,step:.1}}}}},atmosphere:{toggle:!1,required:!1,children:{fog:{toggle:!1,required:!1,children:{enabled:{value:!1,toggle:!1,required:!1,type:"boolean",description:"Enable fog effect"},density:{value:.5,toggle:!1,required:!1,type:"number",description:"Fog density (0-1)",min:0,max:1,step:.1},color:{value:"[255, 255, 255]",toggle:!1,required:!1,type:"text",description:"Fog color (RGB array or hex)"}}},aerial_perspective:{toggle:!1,required:!1,children:{enabled:{value:!1,toggle:!1,required:!1,type:"boolean",description:"Enable aerial perspective"},intensity:{value:.5,toggle:!1,required:!1,type:"number",description:"Aerial perspective intensity (0-1)",min:0,max:1,step:.1}}}}}}},composition:{toggle:!1,required:!1,children:{composition_type:{value:"rule_of_thirds",toggle:!1,required:!1,type:"select",description:"Type of composition",options:[{value:"rule_of_thirds",label:"Rule of Thirds"},{value:"golden_ratio",label:"Golden Ratio"},{value:"centered",label:"Centered"},{value:"symmetrical",label:"Symmetrical"},{value:"asymmetrical",label:"Asymmetrical"},{value:"leading_lines",label:"Leading Lines"},{value:"frame_within_frame",label:"Frame Within Frame"},{value:"diagonal",label:"Diagonal"},{value:"triangular",label:"Triangular"},{value:"s_curve",label:"S-Curve"}]},subject_position:{value:"[0.5, 0.5]",toggle:!1,required:!1,type:"text",description:"Subject position as [x, y] coordinates (0-1)"},aspect_ratio:{value:"16:9",toggle:!1,required:!1,type:"select",description:"Image aspect ratio",options:[{value:"1:1",label:"1:1 (Square)"},{value:"4:3",label:"4:3 (Standard)"},{value:"16:9",label:"16:9 (Widescreen)"},{value:"21:9",label:"21:9 (Ultrawide)"},{value:"9:16",label:"9:16 (Portrait)"},{value:"2:3",label:"2:3 (Portrait)"},{value:"3:2",label:"3:2 (Photo)"}]},field_of_view:{value:50,toggle:!1,required:!1,type:"number",description:"Field of view in degrees",min:10,max:180,step:5},perspective:{toggle:!1,required:!1,children:{type:{value:"standard",toggle:!1,required:!1,type:"select",description:"Perspective type",options:[{value:"standard",label:"Standard"},{value:"wide_angle",label:"Wide Angle"},{value:"telephoto",label:"Telephoto"},{value:"fisheye",label:"Fisheye"},{value:"orthographic",label:"Orthographic"},{value:"isometric",label:"Isometric"}]},distortion:{value:0,toggle:!1,required:!1,type:"number",description:"Perspective distortion amount (0-1)",min:0,max:1,step:.1}}}}}}},output:{toggle:!1,required:!1,children:{resolution:{toggle:!1,required:!1,children:{width:{value:1920,toggle:!1,required:!1,type:"number",description:"Output image width in pixels",min:256,max:8192,step:64},height:{value:1080,toggle:!1,required:!1,type:"number",description:"Output image height in pixels",min:256,max:8192,step:64},dpi:{value:300,toggle:!1,required:!1,type:"number",description:"Resolution DPI",min:72,max:600,step:1}}},quality:{toggle:!1,required:!1,children:{supersampling:{toggle:!1,required:!1,children:{enabled:{value:!1,toggle:!1,required:!1,type:"boolean",description:"Enable supersampling"},factor:{value:2,toggle:!1,required:!1,type:"number",description:"Supersampling factor",min:1.5,max:4,step:.5}}},antialiasing:{toggle:!1,required:!1,children:{type:{value:"msaa",toggle:!1,required:!1,type:"select",description:"Antialiasing type",options:[{value:"none",label:"None"},{value:"fxaa",label:"FXAA"},{value:"msaa",label:"MSAA"},{value:"ssaa",label:"SSAA"},{value:"taa",label:"TAA"},{value:"smaa",label:"SMAA"}]},samples:{value:4,toggle:!1,required:!1,type:"number",description:"Antialiasing sample count",min:1,max:16,step:1}}}}},format:{toggle:!1,required:!1,children:{type:{value:"png",toggle:!1,required:!1,type:"select",description:"Output format type",options:[{value:"png",label:"PNG"},{value:"jpg",label:"JPEG"},{value:"webp",label:"WebP"},{value:"tiff",label:"TIFF"},{value:"exr",label:"EXR"},{value:"hdr",label:"HDR"}]},quality:{value:95,toggle:!1,required:!1,type:"number",description:"Output quality (0-100 for lossy formats)",min:1,max:100,step:1},color_space:{value:"srgb",toggle:!1,required:!1,type:"select",description:"Color space",options:[{value:"srgb",label:"sRGB"},{value:"adobe_rgb",label:"Adobe RGB"},{value:"prophoto",label:"ProPhoto RGB"},{value:"rec709",label:"Rec. 709"},{value:"rec2020",label:"Rec. 2020"},{value:"dci_p3",label:"DCI-P3"},{value:"display_p3",label:"Display P3"}]},bit_depth:{value:"8",toggle:!1,required:!1,type:"select",description:"Bit depth",options:[{value:"8",label:"8 bit"},{value:"10",label:"10 bit"},{value:"12",label:"12 bit"},{value:"16",label:"16 bit"},{value:"32",label:"32 bit (Float)"}]}}}}},inherit_settings:{value:"",toggle:!1,required:!1,type:"text",description:"Settings ID to inherit from"},batch_settings:{toggle:!1,required:!1,children:{base_template:{value:"",toggle:!1,required:!1,type:"text",description:"Base template ID for batch generation"},output_count:{value:1,toggle:!1,required:!1,type:"number",description:"Number of output images in batch",min:1,max:100,step:1},vary_parameters:{value:[],toggle:!1,required:!1,type:"array",arrayType:"multiselect",description:"Parameters to vary across batch",options:[{value:"style",label:"Style"},{value:"lighting",label:"Lighting"},{value:"camera",label:"Camera"},{value:"composition",label:"Composition"},{value:"color",label:"Color"},{value:"perspective",label:"Perspective"}]},keep_consistent:{value:[],toggle:!1,required:!1,type:"array",arrayType:"multiselect",description:"Parameters to keep consistent across batch",options:[{value:"subject",label:"Subject"},{value:"background",label:"Background"},{value:"style",label:"Style"},{value:"lighting",label:"Lighting"},{value:"camera",label:"Camera"},{value:"composition",label:"Composition"}]}}},fusion_parameters:{toggle:!1,required:!1,children:{method:{value:"blend",toggle:!1,required:!1,type:"select",description:"Image fusion method",options:[{value:"blend",label:"Blend"},{value:"overlay",label:"Overlay"},{value:"mask",label:"Mask"},{value:"latent_space",label:"Latent Space"},{value:"style_transfer",label:"Style Transfer"}]},composition:{toggle:!1,required:!1,children:{primary_element:{value:"",toggle:!1,required:!1,type:"text",description:"Primary element description"},background:{value:"",toggle:!1,required:!1,type:"text",description:"Background description"},additional_elements:{value:"",toggle:!1,required:!1,type:"text",description:"Additional elements (comma-separated)"},blending_mode:{value:"normal",toggle:!1,required:!1,type:"select",description:"Blending mode for composition",options:[{value:"normal",label:"Normal"},{value:"multiply",label:"Multiply"},{value:"screen",label:"Screen"},{value:"overlay",label:"Overlay"},{value:"soft_light",label:"Soft Light"},{value:"hard_light",label:"Hard Light"},{value:"color_dodge",label:"Color Dodge"},{value:"color_burn",label:"Color Burn"},{value:"darken",label:"Darken"},{value:"lighten",label:"Lighten"}]},edge_handling:{value:"feather",toggle:!1,required:!1,type:"select",description:"Edge handling method",options:[{value:"hard",label:"Hard"},{value:"feather",label:"Feather"},{value:"blur",label:"Blur"},{value:"gradient",label:"Gradient"},{value:"none",label:"None"}]}}},atmospheric_effects:{toggle:!1,required:!1,children:{fog:{toggle:!1,required:!1,children:{density:{value:0,toggle:!1,required:!1,type:"number",description:"Fog density for atmospheric effect",min:0,max:1,step:.1},color:{value:"white",toggle:!1,required:!1,type:"text",description:"Fog color (string or RGB array)"},distribution:{value:"uniform",toggle:!1,required:!1,type:"select",description:"Fog distribution type",options:[{value:"uniform",label:"Uniform"},{value:"linear",label:"Linear"},{value:"exponential",label:"Exponential"},{value:"height_based",label:"Height Based"}]}}},rain:{toggle:!1,required:!1,children:{intensity:{value:0,toggle:!1,required:!1,type:"number",description:"Rain intensity (0-1)",min:0,max:1,step:.1},effect:{value:"light",toggle:!1,required:!1,type:"select",description:"Rain effect type",options:[{value:"none",label:"None"},{value:"light",label:"Light"},{value:"medium",label:"Medium"},{value:"heavy",label:"Heavy"},{value:"torrential",label:"Torrential"}]}}},light_rays:{toggle:!1,required:!1,children:{sources:{value:"",toggle:!1,required:!1,type:"text",description:"Light ray sources (comma-separated)"},intensity:{value:.5,toggle:!1,required:!1,type:"number",description:"Light ray intensity (0-1)",min:0,max:1,step:.1},color:{value:"golden",toggle:!1,required:!1,type:"text",description:"Light ray color (string or RGB array)"}}}}},style_unification:{toggle:!1,required:!1,children:{color_palette:{value:"",toggle:!1,required:!1,type:"text",description:"Unified color palette"},lighting:{value:"consistent",toggle:!1,required:!1,type:"select",description:"Unified lighting style",options:[{value:"consistent",label:"Consistent"},{value:"unified",label:"Unified"},{value:"harmonized",label:"Harmonized"}]},perspective:{value:"consistent",toggle:!1,required:!1,type:"select",description:"Unified perspective",options:[{value:"consistent",label:"Consistent"},{value:"unified",label:"Unified"},{value:"matched",label:"Matched"}]},detail_level:{value:"consistent",toggle:!1,required:!1,type:"select",description:"Unified detail level",options:[{value:"consistent",label:"Consistent"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]}}}}}}},Gs=vo("promptBuilder",{state:()=>{const e=t=>{if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(o=>e(o));const n={};for(const o in t)n[o]=e(t[o]);return n};return{prompt:e(zn.prompt)}},getters:{finalJSON:e=>{const t=o=>{if(o===null||typeof o!="object")return o;if(typeof o=="object"&&!Array.isArray(o)){if("type"in o||"children"in o||"value"in o&&("required"in o||"description"in o)){if("toggle"in o&&o.toggle===!1)return null;if(o.children){const a={};for(const[u,d]of Object.entries(o.children)){const c=t(d);c!==null&&(a[u]=c)}return Object.keys(a).length===0?null:a}return"value"in o?t(o.value):null}const l={};for(const[a,u]of Object.entries(o)){const d=t(u);d!==null&&(l[a]=d)}return Object.keys(l).length>0?l:null}return Array.isArray(o)?o.map(i=>t(i)).filter(i=>i!==null):o},n=t(e.prompt);return{model:zn.model,consistency_id:zn.consistency_id,prompt:n}}},actions:{setValue(e,t){const n=Array.isArray(e)?e:e.split(".");let o=this.prompt;for(let l=0;l<n.length-1;l++){const a=n[l];if(!o[a])return;if(o[a].children)o=o[a].children;else return}const i=n[n.length-1];o[i]&&(o[i].value=t)},getValue(e){const t=Array.isArray(e)?e:e.split(".");let n=this.prompt;for(let o=0;o<t.length;o++){const i=t[o];if(!n[i])return;o<t.length-1&&n[i].children?n=n[i].children:n=n[i]}return n},toggleField(e){const t=this.getValue(e);t&&"toggle"in t&&(t.toggle=!t.toggle)},setToggle(e,t){const n=this.getValue(e);n&&"toggle"in n?n.toggle=t:console.warn(`Cannot set toggle for path "${e}": field not found or doesn't have toggle property`,n)},getFinalJSON(){return this.finalJSON}}}),et=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},Mv=Q({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Be(e,t,n){return le()({name:e,props:Mv({mode:n,origin:t}),setup(o,i){let{slots:l}=i;const a={onBeforeEnter(u){o.origin&&(u.style.transformOrigin=o.origin)},onLeave(u){if(o.leaveAbsolute){const{offsetTop:d,offsetLeft:c,offsetWidth:f,offsetHeight:m}=u;u._transitionInitialStyles={position:u.style.position,top:u.style.top,left:u.style.left,width:u.style.width,height:u.style.height},u.style.position="absolute",u.style.top=`${d}px`,u.style.left=`${c}px`,u.style.width=`${f}px`,u.style.height=`${m}px`}o.hideOnLeave&&u.style.setProperty("display","none","important")},onAfterLeave(u){if(o.leaveAbsolute&&u?._transitionInitialStyles){const{position:d,top:c,left:f,width:m,height:v}=u._transitionInitialStyles;delete u._transitionInitialStyles,u.style.position=d||"",u.style.top=c||"",u.style.left=f||"",u.style.width=m||"",u.style.height=v||""}}};return()=>{const u=o.group?Gl:qt;return Bl(u,{name:o.disabled?"":e,css:!o.disabled,...o.group?void 0:{mode:o.mode},...o.disabled?{}:a},l.default)}}})}function Bs(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return le()({name:e,props:{mode:{type:String,default:n},disabled:{type:Boolean,default:yn()},group:Boolean},setup(o,i){let{slots:l}=i;const a=o.group?Gl:qt;return()=>Bl(a,{name:o.disabled?"":e,css:!o.disabled,...o.disabled?{}:t},l.default)}})}function Hs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",o=Va(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const u=a._initialStyle;if(!u)return;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const d=`${a[o]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=u.transition,e&&a._parent&&a._parent.classList.add(e),requestAnimationFrame(()=>{a.style[n]=d})},onAfterEnter:l,onEnterCancelled:l,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[o]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(a){e&&a._parent&&a._parent.classList.remove(e),l(a)}function l(a){if(!a._initialStyle)return;const u=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,u!=null&&(a.style[n]=u),delete a._initialStyle}}const Nv=Q({target:[Object,Array]},"v-dialog-transition"),On=new WeakMap,No=le()({name:"VDialogTransition",props:Nv(),setup(e,t){let{slots:n}=t;const o={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,l){await new Promise(v=>requestAnimationFrame(v)),await new Promise(v=>requestAnimationFrame(v)),i.style.visibility="";const a=_l(e.target,i),{x:u,y:d,sx:c,sy:f,speed:m}=a;if(On.set(i,a),yn())ct(i,[{opacity:0},{}],{duration:125*m,easing:Jo}).finished.then(()=>l());else{const v=ct(i,[{transform:`translate(${u}px, ${d}px) scale(${c}, ${f})`,opacity:0},{}],{duration:225*m,easing:Jo});Tl(i)?.forEach(p=>{ct(p,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*m,easing:Sn})}),v.finished.then(()=>l())}},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,l){await new Promise(v=>requestAnimationFrame(v));let a;!On.has(i)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?a=_l(e.target,i):a=On.get(i);const{x:u,y:d,sx:c,sy:f,speed:m}=a;yn()?ct(i,[{},{opacity:0}],{duration:85*m,easing:$o}).finished.then(()=>l()):(ct(i,[{},{transform:`translate(${u}px, ${d}px) scale(${c}, ${f})`,opacity:0}],{duration:125*m,easing:$o}).finished.then(()=>l()),Tl(i)?.forEach(p=>{ct(p,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*m,easing:Sn})}))},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>e.target?T(qt,Z({name:"dialog-transition"},o,{css:!1}),n):T(qt,{name:"dialog-transition"},n)}});function Tl(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function _l(e,t){const n=us(e),o=Eo(t),[i,l]=getComputedStyle(t).transformOrigin.split(" ").map(S=>parseFloat(S)),[a,u]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let d=n.left+n.width/2;a==="left"||u==="left"?d-=n.width/2:(a==="right"||u==="right")&&(d+=n.width/2);let c=n.top+n.height/2;a==="top"||u==="top"?c-=n.height/2:(a==="bottom"||u==="bottom")&&(c+=n.height/2);const f=n.width/o.width,m=n.height/o.height,v=Math.max(1,f,m),p=f/v||0,h=m/v||0,g=o.width*o.height/(window.innerWidth*window.innerHeight),y=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:d-(i+o.left),y:c-(l+o.top),sx:p,sy:h,speed:y}}Be("fab-transition","center center","out-in");Be("dialog-bottom-transition");Be("dialog-top-transition");const El=Be("fade-transition"),$s=Be("scale-transition");Be("scroll-x-transition");Be("scroll-x-reverse-transition");Be("scroll-y-transition");Be("scroll-y-reverse-transition");Be("slide-x-transition");Be("slide-x-reverse-transition");const Js=Be("slide-y-transition");Be("slide-y-reverse-transition");const un=Bs("expand-transition",Hs()),zs=Bs("expand-x-transition",Hs("",!0)),Vv=Q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ge(),...Ln({transition:{component:Js}})},"VCounter"),Os=le()({name:"VCounter",functional:!0,props:Vv(),setup(e,t){let{slots:n}=t;const o=F(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return de(()=>T(Dn,{transition:e.transition},{default:()=>[Ne(C("div",{class:te(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:ve(e.style)},[n.default?n.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[Pt,e.active]])]})),{}}}),Dv=Q({text:String,onClick:Ve(),...ge(),...Le()},"VLabel"),Vo=le()({name:"VLabel",props:Dv(),setup(e,t){let{slots:n}=t;return de(()=>C("label",{class:te(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:ve(e.style),onClick:e.onClick},[e.text,n.default?.()])),{}}}),Lv=Q({floating:Boolean,...ge()},"VFieldLabel"),mn=le()({name:"VFieldLabel",props:Lv(),setup(e,t){let{slots:n}=t;return de(()=>T(Vo,{class:te(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:ve(e.style)},n)),{}}});function Ws(e){const{t}=nn();function n(o){let{name:i,color:l,...a}=o;const u={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],d=e[`onClick:${i}`];function c(m){m.key!=="Enter"&&m.key!==" "||(m.preventDefault(),m.stopPropagation(),po(d,new PointerEvent("click",m)))}const f=d&&u?t(`$vuetify.input.${u}`,e.label??""):void 0;return T(ce,Z({icon:e[`${i}Icon`],"aria-label":f,onClick:d,onKeydown:c,color:l},a),null)}return{InputIcon:n}}const Do=Q({focused:Boolean,"onUpdate:focused":Ve()},"focus");function dn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hl();const n=Ae(e,"focused"),o=F(()=>({[`${t}--focused`]:n.value}));function i(){n.value=!0}function l(){n.value=!1}return{focusClasses:o,isFocused:n,focus:i,blur:l}}const Fv=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Lo=Q({appendInnerIcon:Te,bgColor:String,clearable:Boolean,clearIcon:{type:Te,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Te,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Fv.includes(e)},"onClick:clear":Ve(),"onClick:appendInner":Ve(),"onClick:prependInner":Ve(),...ge(),...ir(),...rt(),...Le()},"VField"),Pn=le()({name:"VField",inheritAttrs:!1,props:{id:String,...Do(),...Lo()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:o,slots:i}=t;const{themeClasses:l}=ze(e),{loaderClasses:a}=Ql(e),{focusClasses:u,isFocused:d,focus:c,blur:f}=dn(e),{InputIcon:m}=Ws(e),{roundedClasses:v}=at(e),{rtlClasses:p}=it(),h=F(()=>e.dirty||e.active),g=F(()=>!!(e.label||i.label)),y=F(()=>!e.singleLine&&g.value),S=je(),E=R(()=>e.id||`input-${S}`),_=F(()=>e.details?`${E.value}-messages`:void 0),w=J(),x=J(),P=J(),I=R(()=>["plain","underlined"].includes(e.variant)),b=R(()=>e.error||e.disabled?void 0:h.value&&d.value?e.color:e.baseColor),A=R(()=>{if(!(!e.iconColor||e.glow&&!d.value))return e.iconColor===!0?b.value:e.iconColor}),{backgroundColorClasses:k,backgroundColorStyles:N}=Je(()=>e.bgColor),{textColorClasses:D,textColorStyles:U}=kt(b);ne(h,H=>{if(y.value&&!yn()){const X=w.value.$el,ee=x.value.$el;requestAnimationFrame(()=>{const ae=Eo(X),q=ee.getBoundingClientRect(),Y=q.x-ae.x,B=q.y-ae.y-(ae.height/2-q.height/2),M=q.width/.75,W=Math.abs(M-ae.width)>1?{maxWidth:ye(M)}:void 0,j=getComputedStyle(X),ie=getComputedStyle(ee),L=parseFloat(j.transitionDuration)*1e3||150,O=parseFloat(ie.getPropertyValue("--v-field-label-scale")),re=ie.getPropertyValue("color");X.style.visibility="visible",ee.style.visibility="hidden",ct(X,{transform:`translate(${Y}px, ${B}px) scale(${O})`,color:re,...W},{duration:L,easing:Sn,direction:H?"normal":"reverse"}).finished.then(()=>{X.style.removeProperty("visibility"),ee.style.removeProperty("visibility")})})}},{flush:"post"});const V=R(()=>({isActive:h,isFocused:d,controlRef:P,blur:f,focus:c}));function G(H){H.target!==document.activeElement&&H.preventDefault()}return de(()=>{const H=e.variant==="outlined",X=!!(i["prepend-inner"]||e.prependInnerIcon),ee=!!(e.clearable||i.clear)&&!e.disabled,ae=!!(i["append-inner"]||e.appendInnerIcon||ee),q=()=>i.label?i.label({...V.value,label:e.label,props:{for:E.value}}):e.label;return C("div",Z({class:["v-field",{"v-field--active":h.value,"v-field--appended":ae,"v-field--center-affix":e.centerAffix??!I.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":X,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!q(),[`v-field--variant-${e.variant}`]:!0},l.value,k.value,u.value,a.value,v.value,p.value,e.class],style:[N.value,e.style],onClick:G},n),[C("div",{class:"v-field__overlay"},null),T(Zl,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:i.loader}),X&&C("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&T(m,{key:"prepend-icon",name:"prependInner",color:A.value},null),i["prepend-inner"]?.(V.value)]),C("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&y.value&&T(mn,{key:"floating-label",ref:x,class:te([D.value]),floating:!0,for:E.value,"aria-hidden":!h.value,style:ve(U.value)},{default:()=>[q()]}),g.value&&T(mn,{key:"label",ref:w,for:E.value},{default:()=>[q()]}),i.default?.({...V.value,props:{id:E.value,class:"v-field__input","aria-describedby":_.value},focus:c,blur:f})??C("div",{id:E.value,class:"v-field__input","aria-describedby":_.value},null)]),ee&&T(zs,{key:"clear"},{default:()=>[Ne(C("div",{class:"v-field__clearable",onMousedown:Y=>{Y.preventDefault(),Y.stopPropagation()}},[T(Pe,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[i.clear?i.clear({...V.value,props:{onFocus:c,onBlur:f,onClick:e["onClick:clear"],tabindex:-1}}):T(m,{name:"clear",onFocus:c,onBlur:f,tabindex:-1},null)]})]),[[Pt,e.dirty]])]}),ae&&C("div",{key:"append",class:"v-field__append-inner"},[i["append-inner"]?.(V.value),e.appendInnerIcon&&T(m,{key:"append-icon",name:"appendInner",color:A.value},null)]),C("div",{class:te(["v-field__outline",D.value]),style:ve(U.value)},[H&&C(pe,null,[C("div",{class:"v-field__outline__start"},null),y.value&&C("div",{class:"v-field__outline__notch"},[T(mn,{ref:x,floating:!0,for:E.value,"aria-hidden":!h.value},{default:()=>[q()]})]),C("div",{class:"v-field__outline__end"},null)]),I.value&&y.value&&T(mn,{ref:x,floating:!0,for:E.value,"aria-hidden":!h.value},{default:()=>[q()]})])])}),{controlRef:P,fieldIconColor:A}}}),Uv=Q({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ge(),...Ln({transition:{component:Js,leaveAbsolute:!0,group:!0}})},"VMessages"),qv=le()({name:"VMessages",props:Uv(),setup(e,t){let{slots:n}=t;const o=R(()=>Ke(e.messages)),{textColorClasses:i,textColorStyles:l}=kt(()=>e.color);return de(()=>T(Dn,{transition:e.transition,tag:"div",class:te(["v-messages",i.value,e.class]),style:ve([l.value,e.style])},{default:()=>[e.active&&o.value.map((a,u)=>C("div",{class:"v-messages__message",key:`${u}-${o.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Gv=Symbol.for("vuetify:form");function Fo(e){const t=Fe(Gv,null);return{...t,isReadonly:R(()=>!!(e?.readonly??t?.isReadonly.value)),isDisabled:R(()=>!!(e?.disabled??t?.isDisabled.value))}}const Bv=Symbol.for("vuetify:rules");function Hv(e){const t=Fe(Bv,null);if(!e){if(!t)throw new Error("Could not find Vuetify rules injection");return t.aliases}return t?.resolve(e)??F(e)}const $v=Q({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Do()},"validation");function Jv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hl(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:je();const o=Ae(e,"modelValue"),i=R(()=>e.validationValue===void 0?o.value:e.validationValue),l=Fo(e),a=Hv(()=>e.rules),u=J([]),d=oe(!0),c=R(()=>!!(Ke(o.value===""?null:o.value).length||Ke(i.value===""?null:i.value).length)),f=R(()=>e.errorMessages?.length?Ke(e.errorMessages).concat(u.value).slice(0,Math.max(0,Number(e.maxErrors))):u.value),m=R(()=>{let w=(e.validateOn??l.validateOn?.value)||"input";w==="lazy"&&(w="input lazy"),w==="eager"&&(w="input eager");const x=new Set(w?.split(" ")??[]);return{input:x.has("input"),blur:x.has("blur")||x.has("input")||x.has("invalid-input"),invalidInput:x.has("invalid-input"),lazy:x.has("lazy"),eager:x.has("eager")}}),v=R(()=>e.error||e.errorMessages?.length?!1:e.rules.length?d.value?u.value.length||m.value.lazy?null:!0:!u.value.length:!0),p=oe(!1),h=R(()=>({[`${t}--error`]:v.value===!1,[`${t}--dirty`]:c.value,[`${t}--disabled`]:l.isDisabled.value,[`${t}--readonly`]:l.isReadonly.value})),g=xt("validation"),y=R(()=>e.name??Ue(n));go(()=>{l.register?.({id:y.value,vm:g,validate:_,reset:S,resetValidation:E})}),lt(()=>{l.unregister?.(y.value)}),gt(async()=>{m.value.lazy||await _(!m.value.eager),l.update?.(y.value,v.value,f.value)}),Ye(()=>m.value.input||m.value.invalidInput&&v.value===!1,()=>{ne(i,()=>{if(i.value!=null)_();else if(e.focused){const w=ne(()=>e.focused,x=>{x||_(),w()})}})}),Ye(()=>m.value.blur,()=>{ne(()=>e.focused,w=>{w||_()})}),ne([v,f],()=>{l.update?.(y.value,v.value,f.value)});async function S(){o.value=null,await Ie(),await E()}async function E(){d.value=!0,m.value.lazy?u.value=[]:await _(!m.value.eager)}async function _(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const x=[];p.value=!0;for(const P of a.value){if(x.length>=Number(e.maxErrors??1))break;const b=await(typeof P=="function"?P:()=>P)(i.value);if(b!==!0){if(b!==!1&&typeof b!="string"){console.warn(`${b} is not a valid value. Rule functions must return boolean true or a string.`);continue}x.push(b||"")}}return u.value=x,p.value=!1,d.value=w,u.value}return{errorMessages:f,isDirty:c,isDisabled:l.isDisabled,isReadonly:l.isReadonly,isPristine:d,isValid:v,isValidating:p,reset:S,resetValidation:E,validate:_,validationClasses:h}}const cn=Q({id:String,appendIcon:Te,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Te,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Ve(),"onClick:append":Ve(),...ge(),...Bt(),...Nn(yt(),["maxWidth","minWidth","width"]),...Le(),...$v()},"VInput"),vt=le()({name:"VInput",props:{...cn()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:o,emit:i}=t;const{densityClasses:l}=Gt(e),{dimensionStyles:a}=ht(e),{themeClasses:u}=ze(e),{rtlClasses:d}=it(),{InputIcon:c}=Ws(e),f=je(),m=R(()=>e.id||`input-${f}`),{errorMessages:v,isDirty:p,isDisabled:h,isReadonly:g,isPristine:y,isValid:S,isValidating:E,reset:_,resetValidation:w,validate:x,validationClasses:P}=Jv(e,"v-input",m),I=R(()=>e.errorMessages?.length||!y.value&&v.value.length?v.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages),b=F(()=>I.value.length>0),A=F(()=>!e.hideDetails||e.hideDetails==="auto"&&(b.value||!!o.details)),k=R(()=>A.value?`${m.value}-messages`:void 0),N=R(()=>({id:m,messagesId:k,isDirty:p,isDisabled:h,isReadonly:g,isPristine:y,isValid:S,isValidating:E,hasDetails:A,reset:_,resetValidation:w,validate:x})),D=F(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),U=F(()=>{if(e.iconColor)return e.iconColor===!0?D.value:e.iconColor});return de(()=>{const V=!!(o.prepend||e.prependIcon),G=!!(o.append||e.appendIcon);return C("div",{class:te(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},l.value,u.value,d.value,P.value,e.class]),style:ve([a.value,e.style])},[V&&C("div",{key:"prepend",class:"v-input__prepend"},[o.prepend?.(N.value),e.prependIcon&&T(c,{key:"prepend-icon",name:"prepend",color:U.value},null)]),o.default&&C("div",{class:"v-input__control"},[o.default?.(N.value)]),G&&C("div",{key:"append",class:"v-input__append"},[e.appendIcon&&T(c,{key:"append-icon",name:"append",color:U.value},null),o.append?.(N.value)]),A.value&&C("div",{id:k.value,class:"v-input__details",role:"alert","aria-live":"polite"},[T(qv,{active:b.value,messages:I.value},{message:o.message}),o.details?.(N.value)])])}),{reset:_,resetValidation:w,validate:x,isValid:S,errorMessages:v}}}),Ks=Q({autocomplete:String},"autocomplete");function Ys(e){const t=je(),n=oe(0),o=F(()=>e.autocomplete==="suppress"),i=F(()=>o.value?`${e.name}-${t}-${n.value}`:e.name),l=F(()=>o.value?"off":e.autocomplete);return{isSuppressing:o,fieldAutocomplete:l,fieldName:i,update:()=>n.value=new Date().getTime()}}function Xs(e){function t(n,o){!e.autofocus||!n||o[0].target?.focus?.()}return{onIntersect:t}}const Wn=Symbol("Forwarded refs");function Kn(e,t){let n=e;for(;n;){const o=Reflect.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e[Wn]=n,new Proxy(e,{get(i,l){if(Reflect.has(i,l))return Reflect.get(i,l);if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,l)){const u=Reflect.get(a.value,l);return typeof u=="function"?u.bind(a.value):u}}},has(i,l){if(Reflect.has(i,l))return!0;if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,l))return!0;return!1},set(i,l,a){if(Reflect.has(i,l))return Reflect.set(i,l,a);if(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))return!1;for(const u of n)if(u.value&&Reflect.has(u.value,l))return Reflect.set(u.value,l,a);return!1},getOwnPropertyDescriptor(i,l){const a=Reflect.getOwnPropertyDescriptor(i,l);if(a)return a;if(!(typeof l=="symbol"||l.startsWith("$")||l.startsWith("__"))){for(const u of n){if(!u.value)continue;const d=Kn(u.value,l)??("_"in u.value?Kn(u.value._?.setupState,l):void 0);if(d)return d}for(const u of n){const d=u.value&&u.value[Wn];if(!d)continue;const c=d.slice();for(;c.length;){const f=c.shift(),m=Kn(f.value,l);if(m)return m;const v=f.value&&f.value[Wn];v&&c.push(...v)}}}}})}const zv=["color","file","time","date","datetime-local","week","month"],Qs=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Ks(),...cn(),...Lo()},"VTextField"),pt=le()({name:"VTextField",directives:{vIntersect:_n},inheritAttrs:!1,props:Qs(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:o,slots:i}=t;const l=Ae(e,"modelValue"),{isFocused:a,focus:u,blur:d}=dn(e),{onIntersect:c}=Xs(e),f=R(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:(l.value??"").toString().length),m=R(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),v=R(()=>["plain","underlined"].includes(e.variant)),p=J(),h=J(),g=J(),y=Ys(e),S=R(()=>zv.includes(e.type)||e.persistentPlaceholder||a.value||e.active);function E(){y.isSuppressing.value&&y.update(),a.value||u(),Ie(()=>{g.value!==document.activeElement&&g.value?.focus()})}function _(I){o("mousedown:control",I),I.target!==g.value&&(E(),I.preventDefault())}function w(I){o("click:control",I)}function x(I,b){I.stopPropagation(),E(),Ie(()=>{b(),po(e["onClick:clear"],I)})}function P(I){const b=I.target;if(l.value=b.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const A=[b.selectionStart,b.selectionEnd];Ie(()=>{b.selectionStart=A[0],b.selectionEnd=A[1]})}}return de(()=>{const I=!!(i.counter||e.counter!==!1&&e.counter!=null),b=!!(I||i.details),[A,k]=Vn(n),{modelValue:N,...D}=vt.filterProps(e),U=Pn.filterProps(e);return T(vt,Z({ref:p,modelValue:l.value,"onUpdate:modelValue":V=>l.value=V,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":v.value},e.class],style:e.style},A,D,{centerAffix:!v.value,focused:a.value}),{...i,default:V=>{let{id:G,isDisabled:H,isDirty:X,isReadonly:ee,isValid:ae,hasDetails:q,reset:Y}=V;return T(Pn,Z({ref:h,onMousedown:_,onClick:w,"onClick:clear":B=>x(B,Y),role:e.role},Rt(U,["onClick:clear"]),{id:G.value,active:S.value||X.value,dirty:X.value||e.dirty,disabled:H.value,focused:a.value,details:q.value,error:ae.value===!1}),{...i,default:B=>{let{props:{class:M,...W},controlRef:j}=B;const ie=Ne(C("input",Z({ref:L=>g.value=j.value=L,value:l.value,onInput:P,autofocus:e.autofocus,readonly:ee.value,disabled:H.value,name:y.fieldName.value,autocomplete:y.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:u,onBlur:d},W,k),null),[[_n,{handler:c},null,{once:!0}]]);return C(pe,null,[e.prefix&&C("span",{class:"v-text-field__prefix"},[C("span",{class:"v-text-field__prefix__text"},[e.prefix])]),i.default?C("div",{class:te(M),"data-no-activator":""},[i.default(),ie]):Da(ie,{class:M}),e.suffix&&C("span",{class:"v-text-field__suffix"},[C("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:b?V=>C(pe,null,[i.details?.(V),I&&C(pe,null,[C("span",null,null),T(Os,{active:e.persistentCounter||a.value,value:f.value,max:m.value,disabled:e.disabled},i.counter)])]):void 0})}),_t({},p,h,g)}}),Ov=Q({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ks(),...cn(),...Lo()},"VTextarea"),Zs=le()({name:"VTextarea",directives:{vIntersect:_n},inheritAttrs:!1,props:Ov(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,t){let{attrs:n,emit:o,slots:i}=t;const l=Ae(e,"modelValue"),{isFocused:a,focus:u,blur:d}=dn(e),{onIntersect:c}=Xs(e),f=R(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value||"").toString().length),m=R(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),v=J(),p=J(),h=oe(""),g=J(),y=J(0),{platform:S}=on(),E=Ys(e),_=R(()=>e.persistentPlaceholder||a.value||e.active);function w(){E.isSuppressing.value&&E.update(),g.value!==document.activeElement&&g.value?.focus(),a.value||u()}function x(V){w(),o("click:control",V)}function P(V){o("mousedown:control",V)}function I(V){V.stopPropagation(),w(),Ie(()=>{l.value="",po(e["onClick:clear"],V)})}function b(V){const G=V.target;if(l.value=G.value,e.modelModifiers?.trim){const H=[G.selectionStart,G.selectionEnd];Ie(()=>{G.selectionStart=H[0],G.selectionEnd=H[1]})}}const A=J(),k=J(Number(e.rows)),N=R(()=>["plain","underlined"].includes(e.variant));mt(()=>{e.autoGrow||(k.value=Number(e.rows))});function D(){Ie(()=>{if(!g.value)return;if(S.value.firefox){y.value=12;return}const{offsetWidth:V,clientWidth:G}=g.value;y.value=Math.max(0,V-G)}),e.autoGrow&&Ie(()=>{if(!A.value||!p.value)return;const V=getComputedStyle(A.value),G=getComputedStyle(p.value.$el),H=parseFloat(V.getPropertyValue("--v-field-padding-top"))+parseFloat(V.getPropertyValue("--v-input-padding-top"))+parseFloat(V.getPropertyValue("--v-field-padding-bottom")),X=A.value.scrollHeight,ee=parseFloat(V.lineHeight),ae=Math.max(parseFloat(e.rows)*ee+H,parseFloat(G.getPropertyValue("--v-input-control-height"))),q=parseFloat(e.maxRows)*ee+H||1/0,Y=Xe(X??0,ae,q);k.value=Math.floor((Y-H)/ee),h.value=ye(Y)})}gt(D),ne(l,D),ne(()=>e.rows,D),ne(()=>e.maxRows,D),ne(()=>e.density,D),ne(k,V=>{o("update:rows",V)});let U;return ne(A,V=>{V?(U=new ResizeObserver(D),U.observe(A.value)):U?.disconnect()}),lt(()=>{U?.disconnect()}),de(()=>{const V=!!(i.counter||e.counter||e.counterValue),G=!!(V||i.details),[H,X]=Vn(n),{modelValue:ee,...ae}=vt.filterProps(e),q={...Pn.filterProps(e),"onClick:clear":I};return T(vt,Z({ref:v,modelValue:l.value,"onUpdate:modelValue":Y=>l.value=Y,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":N.value},e.class],style:[{"--v-textarea-scroll-bar-width":ye(y.value)},e.style]},H,ae,{centerAffix:k.value===1&&!N.value,focused:a.value}),{...i,default:Y=>{let{id:B,isDisabled:M,isDirty:W,isReadonly:j,isValid:ie,hasDetails:L}=Y;return T(Pn,Z({ref:p,style:{"--v-textarea-control-height":h.value},onClick:x,onMousedown:P,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},q,{id:B.value,active:_.value||W.value,centerAffix:k.value===1&&!N.value,dirty:W.value||e.dirty,disabled:M.value,focused:a.value,details:L.value,error:ie.value===!1}),{...i,default:O=>{let{props:{class:re,...Ce},controlRef:xe}=O;return C(pe,null,[e.prefix&&C("span",{class:"v-text-field__prefix"},[e.prefix]),Ne(C("textarea",Z({ref:me=>g.value=xe.value=me,class:re,value:l.value,onInput:b,autofocus:e.autofocus,readonly:j.value,disabled:M.value,placeholder:e.placeholder,rows:e.rows,name:E.fieldName.value,autocomplete:E.fieldAutocomplete.value,onFocus:w,onBlur:d},Ce,X),null),[[_n,{handler:c},null,{once:!0}]]),e.autoGrow&&Ne(C("textarea",{class:te([re,"v-textarea__sizer"]),id:`${Ce.id}-sizer`,"onUpdate:modelValue":me=>l.value=me,ref:A,readonly:!0,"aria-hidden":"true"},null),[[La,l.value]]),e.suffix&&C("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:G?Y=>C(pe,null,[i.details?.(Y),V&&C(pe,null,[C("span",null,null),T(Os,{active:e.persistentCounter||a.value,value:f.value,max:m.value,disabled:e.disabled},i.counter)])]):void 0})}),_t({},v,p,g)}});function Yn(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Wv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Il(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:o}=e,i=o==="left"?0:o==="center"?t.width/2:o==="right"?t.width:o,l=n==="top"?0:n==="bottom"?t.height:n;return Yn({x:i,y:l},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:o}=e,i=n==="left"?0:n==="right"?t.width:n,l=o==="top"?0:o==="center"?t.height/2:o==="bottom"?t.height:o;return Yn({x:i,y:l},t)}return Yn({x:t.width/2,y:t.height/2},t)}const js={static:Xv,connected:Zv},Kv=Q({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in js},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array],stickToTarget:Boolean},"VOverlay-location-strategies");function Yv(e,t){const n=J({}),o=J();De&&Ye(()=>!!(t.isActive.value&&e.locationStrategy),u=>{ne(()=>e.locationStrategy,u),qe(()=>{window.removeEventListener("resize",i),visualViewport?.removeEventListener("resize",l),visualViewport?.removeEventListener("scroll",a),o.value=void 0}),window.addEventListener("resize",i,{passive:!0}),visualViewport?.addEventListener("resize",l,{passive:!0}),visualViewport?.addEventListener("scroll",a,{passive:!0}),typeof e.locationStrategy=="function"?o.value=e.locationStrategy(t,e,n)?.updateLocation:o.value=js[e.locationStrategy](t,e,n)?.updateLocation});function i(u){o.value?.(u)}function l(u){o.value?.(u)}function a(u){o.value?.(u)}return{contentStyles:n,updateLocation:o}}function Xv(){}function Qv(e,t){const n=Eo(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function Zv(e,t,n){(Array.isArray(e.target.value)||pr(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:l}=Fa(()=>{const S=Yo(t.location,e.isRtl.value),E=t.origin==="overlap"?S:t.origin==="auto"?Jn(S):Yo(t.origin,e.isRtl.value);return S.side===E.side&&S.align===$n(E).align?{preferredAnchor:Xo(S),preferredOrigin:Xo(E)}:{preferredAnchor:S,preferredOrigin:E}}),[a,u,d,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(S=>R(()=>{const E=parseFloat(t[S]);return isNaN(E)?1/0:E})),f=R(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const S=t.offset.split(" ").map(parseFloat);return S.length<2&&S.push(0),S}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let m=!1,v=-1;const p=new $l(4),h=new ResizeObserver(()=>{if(!m)return;if(requestAnimationFrame(E=>{E!==v&&p.clear(),requestAnimationFrame(_=>{v=_})}),p.isFull){const E=p.values();if(tt(E.at(-1),E.at(-3))&&!tt(E.at(-1),E.at(-2)))return}const S=y();S&&p.push(S.flipped)});let g=new He({x:0,y:0,width:0,height:0});ne(e.target,(S,E)=>{E&&!Array.isArray(E)&&h.unobserve(E),Array.isArray(S)?tt(S,E)||y():S&&h.observe(S)},{immediate:!0}),ne(e.contentEl,(S,E)=>{E&&h.unobserve(E),S&&h.observe(S)},{immediate:!0}),qe(()=>{h.disconnect()});function y(){if(m=!1,requestAnimationFrame(()=>m=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(g=us(e.target.value));const S=Qv(e.contentEl.value,e.isRtl.value),E=En(e.contentEl.value),_=t.stickToTarget?0:12;E.length||(E.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(S.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),S.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const w=E.reduce((U,V)=>{const G=cr(V);return U?new He({x:Math.max(U.left,G.left),y:Math.max(U.top,G.top),width:Math.min(U.right,G.right)-Math.max(U.left,G.left),height:Math.min(U.bottom,G.bottom)-Math.max(U.top,G.top)}):G},void 0);t.stickToTarget?(w.x+=Math.min(0,g.x),w.y+=Math.min(0,g.y),w.width=Math.max(w.width,g.x+g.width),w.height=Math.max(w.height,g.y+g.height)):(w.x+=_,w.y+=_,w.width-=_*2,w.height-=_*2);let x={anchor:i.value,origin:l.value};function P(U){const V=new He(S),G=Il(U.anchor,g),H=Il(U.origin,V);let{x:X,y:ee}=Wv(G,H);switch(U.anchor.side){case"top":ee-=f.value[0];break;case"bottom":ee+=f.value[0];break;case"left":X-=f.value[0];break;case"right":X+=f.value[0];break}switch(U.anchor.align){case"top":ee-=f.value[1];break;case"bottom":ee+=f.value[1];break;case"left":X-=f.value[1];break;case"right":X+=f.value[1];break}return V.x+=X,V.y+=ee,V.width=Math.min(V.width,d.value),V.height=Math.min(V.height,c.value),{overflows:Qo(V,w),x:X,y:ee}}let I=0,b=0;const A={x:0,y:0},k={x:!1,y:!1};let N=-1;for(;!(N++>10);){const{x:U,y:V,overflows:G}=P(x);I+=U,b+=V,S.x+=U,S.y+=V;{const H=Ko(x.anchor),X=G.x.before||G.x.after,ee=G.y.before||G.y.after;let ae=!1;if(["x","y"].forEach(q=>{if(q==="x"&&X&&!k.x||q==="y"&&ee&&!k.y){const Y={anchor:{...x.anchor},origin:{...x.origin}},B=q==="x"?H==="y"?$n:Jn:H==="y"?Jn:$n;Y.anchor=B(Y.anchor),Y.origin=B(Y.origin);const{overflows:M}=P(Y);(M[q].before<=G[q].before&&M[q].after<=G[q].after||M[q].before+M[q].after<(G[q].before+G[q].after)/2)&&(x=Y,ae=k[q]=!0)}}),ae)continue}G.x.before&&(I+=G.x.before,S.x+=G.x.before),G.x.after&&(I-=G.x.after,S.x-=G.x.after),G.y.before&&(b+=G.y.before,S.y+=G.y.before),G.y.after&&(b-=G.y.after,S.y-=G.y.after);{const H=Qo(S,w);A.x=w.width-H.x.before-H.x.after,A.y=w.height-H.y.before-H.y.after,I+=H.x.before,S.x+=H.x.before,b+=H.y.before,S.y+=H.y.before}break}const D=Ko(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:ye(Xn(b)),left:e.isRtl.value?void 0:ye(Xn(I)),right:e.isRtl.value?ye(Xn(-I)):void 0,minWidth:ye(D==="y"?Math.min(a.value,g.width):a.value),maxWidth:ye(Al(Xe(A.x,a.value===1/0?0:a.value,d.value))),maxHeight:ye(Al(Xe(A.y,u.value===1/0?0:u.value,c.value)))}),{available:A,contentBox:S,flipped:k}}return ne(()=>[i.value,l.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>y()),Ie(()=>{const S=y();if(!S)return;const{available:E,contentBox:_}=S;_.height>E.y&&requestAnimationFrame(()=>{y(),requestAnimationFrame(()=>{y()})})}),{updateLocation:y}}function Xn(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Al(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let uo=!0;const xn=[];function jv(e){!uo||xn.length?(xn.push(e),co()):(uo=!1,e(),co())}let bl=-1;function co(){cancelAnimationFrame(bl),bl=requestAnimationFrame(()=>{const e=xn.shift();e&&e(),xn.length?co():uo=!0})}const ea={none:null,close:np,block:op,reposition:ip},ep=Q({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ea}},"VOverlay-scroll-strategies");function tp(e,t){if(!De)return;let n;mt(async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=Jl(),await new Promise(o=>setTimeout(o)),n.active&&n.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):ea[e.scrollStrategy]?.(t,e,n)}))}),qe(()=>{n?.stop()})}function np(e){function t(n){e.isActive.value=!1}ta(Uo(e.target.value,e.contentEl.value),t)}function op(e,t){const n=e.root.value?.offsetParent,o=Uo(e.target.value,e.contentEl.value),i=[...new Set([...En(o,t.contained?n:void 0),...En(e.contentEl.value,t.contained?n:void 0)])].filter(u=>!u.classList.contains("v-overlay-scroll-blocked")),l=window.innerWidth-document.documentElement.offsetWidth,a=(u=>Io(u)&&u)(n||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((u,d)=>{u.style.setProperty("--v-body-scroll-x",ye(-u.scrollLeft)),u.style.setProperty("--v-body-scroll-y",ye(-u.scrollTop)),u!==document.documentElement&&u.style.setProperty("--v-scrollbar-offset",ye(l)),u.classList.add("v-overlay-scroll-blocked")}),qe(()=>{i.forEach((u,d)=>{const c=parseFloat(u.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(u.style.getPropertyValue("--v-body-scroll-y")),m=u.style.scrollBehavior;u.style.scrollBehavior="auto",u.style.removeProperty("--v-body-scroll-x"),u.style.removeProperty("--v-body-scroll-y"),u.style.removeProperty("--v-scrollbar-offset"),u.classList.remove("v-overlay-scroll-blocked"),u.scrollLeft=-c,u.scrollTop=-f,u.style.scrollBehavior=m}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function ip(e,t,n){let o=!1,i=-1,l=-1;function a(u){jv(()=>{const d=performance.now();e.updateLocation.value?.(u),o=(performance.now()-d)/(1e3/60)>2})}l=(typeof requestIdleCallback>"u"?u=>u():requestIdleCallback)(()=>{n.run(()=>{ta(Uo(e.target.value,e.contentEl.value),u=>{o?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{a(u)})})):a(u)})})}),qe(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(l),cancelAnimationFrame(i)})}function Uo(e,t){return Array.isArray(e)?document.elementsFromPoint(...e).find(n=>!t?.contains(n)):e??t}function ta(e,t){const n=[document,...En(e)];n.forEach(o=>{o.addEventListener("scroll",t,{passive:!0})}),qe(()=>{n.forEach(o=>{o.removeEventListener("scroll",t)})})}const fo=Symbol.for("vuetify:v-menu"),na=Q({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function oa(e,t){let n=()=>{};function o(a,u){n?.();const d=Math.max(u?.minDelay??0,Number(a?e.openDelay:e.closeDelay));return new Promise(c=>{n=Ua(d,()=>{t?.(a),c(a)})})}function i(){return o(!0)}function l(a){return o(!1,a)}return{clearDelay:n,runOpenDelay:i,runCloseDelay:l}}const lp=Q({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...na()},"VOverlay-activator");function sp(e,t){let{isActive:n,isTop:o,contentEl:i}=t;const l=xt("useActivator"),a=J();let u=!1,d=!1,c=!0;const f=R(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),m=R(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!f.value),{runOpenDelay:v,runCloseDelay:p}=oa(e,b=>{b===(e.openOnHover&&u||f.value&&d)&&!(e.openOnHover&&n.value&&!o.value)&&(n.value!==b&&(c=!0),n.value=b)}),h=J(),g={onClick:b=>{b.stopPropagation(),a.value=b.currentTarget||b.target,n.value||(h.value=[b.clientX,b.clientY]),n.value=!n.value},onMouseenter:b=>{u=!0,a.value=b.currentTarget||b.target,v()},onMouseleave:b=>{u=!1,p()},onFocus:b=>{Cn(b.target,":focus-visible")!==!1&&(d=!0,b.stopPropagation(),a.value=b.currentTarget||b.target,v())},onBlur:b=>{d=!1,b.stopPropagation(),p({minDelay:1})}},y=R(()=>{const b={};return m.value&&(b.onClick=g.onClick),e.openOnHover&&(b.onMouseenter=g.onMouseenter,b.onMouseleave=g.onMouseleave),f.value&&(b.onFocus=g.onFocus,b.onBlur=g.onBlur),b}),S=R(()=>{const b={};if(e.openOnHover&&(b.onMouseenter=()=>{u=!0,v()},b.onMouseleave=()=>{u=!1,p()}),f.value&&(b.onFocusin=()=>{d=!0,v()},b.onFocusout=()=>{d=!1,p({minDelay:1})}),e.closeOnContentClick){const A=Fe(fo,null);b.onClick=()=>{n.value=!1,A?.closeParents()}}return b}),E=R(()=>{const b={};return e.openOnHover&&(b.onMouseenter=()=>{c&&(u=!0,c=!1,v())},b.onMouseleave=()=>{u=!1,p()}),b});ne(o,b=>{b&&(e.openOnHover&&!u&&(!f.value||!d)||f.value&&!d&&(!e.openOnHover||!u))&&!i.value?.contains(document.activeElement)&&(n.value=!1)}),ne(n,b=>{b||setTimeout(()=>{h.value=void 0})},{flush:"post"});const _=zo();mt(()=>{_.value&&Ie(()=>{a.value=_.el})});const w=zo(),x=R(()=>e.target==="cursor"&&h.value?h.value:w.value?w.el:ia(e.target,l)||a.value),P=R(()=>Array.isArray(x.value)?void 0:x.value);let I;return ne(()=>!!e.activator,b=>{b&&De?(I=Jl(),I.run(()=>{ap(e,l,{activatorEl:a,activatorEvents:y})})):I&&I.stop()},{flush:"post",immediate:!0}),qe(()=>{I?.stop()}),{activatorEl:a,activatorRef:_,target:x,targetEl:P,targetRef:w,activatorEvents:y,contentEvents:S,scrimEvents:E}}function ap(e,t,n){let{activatorEl:o,activatorEvents:i}=n;ne(()=>e.activator,(d,c)=>{if(c&&d!==c){const f=u(c);f&&a(f)}d&&Ie(()=>l())},{immediate:!0}),ne(()=>e.activatorProps,()=>{l()}),qe(()=>{a()});function l(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;d&&fr(d,Z(i.value,c))}function a(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;d&&mr(d,Z(i.value,c))}function u(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const c=ia(d,t);return o.value=c?.nodeType===Node.ELEMENT_NODE?c:void 0,o.value}}function ia(e,t){if(!e)return;let n;if(e==="parent"){let o=t?.proxy?.$el?.parentNode;for(;o?.hasAttribute("data-no-activator");)o=o.parentNode;n=o}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function rp(){if(!De)return oe(!1);const{ssr:e}=on();if(e){const t=oe(!1);return gt(()=>{t.value=!0}),t}else return oe(!0)}const la=Q({eager:Boolean},"lazy");function sa(e,t){const n=oe(!1),o=F(()=>n.value||e.eager||t.value);ne(t,()=>n.value=!0);function i(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:o,onAfterLeave:i}}function fn(){const t=xt("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const wl=Symbol.for("vuetify:stack"),Wt=zl([]);function up(e,t,n){const o=xt("useStack"),i=!n,l=Fe(wl,void 0),a=zl({activeChildren:new Set});st(wl,a);const u=oe(Number(Et(t)));Ye(e,()=>{const f=Wt.at(-1)?.[1];u.value=f?f+10:Number(Et(t)),i&&Wt.push([o.uid,u.value]),l?.activeChildren.add(o.uid),qe(()=>{if(i){const m=we(Wt).findIndex(v=>v[0]===o.uid);Wt.splice(m,1)}l?.activeChildren.delete(o.uid)})});const d=oe(!0);i&&mt(()=>{const f=Wt.at(-1)?.[0]===o.uid;setTimeout(()=>d.value=f)});const c=F(()=>!a.activeChildren.size);return{globalTop:Ol(d),localTop:c,stackStyles:F(()=>({zIndex:u.value}))}}function dp(e){return{teleportTarget:R(()=>{const n=e();if(n===!0||!De)return;const o=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(o==null)return;let i=[...o.children].find(l=>l.matches(".v-overlay-container"));return i||(i=document.createElement("div"),i.className="v-overlay-container",o.appendChild(i)),i})}}function cp(){return!0}function aa(e,t,n){if(!e||ra(e,n)===!1)return!1;const o=ds(t);if(typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&o.host===e.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(t),!i.some(l=>l?.contains(e.target))}function ra(e,t){return(typeof t.value=="object"&&t.value.closeConditional||cp)(e)}function fp(e,t,n){const o=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&aa(e,t,n)&&setTimeout(()=>{ra(e,n)&&o&&o(e)},0)}function Pl(e,t){const n=ds(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const xl={mounted(e,t){const n=i=>fp(i,e,t),o=i=>{e._clickOutside.lastMousedownWasOutside=aa(i,e,t)};Pl(e,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",o,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:o}},beforeUnmount(e,t){e._clickOutside&&(Pl(e,n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:o,onMousedown:i}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",o,!0),n.removeEventListener("mousedown",i,!0)}),delete e._clickOutside[t.instance.$.uid])}};function mp(e){const{modelValue:t,color:n,...o}=e;return T(qt,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&C("div",Z({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},o),null)]})}const Bn=Q({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...lp(),...ge(),...yt(),...la(),...Kv(),...ep(),...Le(),...Ln()},"VOverlay"),bt=le()({name:"VOverlay",directives:{vClickOutside:xl},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Bn()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:o,emit:i}=t;const l=xt("VOverlay"),a=J(),u=J(),d=J(),c=Ae(e,"modelValue"),f=R({get:()=>c.value,set:L=>{L&&e.disabled||(c.value=L)}}),{themeClasses:m}=ze(e),{rtlClasses:v,isRtl:p}=it(),{hasContent:h,onAfterLeave:g}=sa(e,f),y=Je(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:S,localTop:E,stackStyles:_}=up(f,()=>e.zIndex,e._disableGlobalStack),{activatorEl:w,activatorRef:x,target:P,targetEl:I,targetRef:b,activatorEvents:A,contentEvents:k,scrimEvents:N}=sp(e,{isActive:f,isTop:E,contentEl:d}),{teleportTarget:D}=dp(()=>{const L=e.attach||e.contained;if(L)return L;const O=w?.value?.getRootNode()||l.proxy?.$el?.getRootNode();return O instanceof ShadowRoot?O:!1}),{dimensionStyles:U}=ht(e),V=rp(),{scopeId:G}=fn();ne(()=>e.disabled,L=>{L&&(f.value=!1)});const{contentStyles:H,updateLocation:X}=Yv(e,{isRtl:p,contentEl:d,target:P,isActive:f});tp(e,{root:a,contentEl:d,targetEl:I,target:P,isActive:f,updateLocation:X});function ee(L){i("click:outside",L),e.persistent?W():f.value=!1}function ae(L){return f.value&&S.value&&(!e.scrim||L.target===u.value||L instanceof MouseEvent&&L.shadowTarget===u.value)}De&&ne(f,L=>{L?window.addEventListener("keydown",q):window.removeEventListener("keydown",q)},{immediate:!0}),lt(()=>{De&&window.removeEventListener("keydown",q)});function q(L){L.key==="Escape"&&S.value&&(d.value?.contains(document.activeElement)||i("keydown",L),e.persistent?W():(f.value=!1,d.value?.contains(document.activeElement)&&w.value?.focus()))}function Y(L){L.key==="Escape"&&!S.value||i("keydown",L)}const B=jl();Ye(()=>e.closeOnBack,()=>{lr(B,L=>{S.value&&f.value?(L(!1),e.persistent?W():f.value=!1):L()})});const M=J();ne(()=>f.value&&(e.absolute||e.contained)&&D.value==null,L=>{if(L){const O=cs(a.value);O&&O!==document.scrollingElement&&(M.value=O.scrollTop)}});function W(){e.noClickAnimation||d.value&&ct(d.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Sn})}function j(){i("afterEnter")}function ie(){g(),i("afterLeave")}return de(()=>C(pe,null,[n.activator?.({isActive:f.value,targetRef:b,props:Z({ref:x},A.value,e.activatorProps)}),V.value&&h.value&&T(qa,{disabled:!D.value,to:D.value},{default:()=>[C("div",Z({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":f.value,"v-overlay--contained":e.contained},m.value,v.value,e.class],style:[_.value,{"--v-overlay-opacity":e.opacity,top:ye(M.value)},e.style],ref:a,onKeydown:Y},G,o),[T(mp,Z({color:y,modelValue:f.value&&!!e.scrim,ref:u},N.value),null),T(Dn,{appear:!0,persisted:!0,transition:e.transition,target:P.value,onAfterEnter:j,onAfterLeave:ie},{default:()=>[Ne(C("div",Z({ref:d,class:["v-overlay__content",e.contentClass],style:[U.value,H.value]},k.value,e.contentProps),[n.default?.({isActive:f})]),[[Pt,f.value],[xl,{handler:ee,closeConditional:ae,include:()=>[w.value]}]])]})])]})])),{activatorEl:w,scrimEl:u,target:P,animateClick:W,contentEl:d,rootEl:a,globalTop:S,localTop:E,updateLocation:X}}}),vp=Q({id:String,interactive:Boolean,text:String,...Rt(Bn({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),Zt=le()({name:"VTooltip",props:vp(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const o=Ae(e,"modelValue"),{scopeId:i}=fn(),l=je(),a=F(()=>e.id||`v-tooltip-${l}`),u=J(),d=R(()=>e.location.split(" ").length>1?e.location:e.location+" center"),c=R(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),f=F(()=>e.transition!=null?e.transition:o.value?"scale-transition":"fade-transition"),m=R(()=>Z({"aria-describedby":a.value},e.activatorProps));return de(()=>{const v=bt.filterProps(e);return T(bt,Z({ref:u,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:a.value},v,{modelValue:o.value,"onUpdate:modelValue":p=>o.value=p,transition:f.value,absolute:!0,location:d.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:m.value,_disableGlobalStack:!0},i),{activator:n.activator,default:function(){for(var p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];return n.default?.(...h)??e.text}})}),_t({},u)}}),pp={key:2,class:"text-caption text-medium-emphasis mt-1 ml-1"},gp={__name:"FieldText",props:{fieldKey:String,field:Object,path:String},emits:["update:value"],setup(e,{emit:t}){const n=t;function o(i){n("update:value",i)}return(i,l)=>(K(),ue("div",null,[e.field.type==="textarea"?(K(),he(Zs,{key:0,"model-value":e.field.value,"onUpdate:modelValue":o,variant:"outlined",density:"comfortable",rows:"4","hide-details":"auto",placeholder:`Enter ${e.fieldKey.replace(/_/g," ")}`,class:"field-input"},Yt({_:2},[e.field.description?{name:"prepend-inner",fn:z(()=>[T(Zt,{location:"top"},{activator:z(({props:a})=>[T(ce,Z(a,{size:"small",icon:"mdi-information-outline"}),null,16)]),default:z(()=>[Se(" "+se(e.field.description),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","placeholder"])):(K(),he(pt,{key:1,"model-value":e.field.value,"onUpdate:modelValue":o,variant:"outlined",density:"comfortable","hide-details":"auto",placeholder:`Enter ${e.fieldKey.replace(/_/g," ")}`,class:"field-input"},Yt({_:2},[e.field.description?{name:"prepend-inner",fn:z(()=>[T(Zt,{location:"top"},{activator:z(({props:a})=>[T(ce,Z(a,{size:"small",icon:"mdi-information-outline"}),null,16)]),default:z(()=>[Se(" "+se(e.field.description),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","placeholder"])),e.field.description?(K(),ue("div",pp,se(e.field.description),1)):Ee("",!0)]))}},hp=et(gp,[["__scopeId","data-v-e42ac294"]]),qo=Symbol.for("vuetify:v-slider");function yp(e,t,n){const o=n==="vertical",i=t.getBoundingClientRect(),l="touches"in e?e.touches[0]:e;return o?l.clientY-(i.top+i.height/2):l.clientX-(i.left+i.width/2)}function Sp(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const Cp=Q({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,noKeyboard:Boolean,...rt(),...St({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Tp=e=>{const t=R(()=>parseFloat(e.min)),n=R(()=>parseFloat(e.max)),o=R(()=>Number(e.step)>0?parseFloat(e.step):0),i=R(()=>Math.max(Oo(o.value),Oo(t.value)));function l(a){if(a=parseFloat(a),o.value<=0)return a;const u=Xe(a,t.value,n.value),d=t.value%o.value;let c=Math.round((u-d)/o.value)*o.value+d;return u>c&&c+o.value>n.value&&(c=n.value),parseFloat(Math.min(c,n.value).toFixed(i.value))}return{min:t,max:n,step:o,decimals:i,roundValue:l}},_p=e=>{let{props:t,steps:n,onSliderStart:o,onSliderMove:i,onSliderEnd:l,getActiveThumb:a}=e;const u=Fo(t),{isRtl:d}=it(),c=F(()=>t.reverse),f=R(()=>t.direction==="vertical"),m=R(()=>f.value!==c.value),{min:v,max:p,step:h,decimals:g,roundValue:y}=n,S=R(()=>parseInt(t.thumbSize,10)),E=R(()=>parseInt(t.tickSize,10)),_=R(()=>parseInt(t.trackSize,10)),w=R(()=>(p.value-v.value)/h.value),x=R(()=>t.error||u.isDisabled.value?void 0:t.thumbColor??t.color),P=R(()=>t.error||u.isDisabled.value?void 0:t.thumbColor),I=R(()=>t.error||u.isDisabled.value?void 0:t.trackColor??t.color),b=R(()=>t.error||u.isDisabled.value?void 0:t.trackFillColor??t.color),A=oe(!1),k=oe(0),N=J(),D=J();function U(L){const O=N.value?.$el;if(!O)return;const re=t.direction==="vertical",Ce=re?"top":"left",xe=re?"height":"width",me=re?"clientY":"clientX",{[Ce]:ke,[xe]:Me}=O.getBoundingClientRect(),Hn=Sp(L,me);let zt=Xe((Hn-ke-k.value)/Me)||0;return(re?m.value:m.value!==d.value)&&(zt=1-zt),y(v.value+zt*(p.value-v.value))}const V=L=>{const O=U(L);O!=null&&l({value:O}),A.value=!1,k.value=0},G=L=>{const O=U(L);D.value=a(L),D.value&&(A.value=!0,D.value.contains(L.target)?k.value=yp(L,D.value,t.direction):(k.value=0,O!=null&&i({value:O})),O!=null&&o({value:O}),Ie(()=>D.value?.focus()))},H={passive:!0,capture:!0};function X(L){const O=U(L);O!=null&&i({value:O})}function ee(L){L.stopPropagation(),L.preventDefault(),V(L),window.removeEventListener("mousemove",X,H),window.removeEventListener("mouseup",ee)}function ae(L){V(L),window.removeEventListener("touchmove",X,H),L.target?.removeEventListener("touchend",ae)}function q(L){G(L),window.addEventListener("touchmove",X,H),L.target?.addEventListener("touchend",ae,{passive:!1})}function Y(L){L.button===0&&(L.preventDefault(),G(L),window.addEventListener("mousemove",X,H),window.addEventListener("mouseup",ee,{passive:!1}))}const B=L=>{const O=(L-v.value)/(p.value-v.value)*100;return Xe(isNaN(O)?0:O,0,100)},M=F(()=>t.showTicks),W=R(()=>M.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(L=>({value:L,position:B(L),label:L.toString()})):Object.keys(t.ticks).map(L=>({value:parseFloat(L),position:B(parseFloat(L)),label:t.ticks[L]})):w.value!==1/0?Ga(w.value+1).map(L=>{const O=v.value+L*h.value;return{value:O,position:B(O)}}):[]:[]),j=R(()=>W.value.some(L=>{let{label:O}=L;return!!O})),ie={activeThumbRef:D,color:F(()=>t.color),decimals:g,disabled:u.isDisabled,direction:F(()=>t.direction),elevation:F(()=>t.elevation),hasLabels:j,isReversed:c,indexFromEnd:m,min:v,max:p,mousePressed:A,noKeyboard:F(()=>t.noKeyboard),numTicks:w,onSliderMousedown:Y,onSliderTouchstart:q,parsedTicks:W,parseMouseMove:U,position:B,readonly:u.isReadonly,rounded:F(()=>t.rounded),roundValue:y,showTicks:M,startOffset:k,step:h,thumbSize:S,thumbColor:x,thumbLabelColor:P,thumbLabel:F(()=>t.thumbLabel),ticks:F(()=>t.ticks),tickSize:E,trackColor:I,trackContainerRef:N,trackFillColor:b,trackSize:_,vertical:f};return st(qo,ie),ie},Ep=Q({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,noKeyboard:Boolean,...ge()},"VSliderThumb"),Ip=le()({name:"VSliderThumb",directives:{vRipple:Qe},props:Ep(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:o}=t;const i=Fe(qo),{isRtl:l,rtlClasses:a}=it();if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:u,max:d,thumbColor:c,thumbLabelColor:f,step:m,disabled:v,thumbSize:p,thumbLabel:h,direction:g,isReversed:y,vertical:S,readonly:E,elevation:_,mousePressed:w,decimals:x,indexFromEnd:P}=i,I=R(()=>v.value?void 0:_.value),{elevationClasses:b}=Ct(I),{textColorClasses:A,textColorStyles:k}=kt(c),{backgroundColorClasses:N,backgroundColorStyles:D}=Je(f),{pageup:U,pagedown:V,end:G,home:H,left:X,right:ee,down:ae,up:q}=Ba,Y=[U,V,G,H,X,ee,ae,q],B=R(()=>m.value?[1,2,3]:[1,5,10]);function M(j,ie){if(e.noKeyboard||v.value||!Y.includes(j.key))return;j.preventDefault();const L=m.value||.1,O=(d.value-u.value)/L;if([X,ee,ae,q].includes(j.key)){const Ce=(S.value?[l.value?X:ee,y.value?ae:q]:P.value!==l.value?[X,q]:[ee,q]).includes(j.key)?1:-1,xe=j.shiftKey?2:j.ctrlKey?1:0;Ce===-1&&ie===d.value&&!xe&&!Number.isInteger(O)?ie=ie-O%1*L:ie=ie+Ce*L*B.value[xe]}else if(j.key===H)ie=u.value;else if(j.key===G)ie=d.value;else{const re=j.key===V?1:-1;ie=ie-re*L*(O>100?O/10:10)}return Math.max(e.min,Math.min(e.max,ie))}function W(j){const ie=M(j,e.modelValue);ie!=null&&o("update:modelValue",ie)}return de(()=>{const j=ye(P.value?100-e.position:e.position,"%");return C("div",{class:te(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&w.value},e.class,a.value]),style:ve([{"--v-slider-thumb-position":j,"--v-slider-thumb-size":ye(p.value)},e.style]),role:"slider",tabindex:v.value?-1:0,"aria-label":e.name,"aria-valuemin":u.value,"aria-valuemax":d.value,"aria-valuenow":e.modelValue,"aria-readonly":!!E.value,"aria-orientation":g.value,onKeydown:E.value?void 0:W},[C("div",{class:te(["v-slider-thumb__surface",A.value,b.value]),style:ve(k.value)},null),Ne(C("div",{class:te(["v-slider-thumb__ripple",A.value]),style:ve(k.value)},null),[[Qe,e.ripple,null,{circle:!0,center:!0}]]),T($s,{origin:"bottom center"},{default:()=>[Ne(C("div",{class:"v-slider-thumb__label-container"},[C("div",{class:te(["v-slider-thumb__label",N.value]),style:ve(D.value)},[C("div",null,[n["thumb-label"]?.({modelValue:e.modelValue})??e.modelValue.toFixed(m.value?x.value:1)]),C("div",{class:"v-slider-thumb__label-wedge"},null)])]),[[Pt,h.value&&e.focused||h.value==="always"]])]})])}),{}}}),Ap=Q({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ge()},"VSliderTrack"),bp=le()({name:"VSliderTrack",props:Ap(),emits:{},setup(e,t){let{slots:n}=t;const o=Fe(qo);if(!o)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,parsedTicks:l,rounded:a,showTicks:u,tickSize:d,trackColor:c,trackFillColor:f,trackSize:m,vertical:v,min:p,max:h,indexFromEnd:g}=o,{roundedClasses:y}=at(a),{backgroundColorClasses:S,backgroundColorStyles:E}=Je(f),{backgroundColorClasses:_,backgroundColorStyles:w}=Je(c),x=R(()=>`inset-${v.value?"block":"inline"}-${g.value?"end":"start"}`),P=R(()=>v.value?"height":"width"),I=R(()=>({[x.value]:"0%",[P.value]:"100%"})),b=R(()=>e.stop-e.start),A=R(()=>({[x.value]:ye(e.start,"%"),[P.value]:ye(b.value,"%")})),k=R(()=>u.value?(v.value?l.value.slice().reverse():l.value).map((D,U)=>{const V=D.value!==p.value&&D.value!==h.value?ye(D.position,"%"):void 0;return C("div",{key:D.value,class:te(["v-slider-track__tick",{"v-slider-track__tick--filled":D.position>=e.start&&D.position<=e.stop,"v-slider-track__tick--first":D.value===p.value,"v-slider-track__tick--last":D.value===h.value}]),style:{[x.value]:V}},[(D.label||n["tick-label"])&&C("div",{class:"v-slider-track__tick-label"},[n["tick-label"]?.({tick:D,index:U})??D.label])])}):[]);return de(()=>C("div",{class:te(["v-slider-track",y.value,e.class]),style:ve([{"--v-slider-track-size":ye(m.value),"--v-slider-tick-size":ye(d.value)},e.style])},[C("div",{class:te(["v-slider-track__background",_.value,{"v-slider-track__background--opacity":!!i.value||!f.value}]),style:{...I.value,...w.value}},null),C("div",{class:te(["v-slider-track__fill",S.value]),style:{...A.value,...E.value}},null),u.value&&C("div",{class:te(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":u.value==="always"}])},[k.value])])),{}}}),wp=Q({...Do(),...Cp(),...cn(),modelValue:{type:[Number,String],default:0}},"VSlider"),Pp=le()({name:"VSlider",props:wp(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:o}=t;const i=J(),l=J(),{rtlClasses:a}=it(),u=Tp(e),d=Ae(e,"modelValue",void 0,A=>u.roundValue(A??u.min.value)),{min:c,max:f,mousePressed:m,roundValue:v,onSliderMousedown:p,onSliderTouchstart:h,trackContainerRef:g,position:y,hasLabels:S,disabled:E,readonly:_,noKeyboard:w}=_p({props:e,steps:u,onSliderStart:()=>{!E.value&&!_.value&&o("start",d.value)},onSliderEnd:A=>{let{value:k}=A;const N=v(k);!E.value&&!_.value&&(d.value=N),o("end",N)},onSliderMove:A=>{let{value:k}=A;!E.value&&!_.value&&(d.value=v(k))},getActiveThumb:()=>i.value?.$el}),{isFocused:x,focus:P,blur:I}=dn(e),b=R(()=>y(d.value));return de(()=>{const A=vt.filterProps(e),k=!!(e.label||n.label||n.prepend);return T(vt,Z({ref:l,class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||S.value,"v-slider--focused":x.value,"v-slider--pressed":m.value,"v-slider--disabled":E.value},a.value,e.class],style:e.style},A,{focused:x.value}),{...n,prepend:k?N=>C(pe,null,[n.label?.(N)??(e.label?T(Vo,{id:N.id.value,class:"v-slider__label",text:e.label},null):void 0),n.prepend?.(N)]):void 0,default:N=>{let{id:D,messagesId:U}=N;return C("div",{class:"v-slider__container",onMousedown:_.value?void 0:p,onTouchstartPassive:_.value?void 0:h},[C("input",{id:D.value,name:e.name||D.value,disabled:E.value,readonly:_.value,tabindex:"-1",value:d.value},null),T(bp,{ref:g,start:0,stop:b.value},{"tick-label":n["tick-label"]}),T(Ip,{ref:i,"aria-describedby":U.value,focused:x.value,noKeyboard:w.value,min:c.value,max:f.value,modelValue:d.value,"onUpdate:modelValue":V=>d.value=V,position:b.value,elevation:e.elevation,onFocus:P,onBlur:I,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),_t({focus:()=>i.value?.$el.focus()},l)}}),xp={key:0},Rp={class:"d-flex align-center gap-3"},kp={key:0,class:"text-caption text-medium-emphasis mt-1 ml-1"},Mp={key:1},Np={key:0,class:"text-caption text-medium-emphasis mt-1 ml-1"},Vp={__name:"FieldNumber",props:{fieldKey:String,field:Object,path:String},emits:["update:value"],setup(e,{emit:t}){const n=e,o=t,i=R(()=>typeof n.field.min=="number"&&typeof n.field.max=="number");function l(a){const u=typeof a=="string"?parseFloat(a):a;isNaN(u)||o("update:value",u)}return(a,u)=>(K(),ue("div",null,[i.value?(K(),ue("div",xp,[C("div",Rp,[T(Pp,{"model-value":e.field.value,"onUpdate:modelValue":l,min:e.field.min,max:e.field.max,step:e.field.step||1,"thumb-label":!0,color:"primary","track-color":"surface-variant",class:"flex-grow-1","hide-details":""},Yt({_:2},[e.field.description?{name:"prepend",fn:z(()=>[T(Zt,{location:"top"},{activator:z(({props:d})=>[T(ce,Z(d,{size:"small",icon:"mdi-information-outline"}),null,16)]),default:z(()=>[Se(" "+se(e.field.description),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","min","max","step"]),T(pt,{"model-value":e.field.value,"onUpdate:modelValue":l,type:"number",min:e.field.min,max:e.field.max,step:e.field.step||1,variant:"outlined",density:"compact","hide-details":"",style:{width:"100px"}},null,8,["model-value","min","max","step"])]),e.field.description?(K(),ue("div",kp,se(e.field.description),1)):Ee("",!0)])):(K(),ue("div",Mp,[T(pt,{"model-value":e.field.value,"onUpdate:modelValue":l,type:"number",step:e.field.step||1,variant:"outlined",density:"comfortable","hide-details":"auto",placeholder:`Enter ${e.fieldKey.replace(/_/g," ")}`,class:"field-input"},Yt({_:2},[e.field.description?{name:"prepend-inner",fn:z(()=>[T(Zt,{location:"top"},{activator:z(({props:d})=>[T(ce,Z(d,{size:"small",icon:"mdi-information-outline"}),null,16)]),default:z(()=>[Se(" "+se(e.field.description),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","step","placeholder"]),e.field.description?(K(),ue("div",Np,se(e.field.description),1)):Ee("",!0)]))]))}},Dp=et(Vp,[["__scopeId","data-v-49399f1d"]]),Lp={key:0,class:"text-caption text-medium-emphasis mb-2"},Fp={key:1,class:"color-picker-container"},Up={class:"d-flex flex-wrap gap-2 mb-2"},qp={class:"d-flex align-center gap-2"},Gp=["value","onInput"],Bp={__name:"FieldArray",props:{fieldKey:String,field:Object,path:String},emits:["update:value"],setup(e,{emit:t}){const n=e,o=t,i=R({get:()=>Array.isArray(n.field.value)?n.field.value:[],set:c=>o("update:value",c)});function l(c,f){const m=[...i.value];m[c]=typeof f=="string"?f:f.hex||f,o("update:value",m)}function a(){const c=[...i.value,"#FFFFFF"];o("update:value",c)}function u(c){const f=i.value.filter((m,v)=>v!==c);o("update:value",f)}function d(c){try{const f=JSON.parse(c);Array.isArray(f)&&o("update:value",f)}catch{}}return(c,f)=>(K(),ue("div",null,[e.field.description?(K(),ue("div",Lp,se(e.field.description),1)):Ee("",!0),e.field.arrayType==="colorpicker"?(K(),ue("div",Fp,[C("div",Up,[(K(!0),ue(pe,null,It(i.value,(m,v)=>(K(),he(Ze,{key:v,variant:"outlined",class:"color-card"},{default:z(()=>[T(At,{class:"pa-2"},{default:z(()=>[C("div",qp,[C("input",{type:"color",value:m,onInput:p=>l(v,p.target.value),class:"color-input"},null,40,Gp),T(pt,{"model-value":m,"onUpdate:modelValue":p=>l(v,p),density:"compact",variant:"outlined","hide-details":"",style:{flex:"1","min-width":"100px"}},null,8,["model-value","onUpdate:modelValue"]),T(be,{icon:"mdi-close",size:"small",variant:"text",density:"compact",onClick:p=>u(v)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),T(be,{icon:"mdi-plus",variant:"outlined",size:"small",onClick:a},{default:z(()=>[...f[0]||(f[0]=[Se(" Add Color ",-1)])]),_:1})])):(K(),he(Zs,{key:2,"model-value":JSON.stringify(e.field.value||[],null,2),"onUpdate:modelValue":d,variant:"outlined",density:"comfortable",rows:"3",placeholder:"Enter array as JSON","hide-details":"auto"},null,8,["model-value"]))]))}},Hp=et(Bp,[["__scopeId","data-v-1263d0ff"]]),ua=Symbol.for("vuetify:selection-control-group"),da=Q({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Te,trueIcon:Te,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:tt},...ge(),...Bt(),...Le()},"SelectionControlGroup"),$p=Q({...da({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");le()({name:"VSelectionControlGroup",props:$p(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const o=Ae(e,"modelValue"),i=je(),l=F(()=>e.id||`v-selection-control-group-${i}`),a=F(()=>e.name||l.value),u=new Set;return st(ua,{modelValue:o,forceUpdate:()=>{u.forEach(d=>d())},onForceUpdate:d=>{u.add(d),qe(()=>{u.delete(d)})}}),ln({[e.defaultsTarget]:{color:F(()=>e.color),disabled:F(()=>e.disabled),density:F(()=>e.density),error:F(()=>e.error),inline:F(()=>e.inline),modelValue:o,multiple:F(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),name:a,falseIcon:F(()=>e.falseIcon),trueIcon:F(()=>e.trueIcon),readonly:F(()=>e.readonly),ripple:F(()=>e.ripple),type:F(()=>e.type),valueComparator:F(()=>e.valueComparator)}}),de(()=>C("div",{class:te(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:ve(e.style),role:e.type==="radio"?"radiogroup":void 0},[n.default?.()])),{}}});const Go=Q({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...ge(),...da()},"VSelectionControl");function Jp(e){const t=Fe(ua,void 0),{densityClasses:n}=Gt(e),o=Ae(e,"modelValue"),i=R(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),l=R(()=>e.falseValue!==void 0?e.falseValue:!1),a=R(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),u=R({get(){const p=t?t.modelValue.value:o.value;return a.value?Ke(p).some(h=>e.valueComparator(h,i.value)):e.valueComparator(p,i.value)},set(p){if(e.readonly)return;const h=p?i.value:l.value;let g=h;a.value&&(g=p?[...Ke(o.value),h]:Ke(o.value).filter(y=>!e.valueComparator(y,i.value))),t?t.modelValue.value=g:o.value=g}}),{textColorClasses:d,textColorStyles:c}=kt(()=>{if(!(e.error||e.disabled))return u.value?e.color:e.baseColor}),{backgroundColorClasses:f,backgroundColorStyles:m}=Je(()=>u.value&&!e.error&&!e.disabled?e.color:e.baseColor),v=R(()=>u.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:i,falseValue:l,model:u,textColorClasses:d,textColorStyles:c,backgroundColorClasses:f,backgroundColorStyles:m,icon:v}}const Rn=le()({name:"VSelectionControl",directives:{vRipple:Qe},inheritAttrs:!1,props:Go(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:o}=t;const{group:i,densityClasses:l,icon:a,model:u,textColorClasses:d,textColorStyles:c,backgroundColorClasses:f,backgroundColorStyles:m,trueValue:v}=Jp(e),p=je(),h=oe(!1),g=oe(!1),y=J(),S=F(()=>e.id||`input-${p}`),E=F(()=>!e.disabled&&!e.readonly);i?.onForceUpdate(()=>{y.value&&(y.value.checked=u.value)});function _(I){E.value&&(h.value=!0,Cn(I.target,":focus-visible")!==!1&&(g.value=!0))}function w(){h.value=!1,g.value=!1}function x(I){I.stopPropagation()}function P(I){if(!E.value){y.value&&(y.value.checked=u.value);return}e.readonly&&i&&Ie(()=>i.forceUpdate()),u.value=I.target.checked}return de(()=>{const I=o.label?o.label({label:e.label,props:{for:S.value}}):e.label,[b,A]=Vn(n),k=C("input",Z({ref:y,checked:u.value,disabled:!!e.disabled,id:S.value,onBlur:w,onFocus:_,onInput:P,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:v.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},A),null);return C("div",Z({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":g.value,"v-selection-control--inline":e.inline},l.value,e.class]},b,{style:e.style}),[C("div",{class:te(["v-selection-control__wrapper",d.value]),style:ve(c.value)},[o.default?.({backgroundColorClasses:f,backgroundColorStyles:m}),Ne(C("div",{class:te(["v-selection-control__input"])},[o.input?.({model:u,textColorClasses:d,textColorStyles:c,backgroundColorClasses:f,backgroundColorStyles:m,inputNode:k,icon:a.value,props:{onFocus:_,onBlur:w,id:S.value}})??C(pe,null,[a.value&&T(ce,{key:"icon",icon:a.value},null),k])]),[[Qe,!e.disabled&&!e.readonly&&e.ripple,null,{center:!0,circle:!0}]])]),I&&T(Vo,{for:S.value,onClick:x},{default:()=>[I]})])}),{isFocused:h,input:y}}}),zp=Q({indeterminate:Boolean,indeterminateIcon:{type:Te,default:"$checkboxIndeterminate"},...Go({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Op=le()({name:"VCheckboxBtn",props:zp(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const o=Ae(e,"indeterminate"),i=Ae(e,"modelValue");function l(d){o.value&&(o.value=!1)}const a=F(()=>o.value?e.indeterminateIcon:e.falseIcon),u=F(()=>o.value?e.indeterminateIcon:e.trueIcon);return de(()=>{const d=Rt(Rn.filterProps(e),["modelValue"]);return T(Rn,Z(d,{modelValue:i.value,"onUpdate:modelValue":[c=>i.value=c,l],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:a.value,trueIcon:u.value,"aria-checked":o.value?"mixed":void 0}),n)}),{}}});function Wp(e){let{selectedElement:t,containerElement:n,isRtl:o,isHorizontal:i}=e;const l=jt(i,n),a=ca(i,o,n),u=jt(i,t),d=fa(i,t),c=u*.4;return a>d?d-c:a+l<d+u?d-l+u+c:a}function Kp(e){let{selectedElement:t,containerElement:n,isHorizontal:o}=e;const i=jt(o,n),l=fa(o,t),a=jt(o,t);return l-i/2+a/2}function Rl(e,t){return t?.[e?"scrollWidth":"scrollHeight"]||0}function Yp(e,t){return t?.[e?"clientWidth":"clientHeight"]||0}function ca(e,t,n){if(!n)return 0;const{scrollLeft:o,offsetWidth:i,scrollWidth:l}=n;return e?t?l-i+o:o:n.scrollTop}function jt(e,t){return t?.[e?"offsetWidth":"offsetHeight"]||0}function fa(e,t){return t?.[e?"offsetLeft":"offsetTop"]||0}const ma=Symbol.for("vuetify:v-slide-group"),va=Q({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:ma},nextIcon:{type:Te,default:"$next"},prevIcon:{type:Te,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ge(),...Wl({mobile:null}),...Ge(),...yo({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),kl=le()({name:"VSlideGroup",props:va(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:o}=it(),{displayClasses:i,mobile:l}=on(e),a=So(e,e.symbol),u=oe(!1),d=oe(0),c=oe(0),f=oe(0),m=R(()=>e.direction==="horizontal"),{resizeRef:v,contentRect:p}=Tn(),{resizeRef:h,contentRect:g}=Tn(),y=Ha(),S=R(()=>({container:v.el,duration:200,easing:"easeOutQuart"})),E=R(()=>a.selected.value.length?a.items.value.findIndex(B=>B.id===a.selected.value[0]):-1),_=R(()=>a.selected.value.length?a.items.value.findIndex(B=>B.id===a.selected.value[a.selected.value.length-1]):-1);if(De){let B=-1;ne(()=>[a.selected.value,p.value,g.value,m.value],()=>{cancelAnimationFrame(B),B=requestAnimationFrame(()=>{if(p.value&&g.value){const M=m.value?"width":"height";c.value=p.value[M],f.value=g.value[M],u.value=c.value+1<f.value}if(e.scrollToActive&&E.value>=0&&h.el){const M=h.el.children[_.value];x(M,e.centerActive)}})})}const w=oe(!1);function x(B,M){let W=0;M?W=Kp({containerElement:v.el,isHorizontal:m.value,selectedElement:B}):W=Wp({containerElement:v.el,isHorizontal:m.value,isRtl:o.value,selectedElement:B}),P(W)}function P(B){if(!De||!v.el)return;const M=jt(m.value,v.el),W=ca(m.value,o.value,v.el);if(!(Rl(m.value,v.el)<=M||Math.abs(B-W)<16)){if(m.value&&o.value&&v.el){const{scrollWidth:ie,offsetWidth:L}=v.el;B=ie-L-B}m.value?y.horizontal(B,S.value):y(B,S.value)}}function I(B){const{scrollTop:M,scrollLeft:W}=B.target;d.value=m.value?W:M}function b(B){if(w.value=!0,!(!u.value||!h.el)){for(const M of B.composedPath())for(const W of h.el.children)if(W===M){x(W);return}}}function A(B){w.value=!1}let k=!1;function N(B){!k&&!w.value&&!(B.relatedTarget&&h.el?.contains(B.relatedTarget))&&G(),k=!1}function D(){k=!0}function U(B){if(!h.el)return;function M(W){B.preventDefault(),G(W)}m.value?B.key==="ArrowRight"?M(o.value?"prev":"next"):B.key==="ArrowLeft"&&M(o.value?"next":"prev"):B.key==="ArrowDown"?M("next"):B.key==="ArrowUp"&&M("prev"),B.key==="Home"?M("first"):B.key==="End"&&M("last")}function V(B,M){if(!B)return;let W=B;do W=W?.[M==="next"?"nextElementSibling":"previousElementSibling"];while(W?.hasAttribute("disabled"));return W}function G(B){if(!h.el)return;let M;if(!B)M=Xt(h.el)[0];else if(B==="next"){if(M=V(h.el.querySelector(":focus"),B),!M)return G("first")}else if(B==="prev"){if(M=V(h.el.querySelector(":focus"),B),!M)return G("last")}else B==="first"?(M=h.el.firstElementChild,M?.hasAttribute("disabled")&&(M=V(M,"next"))):B==="last"&&(M=h.el.lastElementChild,M?.hasAttribute("disabled")&&(M=V(M,"prev")));M&&M.focus({preventScroll:!0})}function H(B){const M=m.value&&o.value?-1:1,W=(B==="prev"?-M:M)*c.value;let j=d.value+W;if(m.value&&o.value&&v.el){const{scrollWidth:ie,offsetWidth:L}=v.el;j+=ie-L}P(j)}const X=R(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),ee=R(()=>u.value||Math.abs(d.value)>0),ae=R(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!l.value;case!0:return ee.value;case"mobile":return l.value||ee.value;default:return!l.value&&ee.value}}),q=R(()=>Math.abs(d.value)>1),Y=R(()=>{if(!v.value||!ee.value)return!1;const B=Rl(m.value,v.el),M=Yp(m.value,v.el);return B-M-Math.abs(d.value)>1});return de(()=>T(e.tag,{class:te(["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":ae.value,"v-slide-group--is-overflowing":u.value},i.value,e.class]),style:ve(e.style),tabindex:w.value||a.selected.value.length?-1:0,onFocus:N},{default:()=>[ae.value&&C("div",{key:"prev",class:te(["v-slide-group__prev",{"v-slide-group__prev--disabled":!q.value}]),onMousedown:D,onClick:()=>q.value&&H("prev")},[n.prev?.(X.value)??T(El,null,{default:()=>[T(ce,{icon:o.value?e.nextIcon:e.prevIcon},null)]})]),C("div",{key:"container",ref:v,class:te(["v-slide-group__container",e.contentClass]),onScroll:I},[C("div",{ref:h,class:"v-slide-group__content",onFocusin:b,onFocusout:A,onKeydown:U},[n.default?.(X.value)])]),ae.value&&C("div",{key:"next",class:te(["v-slide-group__next",{"v-slide-group__next--disabled":!Y.value}]),onMousedown:D,onClick:()=>Y.value&&H("next")},[n.next?.(X.value)??T(El,null,{default:()=>[T(ce,{icon:o.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:a.selected,scrollTo:H,scrollOffset:d,focus:G,hasPrev:q,hasNext:Y}}}),pa=Symbol.for("vuetify:v-chip-group"),Xp=Q({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:tt},...va({scrollToActive:!1}),...ge(),...yo({selectedClass:"v-chip--selected"}),...Ge(),...Le(),...sn({variant:"tonal"})},"VChipGroup");le()({name:"VChipGroup",props:Xp(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:o}=ze(e),{isSelected:i,select:l,next:a,prev:u,selected:d}=So(e,pa);return ln({VChip:{baseColor:F(()=>e.baseColor),color:F(()=>e.color),disabled:F(()=>e.disabled),filter:F(()=>e.filter),variant:F(()=>e.variant)}}),de(()=>{const c=kl.filterProps(e);return T(kl,Z(c,{class:["v-chip-group",{"v-chip-group--column":e.column},o.value,e.class],style:e.style}),{default:()=>[n.default?.({isSelected:i,select:l,next:a,prev:u,selected:d.value})]})}),{}}});const Qp=Q({activeClass:String,appendAvatar:String,appendIcon:Te,baseColor:String,closable:Boolean,closeIcon:{type:Te,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Te,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Te,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Ve(),onClickOnce:Ve(),...rn(),...ge(),...Bt(),...St(),...ns(),...rt(),...ts(),...ar(),...Ge({tag:"span"}),...Le(),...sn({variant:"tonal"})},"VChip"),nt=le()({name:"VChip",directives:{vRipple:Qe},props:Qp(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:o,slots:i}=t;const{t:l}=nn(),{borderClasses:a}=an(e),{densityClasses:u}=Gt(e),{elevationClasses:d}=Ct(e),{roundedClasses:c}=at(e),{sizeClasses:f}=sr(e),{themeClasses:m}=ze(e),v=Ae(e,"modelValue"),p=jn(e,pa,!1),h=jn(e,ma,!1),g=es(e,n),y=F(()=>e.link!==!1&&g.isLink.value),S=R(()=>!e.disabled&&e.link!==!1&&(!!p||e.link||g.isClickable.value)),E=F(()=>({"aria-label":l(e.closeLabel),disabled:e.disabled,onClick(b){b.preventDefault(),b.stopPropagation(),v.value=!1,o("click:close",b)}}));ne(v,b=>{b?(p?.register(),h?.register()):(p?.unregister(),h?.unregister())});const{colorClasses:_,colorStyles:w,variantClasses:x}=Co(()=>({color:!p||p.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function P(b){o("click",b),S.value&&(g.navigate?.(b),p?.toggle())}function I(b){(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),P(b))}return()=>{const b=g.isLink.value?"a":e.tag,A=!!(e.appendIcon||e.appendAvatar),k=!!(A||i.append),N=!!(i.close||e.closable),D=!!(i.filter||e.filter)&&p,U=!!(e.prependIcon||e.prependAvatar),V=!!(U||i.prepend);return v.value&&Ne(T(b,Z(g.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":S.value,"v-chip--filter":D,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&g.isActive?.value},m.value,a.value,_.value,u.value,d.value,c.value,f.value,x.value,p?.selectedClass.value,e.class],style:[w.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:S.value?0:void 0,onClick:P,onKeydown:S.value&&!y.value&&I}),{default:()=>[To(S.value,"v-chip"),D&&T(zs,{key:"filter"},{default:()=>[Ne(C("div",{class:"v-chip__filter"},[i.filter?T(Pe,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},i.filter):T(ce,{key:"filter-icon",icon:e.filterIcon},null)]),[[Pt,p.isSelected.value]])]}),V&&C("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?T(Pe,{key:"prepend-defaults",disabled:!U,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},i.prepend):C(pe,null,[e.prependIcon&&T(ce,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&T(Qt,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),C("div",{class:"v-chip__content","data-no-activator":""},[i.default?.({isSelected:p?.isSelected.value,selectedClass:p?.selectedClass.value,select:p?.select,toggle:p?.toggle,value:p?.value.value,disabled:e.disabled})??se(e.text)]),k&&C("div",{key:"append",class:"v-chip__append"},[i.append?T(Pe,{key:"append-defaults",disabled:!A,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},i.append):C(pe,null,[e.appendIcon&&T(ce,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&T(Qt,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),N&&C("button",Z({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},E.value),[i.close?T(Pe,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},i.close):T(ce,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[Qe,S.value&&e.ripple,null]])}}}),Zp=Q({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...ge(),...Le()},"VDivider"),wt=le()({name:"VDivider",props:Zp(),setup(e,t){let{attrs:n,slots:o}=t;const{themeClasses:i}=ze(e),{textColorClasses:l,textColorStyles:a}=kt(()=>e.color),u=R(()=>{const d={};return e.length&&(d[e.vertical?"height":"width"]=ye(e.length)),e.thickness&&(d[e.vertical?"borderRightWidth":"borderTopWidth"]=ye(e.thickness)),d});return de(()=>{const d=C("hr",{class:te([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},i.value,l.value,e.class]),style:ve([u.value,a.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return o.default?C("div",{class:te(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[d,C("div",{class:"v-divider__content"},[o.default()]),d]):d}),{}}}),mo=Symbol.for("vuetify:list");function ga(){let{filterable:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const t=Fe(mo,{filterable:!1,hasPrepend:oe(!1),updateHasPrepend:()=>null}),n={filterable:t.filterable||e,hasPrepend:oe(!1),updateHasPrepend:o=>{o&&(n.hasPrepend.value=o)}};return st(mo,n),t}function ha(){return Fe(mo,null)}const Bo=e=>{const t={activate:n=>{let{id:o,value:i,activated:l}=n;return o=we(o),e&&!i&&l.size===1&&l.has(o)||(i?l.add(o):l.delete(o)),l},in:(n,o,i)=>{let l=new Set;if(n!=null)for(const a of Ke(n))l=t.activate({id:a,value:!0,activated:new Set(l),children:o,parents:i});return l},out:n=>Array.from(n)};return t},ya=e=>{const t=Bo(e);return{activate:o=>{let{activated:i,id:l,...a}=o;l=we(l);const u=i.has(l)?new Set([l]):new Set;return t.activate({...a,id:l,activated:u})},in:(o,i,l)=>{let a=new Set;if(o!=null){const u=Ke(o);u.length&&(a=t.in(u.slice(0,1),i,l))}return a},out:(o,i,l)=>t.out(o,i,l)}},jp=e=>{const t=Bo(e);return{activate:o=>{let{id:i,activated:l,children:a,...u}=o;return i=we(i),a.has(i)?l:t.activate({id:i,activated:l,children:a,...u})},in:t.in,out:t.out}},eg=e=>{const t=ya(e);return{activate:o=>{let{id:i,activated:l,children:a,...u}=o;return i=we(i),a.has(i)?l:t.activate({id:i,activated:l,children:a,...u})},in:t.in,out:t.out}},tg={open:e=>{let{id:t,value:n,opened:o,parents:i}=e;if(n){const l=new Set;l.add(t);let a=i.get(t);for(;a!=null;)l.add(a),a=i.get(a);return l}else return o.delete(t),o},select:()=>null},Sa={open:e=>{let{id:t,value:n,opened:o,parents:i}=e;if(n){let l=i.get(t);for(o.add(t);l!=null&&l!==t;)o.add(l),l=i.get(l);return o}else o.delete(t);return o},select:()=>null},ng={open:Sa.open,select:e=>{let{id:t,value:n,opened:o,parents:i}=e;if(!n)return o;const l=[];let a=i.get(t);for(;a!=null;)l.push(a),a=i.get(a);return new Set(l)}},Ho=e=>{const t={select:n=>{let{id:o,value:i,selected:l}=n;if(o=we(o),e&&!i){const a=Array.from(l.entries()).reduce((u,d)=>{let[c,f]=d;return f==="on"&&u.push(c),u},[]);if(a.length===1&&a[0]===o)return l}return l.set(o,i?"on":"off"),l},in:(n,o,i,l)=>{const a=new Map;for(const u of n||[])t.select({id:u,value:!0,selected:a,children:o,parents:i,disabled:l});return a},out:n=>{const o=[];for(const[i,l]of n.entries())l==="on"&&o.push(i);return o}};return t},Ca=e=>{const t=Ho(e);return{select:o=>{let{selected:i,id:l,...a}=o;l=we(l);const u=i.has(l)?new Map([[l,i.get(l)]]):new Map;return t.select({...a,id:l,selected:u})},in:(o,i,l,a)=>o?.length?t.in(o.slice(0,1),i,l,a):new Map,out:(o,i,l)=>t.out(o,i,l)}},og=e=>{const t=Ho(e);return{select:o=>{let{id:i,selected:l,children:a,...u}=o;return i=we(i),a.has(i)?l:t.select({id:i,selected:l,children:a,...u})},in:t.in,out:t.out}},ig=e=>{const t=Ca(e);return{select:o=>{let{id:i,selected:l,children:a,...u}=o;return i=we(i),a.has(i)?l:t.select({id:i,selected:l,children:a,...u})},in:t.in,out:t.out}},Ta=e=>{const t={select:n=>{let{id:o,value:i,selected:l,children:a,parents:u,disabled:d}=n;o=we(o);const c=new Map(l),f=[o];for(;f.length;){const v=f.shift();d.has(v)||l.set(we(v),i?"on":"off"),a.has(v)&&f.push(...a.get(v))}let m=we(u.get(o));for(;m;){let v=!0,p=!0;for(const h of a.get(m)){const g=we(h);if(!d.has(g)&&(l.get(g)!=="on"&&(v=!1),l.has(g)&&l.get(g)!=="off"&&(p=!1),!v&&!p))break}l.set(m,v?"on":p?"off":"indeterminate"),m=we(u.get(m))}return e&&!i&&Array.from(l.entries()).reduce((p,h)=>{let[g,y]=h;return y==="on"&&p.push(g),p},[]).length===0?c:l},in:(n,o,i,l)=>{let a=new Map;for(const u of n||[])a=t.select({id:u,value:!0,selected:a,children:o,parents:i,disabled:l});return a},out:(n,o)=>{const i=[];for(const[l,a]of n.entries())a==="on"&&!o.has(l)&&i.push(l);return i}};return t},lg=e=>{const t=Ta(e);return{select:t.select,in:t.in,out:(o,i,l)=>{const a=[];for(const[u,d]of o.entries())if(d==="on"){if(l.has(u)){const c=l.get(u);if(o.get(c)==="on")continue}a.push(u)}return a}}},en=Symbol.for("vuetify:nested"),_a={id:oe(),root:{register:()=>null,unregister:()=>null,children:J(new Map),parents:J(new Map),disabled:J(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:J(!1),selectable:J(!1),opened:J(new Set),activated:J(new Set),selected:J(new Map),selectedValues:J([]),getPath:()=>[]}},sg=Q({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),ag=e=>{let t=!1;const n=oe(new Map),o=oe(new Map),i=oe(new Set),l=Ae(e,"opened",e.opened,y=>new Set(Array.isArray(y)?y.map(S=>we(S)):y),y=>[...y.values()]),a=R(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return jp(e.mandatory);case"single-leaf":return eg(e.mandatory);case"independent":return Bo(e.mandatory);case"single-independent":default:return ya(e.mandatory)}}),u=R(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return ig(e.mandatory);case"leaf":return og(e.mandatory);case"independent":return Ho(e.mandatory);case"single-independent":return Ca(e.mandatory);case"trunk":return lg(e.mandatory);case"classic":default:return Ta(e.mandatory)}}),d=R(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return ng;case"single":return tg;case"multiple":default:return Sa}}),c=Ae(e,"activated",e.activated,y=>a.value.in(y,n.value,o.value),y=>a.value.out(y,n.value,o.value)),f=Ae(e,"selected",e.selected,y=>u.value.in(y,n.value,o.value,i.value),y=>u.value.out(y,n.value,o.value));lt(()=>{t=!0});function m(y){const S=[];let E=we(y);for(;E!==void 0;)S.unshift(E),E=o.value.get(E);return S}const v=xt("nested"),p=new Set,h=gr(()=>{Ie(()=>{n.value=new Map(n.value),o.value=new Map(o.value)})},100),g={id:oe(),root:{opened:l,activatable:F(()=>e.activatable),selectable:F(()=>e.selectable),activated:c,selected:f,selectedValues:R(()=>{const y=[];for(const[S,E]of f.value.entries())E==="on"&&y.push(S);return y}),register:(y,S,E,_)=>{if(p.has(y)){m(y).map(String).join(" -> "),m(S).concat(y).map(String).join(" -> ");return}else p.add(y);S&&y!==S&&o.value.set(y,S),E&&i.value.add(y),_&&n.value.set(y,[]),S!=null&&n.value.set(S,[...n.value.get(S)||[],y]),h()},unregister:y=>{if(t)return;p.delete(y),n.value.delete(y),i.value.delete(y);const S=o.value.get(y);if(S){const E=n.value.get(S)??[];n.value.set(S,E.filter(_=>_!==y))}o.value.delete(y),h()},open:(y,S,E)=>{v.emit("click:open",{id:y,value:S,path:m(y),event:E});const _=d.value.open({id:y,value:S,opened:new Set(l.value),children:n.value,parents:o.value,event:E});_&&(l.value=_)},openOnSelect:(y,S,E)=>{const _=d.value.select({id:y,value:S,selected:new Map(f.value),opened:new Set(l.value),children:n.value,parents:o.value,event:E});_&&(l.value=_)},select:(y,S,E)=>{v.emit("click:select",{id:y,value:S,path:m(y),event:E});const _=u.value.select({id:y,value:S,selected:new Map(f.value),children:n.value,parents:o.value,disabled:i.value,event:E});_&&(f.value=_),g.root.openOnSelect(y,S,E)},activate:(y,S,E)=>{if(!e.activatable)return g.root.select(y,!0,E);v.emit("click:activate",{id:y,value:S,path:m(y),event:E});const _=a.value.activate({id:y,value:S,activated:new Set(c.value),children:n.value,parents:o.value,event:E});if(_.size!==c.value.size)c.value=_;else{for(const w of _)if(!c.value.has(w)){c.value=_;return}for(const w of c.value)if(!_.has(w)){c.value=_;return}}},children:n,parents:o,disabled:i,getPath:m}};return st(en,g),g.root},Ea=(e,t,n)=>{const o=Fe(en,_a),i=Symbol("nested item"),l=R(()=>{const u=we(Et(e));return u!==void 0?u:i}),a={...o,id:l,open:(u,d)=>o.root.open(l.value,u,d),openOnSelect:(u,d)=>o.root.openOnSelect(l.value,u,d),isOpen:R(()=>o.root.opened.value.has(l.value)),parent:R(()=>o.root.parents.value.get(l.value)),activate:(u,d)=>o.root.activate(l.value,u,d),isActivated:R(()=>o.root.activated.value.has(l.value)),select:(u,d)=>o.root.select(l.value,u,d),isSelected:R(()=>o.root.selected.value.get(l.value)==="on"),isIndeterminate:R(()=>o.root.selected.value.get(l.value)==="indeterminate"),isLeaf:R(()=>!o.root.children.value.get(l.value)),isGroupActivator:o.isGroupActivator};return go(()=>{o.isGroupActivator||Ie(()=>{o.root.register(l.value,o.id.value,Et(t),n)})}),lt(()=>{o.isGroupActivator||o.root.unregister(l.value)}),ne(l,(u,d)=>{o.isGroupActivator||(o.root.unregister(d),Ie(()=>{o.root.register(u,o.id.value,Et(t),n)}))}),n&&st(en,a),a},rg=()=>{const e=Fe(en,_a);st(en,{...e,isGroupActivator:!0})},ug=$a({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return rg(),()=>n.default?.()}}),dg=Q({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Te,default:"$collapse"},disabled:Boolean,expandIcon:{type:Te,default:"$expand"},rawId:[String,Number],prependIcon:Te,appendIcon:Te,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ge(),...Ge()},"VListGroup"),Ml=le()({name:"VListGroup",props:dg(),setup(e,t){let{slots:n}=t;const{isOpen:o,open:i,id:l}=Ea(()=>e.value,()=>e.disabled,!0),a=R(()=>`v-list-group--id-${String(e.rawId??l.value)}`),u=ha(),{isBooted:d}=Kl();function c(p){["INPUT","TEXTAREA"].includes(p.target?.tagName)||i(!o.value,p)}const f=R(()=>({onClick:c,class:"v-list-group__header",id:a.value})),m=R(()=>o.value?e.collapseIcon:e.expandIcon),v=R(()=>({VListItem:{activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&m.value,appendIcon:e.appendIcon||!e.subgroup&&m.value,title:e.title,value:e.value}}));return de(()=>T(e.tag,{class:te(["v-list-group",{"v-list-group--prepend":u?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":o.value},e.class]),style:ve(e.style)},{default:()=>[n.activator&&T(Pe,{defaults:v.value},{default:()=>[T(ug,null,{default:()=>[n.activator({props:f.value,isOpen:o.value})]})]}),T(Dn,{transition:{component:un},disabled:!d.value},{default:()=>[Ne(C("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[n.default?.()]),[[Pt,o.value]])]})]})),{isOpen:o}}}),cg=Q({opacity:[Number,String],...ge(),...Ge()},"VListItemSubtitle"),fg=le()({name:"VListItemSubtitle",props:cg(),setup(e,t){let{slots:n}=t;return de(()=>T(e.tag,{class:te(["v-list-item-subtitle",e.class]),style:ve([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},n)),{}}}),mg=ho("v-list-item-title"),vg=Q({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Te,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Te,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Ve(),onClickOnce:Ve(),...rn(),...ge(),...Bt(),...yt(),...St(),...rt(),...ts(),...Ge(),...Le(),...sn({variant:"text"})},"VListItem"),kn=le()({name:"VListItem",directives:{vRipple:Qe},props:vg(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:o,emit:i}=t;const l=es(e,n),a=R(()=>e.value===void 0?l.href.value:e.value),{activate:u,isActivated:d,select:c,isOpen:f,isSelected:m,isIndeterminate:v,isGroupActivator:p,root:h,parent:g,openOnSelect:y,id:S}=Ea(a,()=>e.disabled,!1),E=ha(),_=R(()=>e.active!==!1&&(e.active||l.isActive?.value||(h.activatable.value?d.value:m.value))),w=F(()=>e.link!==!1&&l.isLink.value),x=R(()=>!!E&&(h.selectable.value||h.activatable.value||e.value!=null)),P=R(()=>!e.disabled&&e.link!==!1&&(e.link||l.isClickable.value||x.value)),I=R(()=>E?w.value?"link":x.value?"option":"listitem":void 0),b=R(()=>{if(x.value)return h.activatable.value?d.value:h.selectable.value?m.value:_.value}),A=F(()=>e.rounded||e.nav),k=F(()=>e.color??e.activeColor),N=F(()=>({color:_.value?k.value??e.baseColor:e.baseColor,variant:e.variant}));ne(()=>l.isActive?.value,L=>{L&&D()}),go(()=>{l.isActive?.value&&Ie(()=>D())});function D(){g.value!=null&&h.open(g.value,!0),y(!0)}const{themeClasses:U}=ze(e),{borderClasses:V}=an(e),{colorClasses:G,colorStyles:H,variantClasses:X}=Co(N),{densityClasses:ee}=Gt(e),{dimensionStyles:ae}=ht(e),{elevationClasses:q}=Ct(e),{roundedClasses:Y}=at(A),B=F(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),M=F(()=>e.ripple!==void 0&&e.ripple&&E?.filterable?{keys:["Enter"]}:e.ripple),W=R(()=>({isActive:_.value,select:c,isOpen:f.value,isSelected:m.value,isIndeterminate:v.value}));function j(L){i("click",L),!["INPUT","TEXTAREA"].includes(L.target?.tagName)&&P.value&&(l.navigate?.(L),!p&&(h.activatable.value?u(!d.value,L):(h.selectable.value||e.value!=null&&!w.value)&&c(!m.value,L)))}function ie(L){const O=L.target;["INPUT","TEXTAREA"].includes(O.tagName)||(L.key==="Enter"||L.key===" "&&!E?.filterable)&&(L.preventDefault(),L.stopPropagation(),L.target.dispatchEvent(new MouseEvent("click",L)))}return de(()=>{const L=w.value?"a":e.tag,O=o.title||e.title!=null,re=o.subtitle||e.subtitle!=null,Ce=!!(e.appendAvatar||e.appendIcon),xe=!!(Ce||o.append),me=!!(e.prependAvatar||e.prependIcon),ke=!!(me||o.prepend);return E?.updateHasPrepend(ke),e.activeColor&&Ja("active-color",["color","base-color"]),Ne(T(L,Z(l.linkProps,{class:["v-list-item",{"v-list-item--active":_.value,"v-list-item--disabled":e.disabled,"v-list-item--link":P.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!ke&&E?.hasPrepend.value,"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&_.value},U.value,V.value,G.value,ee.value,q.value,B.value,Y.value,X.value,e.class],style:[H.value,ae.value,e.style],tabindex:P.value?E?-2:0:void 0,"aria-selected":b.value,role:I.value,onClick:j,onKeydown:P.value&&!w.value&&ie}),{default:()=>[To(P.value||_.value,"v-list-item"),ke&&C("div",{key:"prepend",class:"v-list-item__prepend"},[o.prepend?T(Pe,{key:"prepend-defaults",disabled:!me,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[o.prepend?.(W.value)]}):C(pe,null,[e.prependAvatar&&T(Qt,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(ce,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),C("div",{class:"v-list-item__spacer"},null)]),C("div",{class:"v-list-item__content","data-no-activator":""},[O&&T(mg,{key:"title"},{default:()=>[o.title?.({title:e.title})??se(e.title)]}),re&&T(fg,{key:"subtitle"},{default:()=>[o.subtitle?.({subtitle:e.subtitle})??se(e.subtitle)]}),o.default?.(W.value)]),xe&&C("div",{key:"append",class:"v-list-item__append"},[o.append?T(Pe,{key:"append-defaults",disabled:!Ce,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[o.append?.(W.value)]}):C(pe,null,[e.appendIcon&&T(ce,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Qt,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),C("div",{class:"v-list-item__spacer"},null)])]}),[[Qe,P.value&&M.value]])}),{activate:u,isActivated:d,isGroupActivator:p,isSelected:m,list:E,select:c,root:h,id:S,link:l}}}),pg=Q({color:String,inset:Boolean,sticky:Boolean,title:String,...ge(),...Ge()},"VListSubheader"),Ia=le()({name:"VListSubheader",props:pg(),setup(e,t){let{slots:n}=t;const{textColorClasses:o,textColorStyles:i}=kt(()=>e.color);return de(()=>{const l=!!(n.default||e.title);return T(e.tag,{class:te(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},o.value,e.class]),style:ve([{textColorStyles:i},e.style])},{default:()=>[l&&C("div",{class:"v-list-subheader__text"},[n.default?.()??e.title])]})}),{}}}),gg=Q({items:Array,returnObject:Boolean},"VListChildren"),Aa=le()({name:"VListChildren",props:gg(),setup(e,t){let{slots:n}=t;return ga(),()=>n.default?.()??e.items?.map(o=>{let{children:i,props:l,type:a,raw:u}=o;if(a==="divider")return n.divider?.({props:l})??T(wt,l,null);if(a==="subheader")return n.subheader?.({props:l})??T(Ia,l,null);const d={subtitle:n.subtitle?f=>n.subtitle?.({...f,item:u}):void 0,prepend:n.prepend?f=>n.prepend?.({...f,item:u}):void 0,append:n.append?f=>n.append?.({...f,item:u}):void 0,title:n.title?f=>n.title?.({...f,item:u}):void 0},c=Ml.filterProps(l);return i?T(Ml,Z(c,{value:e.returnObject?u:l?.value,rawId:l?.value}),{activator:f=>{let{props:m}=f;const v=Z(l,m,{value:e.returnObject?u:l.value});return n.header?n.header({props:v}):T(kn,v,d)},default:()=>T(Aa,{items:i,returnObject:e.returnObject},n)}):n.item?n.item({props:l}):T(kn,Z(l,{value:e.returnObject?u:l.value}),d)})}}),ba=Q({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),hg=new Set(["item","divider","subheader"]);function Ut(e,t){const n=Oe(t,e.itemTitle,t),o=Oe(t,e.itemValue,n),i=Oe(t,e.itemChildren),l=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Rt(t,["children"]):t:void 0:Oe(t,e.itemProps);let a=Oe(t,e.itemType,"item");hg.has(a)||(a="item");const u={title:n,value:o,...l};return{type:a,title:String(u.title??""),value:u.value,props:u,children:a==="item"&&Array.isArray(i)?wa(e,i):void 0,raw:t}}Ut.neededProps=["itemTitle","itemValue","itemChildren","itemProps","itemType"];function wa(e,t){const n=Nn(e,Ut.neededProps),o=[];for(const i of t)o.push(Ut(n,i));return o}function yg(e){const t=R(()=>wa(e,e.items)),n=R(()=>t.value.some(u=>u.value===null)),o=oe(new Map),i=oe([]);mt(()=>{const u=t.value,d=new Map,c=[];for(let f=0;f<u.length;f++){const m=u[f];if(Zn(m.value)||m.value===null){let v=d.get(m.value);v||(v=[],d.set(m.value,v)),v.push(m)}else c.push(m)}o.value=d,i.value=c});function l(u){const d=o.value,c=t.value,f=i.value,m=n.value,v=e.returnObject,p=!!e.valueComparator,h=e.valueComparator||tt,g=Nn(e,Ut.neededProps),y=[];e:for(const S of u){if(!m&&S===null)continue;if(v&&typeof S=="string"){y.push(Ut(g,S));continue}const E=d.get(S);if(p||!E){for(const _ of p?c:f)if(h(S,_.value)){y.push(_);continue e}y.push(Ut(g,S));continue}y.push(...E)}return y}function a(u){return e.returnObject?u.map(d=>{let{raw:c}=d;return c}):u.map(d=>{let{value:c}=d;return c})}return{items:t,transformIn:l,transformOut:a}}const Sg=new Set(["item","divider","subheader"]);function Cg(e,t){const n=Zn(t)?t:Oe(t,e.itemTitle),o=Zn(t)?t:Oe(t,e.itemValue,void 0),i=Oe(t,e.itemChildren),l=e.itemProps===!0?Rt(t,["children"]):Oe(t,e.itemProps);let a=Oe(t,e.itemType,"item");Sg.has(a)||(a="item");const u={title:n,value:o,...l};return{type:a,title:u.title,value:u.value,props:u,children:a==="item"&&i?Pa(e,i):void 0,raw:t}}function Pa(e,t){const n=[];for(const o of t)n.push(Cg(e,o));return n}function Tg(e){return{items:R(()=>Pa(e,e.items))}}const _g=Q({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:Te,collapseIcon:Te,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Ve(),"onClick:select":Ve(),"onUpdate:opened":Ve(),...sg({selectStrategy:"single-leaf",openStrategy:"list"}),...rn(),...ge(),...Bt(),...yt(),...St(),...ba(),...rt(),...Ge(),...Le(),...sn({variant:"text"})},"VList"),Eg=le()({name:"VList",props:_g(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:o}=Tg(e),{themeClasses:i}=ze(e),{backgroundColorClasses:l,backgroundColorStyles:a}=Je(()=>e.bgColor),{borderClasses:u}=an(e),{densityClasses:d}=Gt(e),{dimensionStyles:c}=ht(e),{elevationClasses:f}=Ct(e),{roundedClasses:m}=at(e),{children:v,open:p,parents:h,select:g,getPath:y}=ag(e),S=F(()=>e.lines?`v-list--${e.lines}-line`:void 0),E=F(()=>e.activeColor),_=F(()=>e.baseColor),w=F(()=>e.color),x=F(()=>e.selectable||e.activatable);ga({filterable:e.filterable}),ln({VListGroup:{activeColor:E,baseColor:_,color:w,expandIcon:F(()=>e.expandIcon),collapseIcon:F(()=>e.collapseIcon)},VListItem:{activeClass:F(()=>e.activeClass),activeColor:E,baseColor:_,color:w,density:F(()=>e.density),disabled:F(()=>e.disabled),lines:F(()=>e.lines),nav:F(()=>e.nav),slim:F(()=>e.slim),variant:F(()=>e.variant)}});const P=oe(!1),I=J();function b(V){P.value=!0}function A(V){P.value=!1}function k(V){!P.value&&!(V.relatedTarget&&I.value?.contains(V.relatedTarget))&&U()}function N(V){const G=V.target;if(!(!I.value||G.tagName==="INPUT"&&["Home","End"].includes(V.key)||G.tagName==="TEXTAREA")){if(V.key==="ArrowDown")U("next");else if(V.key==="ArrowUp")U("prev");else if(V.key==="Home")U("first");else if(V.key==="End")U("last");else return;V.preventDefault()}}function D(V){P.value=!0}function U(V){if(I.value)return vn(I.value,V)}return de(()=>T(e.tag,{ref:I,class:te(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},i.value,l.value,u.value,d.value,f.value,S.value,m.value,e.class]),style:ve([a.value,c.value,e.style]),tabindex:e.disabled?-1:0,role:x.value?"listbox":"list","aria-activedescendant":void 0,onFocusin:b,onFocusout:A,onFocus:k,onKeydown:N,onMousedown:D},{default:()=>[T(Aa,{items:o.value,returnObject:e.returnObject},n)]})),{open:p,select:g,focus:U,children:v,parents:h,getPath:y}}}),Ig=Q({id:String,submenu:Boolean,disableInitialFocus:Boolean,...Rt(Bn({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:No}}),["absolute"])},"VMenu"),xa=le()({name:"VMenu",props:Ig(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const o=Ae(e,"modelValue"),{scopeId:i}=fn(),{isRtl:l}=it(),a=je(),u=F(()=>e.id||`v-menu-${a}`),d=J(),c=Fe(fo,null),f=oe(new Set);st(fo,{register(){f.value.add(a)},unregister(){f.value.delete(a)},closeParents(_){setTimeout(()=>{!f.value.size&&!e.persistent&&(_==null||d.value?.contentEl&&!Wa(_,d.value.contentEl))&&(o.value=!1,c?.closeParents())},40)}}),lt(()=>{c?.unregister(),document.removeEventListener("focusin",h)}),za(()=>o.value=!1);let m=!1,v=-1;async function p(){m=!0,v=window.setTimeout(()=>{m=!1},100)}async function h(_){const w=_.relatedTarget,x=_.target;await Ie(),o.value&&w!==x&&d.value?.rootEl&&d.value?.contentEl&&d.value?.localTop&&![document,d.value.rootEl].includes(x)&&!d.value.rootEl.contains(x)&&(m?!e.openOnHover&&!d.value.activatorEl?.contains(x)&&(o.value=!1):(Xt(d.value.contentEl)[0]?.focus(),document.removeEventListener("pointerdown",p)))}ne(o,_=>{_?(c?.register(),De&&!e.disableInitialFocus&&(document.addEventListener("pointerdown",p),document.addEventListener("focusin",h,{once:!0}))):(c?.unregister(),De&&(clearTimeout(v),document.removeEventListener("pointerdown",p),document.removeEventListener("focusin",h)))},{immediate:!0});function g(_){c?.closeParents(_)}function y(_){if(!e.disabled)if(_.key==="Tab"||_.key==="Enter"&&!e.closeOnContentClick){if(_.key==="Enter"&&(_.target instanceof HTMLTextAreaElement||_.target instanceof HTMLInputElement&&_.target.closest("form")))return;_.key==="Enter"&&_.preventDefault(),Oa(Xt(d.value?.contentEl,!1),_.shiftKey?"prev":"next",x=>x.tabIndex>=0)||(o.value=!1,d.value?.activatorEl?.focus())}else e.submenu&&_.key===(l.value?"ArrowRight":"ArrowLeft")&&(o.value=!1,d.value?.activatorEl?.focus())}function S(_){if(e.disabled)return;const w=d.value?.contentEl;w&&o.value?_.key==="ArrowDown"?(_.preventDefault(),_.stopImmediatePropagation(),vn(w,"next")):_.key==="ArrowUp"?(_.preventDefault(),_.stopImmediatePropagation(),vn(w,"prev")):e.submenu&&(_.key===(l.value?"ArrowRight":"ArrowLeft")?o.value=!1:_.key===(l.value?"ArrowLeft":"ArrowRight")&&(_.preventDefault(),vn(w,"first"))):(e.submenu?_.key===(l.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(_.key))&&(o.value=!0,_.preventDefault(),setTimeout(()=>setTimeout(()=>S(_))))}const E=R(()=>Z({"aria-haspopup":"menu","aria-expanded":String(o.value),"aria-controls":u.value,"aria-owns":u.value,onKeydown:S},e.activatorProps));return de(()=>{const _=bt.filterProps(e);return T(bt,Z({ref:d,id:u.value,class:["v-menu",e.class],style:e.style},_,{modelValue:o.value,"onUpdate:modelValue":w=>o.value=w,absolute:!0,activatorProps:E.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":g,onKeydown:y},i),{activator:n.activator,default:function(){for(var w=arguments.length,x=new Array(w),P=0;P<w;P++)x[P]=arguments[P];return T(Pe,{root:"VMenu"},{default:()=>[n.default?.(...x)]})}})}),_t({id:u,openChildren:f},d)}}),Ag=Q({renderless:Boolean,...ge()},"VVirtualScrollItem"),bg=le()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ag(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:o,slots:i}=t;const{resizeRef:l,contentRect:a}=Tn(void 0,"border");ne(()=>a.value?.height,u=>{u!=null&&o("update:height",u)}),de(()=>e.renderless?C(pe,null,[i.default?.({itemRef:l})]):C("div",Z({ref:l,class:["v-virtual-scroll__item",e.class],style:e.style},n),[i.default?.()]))}}),wg=-1,Pg=1,Qn=100,xg=Q({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Rg(e,t){const n=on(),o=oe(0);mt(()=>{o.value=parseFloat(e.itemHeight||0)});const i=oe(0),l=oe(Math.ceil((parseInt(e.height)||n.height.value)/(o.value||16))||1),a=oe(0),u=oe(0),d=J(),c=J();let f=0;const{resizeRef:m,contentRect:v}=Tn();mt(()=>{m.value=d.value});const p=R(()=>d.value===document.documentElement?n.height.value:v.value?.height||parseInt(e.height)||0),h=R(()=>!!(d.value&&c.value&&p.value&&o.value));let g=Array.from({length:t.value.length}),y=Array.from({length:t.value.length});const S=oe(0);let E=-1;function _(q){return g[q]||o.value}const w=Ka(()=>{const q=performance.now();y[0]=0;const Y=t.value.length;for(let B=1;B<=Y;B++)y[B]=(y[B-1]||0)+_(B-1);S.value=Math.max(S.value,performance.now()-q)},S),x=ne(h,q=>{q&&(x(),f=c.value.offsetTop,w.immediate(),H(),~E&&Ie(()=>{De&&window.requestAnimationFrame(()=>{ee(E),E=-1})}))});qe(()=>{w.clear()});function P(q,Y){const B=g[q],M=o.value;o.value=M?Math.min(o.value,Y):Y,(B!==Y||M!==o.value)&&(g[q]=Y,w())}function I(q){q=Xe(q,0,t.value.length);const Y=Math.floor(q),B=q%1,M=Y+1,W=y[Y]||0,j=y[M]||W;return W+(j-W)*B}function b(q){return kg(y,q)}let A=0,k=0,N=0;ne(p,(q,Y)=>{Y&&(H(),q<Y&&requestAnimationFrame(()=>{k=0,H()}))});let D=-1;function U(){if(!d.value||!c.value)return;const q=d.value.scrollTop,Y=performance.now();Y-N>500?(k=Math.sign(q-A),f=c.value.offsetTop):k=q-A,A=q,N=Y,window.clearTimeout(D),D=window.setTimeout(V,500),H()}function V(){!d.value||!c.value||(k=0,N=0,window.clearTimeout(D),H())}let G=-1;function H(){cancelAnimationFrame(G),G=requestAnimationFrame(X)}function X(){if(!d.value||!p.value||!o.value)return;const q=A-f,Y=Math.sign(k),B=Math.max(0,q-Qn),M=Xe(b(B),0,t.value.length),W=q+p.value+Qn,j=Xe(b(W)+1,M+1,t.value.length);if((Y!==wg||M<i.value)&&(Y!==Pg||j>l.value)){const ie=I(i.value)-I(M),L=I(j)-I(l.value);Math.max(ie,L)>Qn?(i.value=M,l.value=j):(M<=0&&(i.value=M),j>=t.value.length&&(l.value=j))}a.value=I(i.value),u.value=I(t.value.length)-I(l.value)}function ee(q){const Y=I(q);!d.value||q&&!Y?E=q:d.value.scrollTop=Y}const ae=R(()=>t.value.slice(i.value,l.value).map((q,Y)=>{const B=Y+i.value;return{raw:q,index:B,key:Oe(q,e.itemKey,B)}}));return ne(t,()=>{g=Array.from({length:t.value.length}),y=Array.from({length:t.value.length}),w.immediate(),H()},{deep:1}),{calculateVisibleItems:H,containerRef:d,markerRef:c,computedItems:ae,paddingTop:a,paddingBottom:u,scrollToIndex:ee,handleScroll:U,handleScrollend:V,handleItemResize:P}}function kg(e,t){let n=e.length-1,o=0,i=0,l=null,a=-1;if(e[n]<t)return n;for(;o<=n;)if(i=o+n>>1,l=e[i],l>t)n=i-1;else if(l<t)a=i,o=i+1;else return l===t?i:o;return a}const Mg=Q({items:{type:Array,default:()=>[]},renderless:Boolean,...xg(),...ge(),...yt()},"VVirtualScroll"),Ng=le()({name:"VVirtualScroll",props:Mg(),setup(e,t){let{slots:n}=t;const o=xt("VVirtualScroll"),{dimensionStyles:i}=ht(e),{calculateVisibleItems:l,containerRef:a,markerRef:u,handleScroll:d,handleScrollend:c,handleItemResize:f,scrollToIndex:m,paddingTop:v,paddingBottom:p,computedItems:h}=Rg(e,F(()=>e.items));return Ye(()=>e.renderless,()=>{function g(){const S=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[S]("scroll",d,{passive:!0}),document[S]("scrollend",c)):(a.value?.[S]("scroll",d,{passive:!0}),a.value?.[S]("scrollend",c))}gt(()=>{a.value=cs(o.vnode.el,!0),g(!0)}),qe(g)}),de(()=>{const g=h.value.map(y=>T(bg,{key:y.key,renderless:e.renderless,"onUpdate:height":S=>f(y.index,S)},{default:S=>n.default?.({item:y.raw,index:y.index,...S})}));return e.renderless?C(pe,null,[C("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:ye(v.value)}},null),g,C("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ye(p.value)}},null)]):C("div",{ref:a,class:te(["v-virtual-scroll",e.class]),onScrollPassive:d,onScrollend:c,style:ve([i.value,e.style])},[C("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:ye(v.value),paddingBottom:ye(p.value)}},[g])])}),{calculateVisibleItems:l,scrollToIndex:m}}});function Vg(e,t){const n=oe(!1);let o;function i(u){cancelAnimationFrame(o),n.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{n.value=!1})})}async function l(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(n.value){const d=ne(n,()=>{d(),u()})}else u()})}async function a(u){if(u.key==="Tab"&&t.value?.focus(),!["PageDown","PageUp","Home","End"].includes(u.key))return;const d=e.value?.$el;if(!d)return;(u.key==="Home"||u.key==="End")&&d.scrollTo({top:u.key==="Home"?0:d.scrollHeight,behavior:"smooth"}),await l();const c=d.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const f=d.getBoundingClientRect().top;for(const m of c)if(m.getBoundingClientRect().top>=f){m.focus();break}}else{const f=d.getBoundingClientRect().bottom;for(const m of[...c].reverse())if(m.getBoundingClientRect().bottom<=f){m.focus();break}}}return{onScrollPassive:i,onKeydown:a}}const Dg=Q({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function Lg(e,t){const{t:n}=nn(),o=je(),i=R(()=>`menu-${o}`),l=F(()=>Et(t)),a=F(()=>i.value),u=F(()=>n(Et(t)?e.closeText:e.openText));return{menuId:i,ariaExpanded:l,ariaControls:a,ariaLabel:u}}const Fg=Q({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Te,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Dg(),...ba({itemChildren:!1})},"Select"),Ug=Q({...Fg(),...Rt(Qs({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ln({transition:{component:No}})},"VSelect"),qg=le()({name:"VSelect",props:Ug(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:o}=nn(),i=J(),l=J(),a=J(),{items:u,transformIn:d,transformOut:c}=yg(e),f=Ae(e,"modelValue",[],M=>d(M===null?[null]:Ke(M)),M=>{const W=c(M);return e.multiple?W:W[0]??null}),m=R(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),v=Fo(e),p=R(()=>f.value.map(M=>M.value)),h=oe(!1);let g="",y=-1,S;const E=R(()=>e.hideSelected?u.value.filter(M=>!f.value.some(W=>(e.valueComparator||tt)(W,M))):u.value),_=R(()=>e.hideNoData&&!E.value.length||v.isReadonly.value||v.isDisabled.value),w=Ae(e,"menu"),x=R({get:()=>w.value,set:M=>{w.value&&!M&&l.value?.openChildren.size||M&&_.value||(w.value=M)}}),{menuId:P,ariaExpanded:I,ariaControls:b,ariaLabel:A}=Lg(e,x),k=R(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),N=J(),D=Vg(N,i);function U(M){e.openOnClear&&(x.value=!0)}function V(){_.value||(x.value=!x.value)}function G(M){Wo(M)&&H(M)}function H(M){if(!M.key||v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(M.key)&&M.preventDefault(),["Enter","ArrowDown"," "].includes(M.key)&&(x.value=!0),["Escape","Tab"].includes(M.key)&&(x.value=!1),M.key==="Home"?N.value?.focus("first"):M.key==="End"&&N.value?.focus("last");const W=1e3;if(!Wo(M))return;const j=performance.now();j-S>W&&(g="",y=-1),g+=M.key.toLowerCase(),S=j;const ie=E.value;function L(){let me=O();return me||g.at(-1)===g.at(-2)&&(g=g.slice(0,-1),me=O(),me)||(y=-1,me=O(),me)?me:(g=M.key.toLowerCase(),O())}function O(){for(let me=y+1;me<ie.length;me++){const ke=ie[me];if(ke.title.toLowerCase().startsWith(g))return[ke,me]}}const re=L();if(!re)return;const[Ce,xe]=re;y=xe,N.value?.focus(xe),e.multiple||(f.value=[Ce])}function X(M){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!M.props.disabled)if(e.multiple){const j=f.value.findIndex(L=>(e.valueComparator||tt)(L.value,M.value)),ie=W??!~j;if(~j){const L=ie?[...f.value,M]:[...f.value];L.splice(j,1),f.value=L}else ie&&(f.value=[...f.value,M])}else{const j=W!==!1;f.value=j?[M]:[],Ie(()=>{x.value=!1})}}function ee(M){N.value?.$el.contains(M.relatedTarget)||(x.value=!1)}function ae(){e.eager&&a.value?.calculateVisibleItems()}function q(){h.value&&i.value?.focus()}function Y(M){h.value=!0}function B(M){if(M==null)f.value=[];else if(Cn(i.value,":autofill")||Cn(i.value,":-webkit-autofill")){const W=u.value.find(j=>j.title===M);W&&X(W)}else i.value&&(i.value.value="")}return ne(x,()=>{if(!e.hideSelected&&x.value&&f.value.length){const M=E.value.findIndex(W=>f.value.some(j=>(e.valueComparator||tt)(j.value,W.value)));De&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{M>=0&&a.value?.scrollToIndex(M)})}}),ne(u,(M,W)=>{x.value||h.value&&e.hideNoData&&!W.length&&M.length&&(x.value=!0)}),de(()=>{const M=!!(e.chips||n.chip),W=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),j=f.value.length>0,ie=pt.filterProps(e),L=j||!h.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return T(pt,Z({ref:i},ie,{modelValue:f.value.map(O=>O.props.value).join(", "),"onUpdate:modelValue":B,focused:h.value,"onUpdate:focused":O=>h.value=O,validationValue:f.externalValue,counterValue:m.value,dirty:j,class:["v-select",{"v-select--active-menu":x.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:L,"onClick:clear":U,"onMousedown:control":V,onBlur:ee,onKeydown:H,"aria-expanded":I.value,"aria-controls":b.value,"aria-label":A.value,title:A.value}),{...n,default:()=>C(pe,null,[T(xa,Z({id:P.value,ref:l,modelValue:x.value,"onUpdate:modelValue":O=>x.value=O,activator:"parent",contentClass:"v-select__content",disabled:_.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ae,onAfterLeave:q},k.value),{default:()=>[W&&T(Eg,Z({ref:N,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:O=>O.preventDefault(),onKeydown:G,onFocusin:Y,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},D,e.listProps),{default:()=>[n["prepend-item"]?.(),!E.value.length&&!e.hideNoData&&(n["no-data"]?.()??T(kn,{key:"no-data",title:o(e.noDataText)},null)),T(Ng,{ref:a,renderless:!0,items:E.value,itemKey:"value"},{default:O=>{let{item:re,index:Ce,itemRef:xe}=O;const me=Ya(re.props),ke=Z(re.props,{ref:xe,key:re.value,onClick:()=>X(re,null)});return re.type==="divider"?n.divider?.({props:re.raw,index:Ce})??T(wt,Z(re.props,{key:`divider-${Ce}`}),null):re.type==="subheader"?n.subheader?.({props:re.raw,index:Ce})??T(Ia,Z(re.props,{key:`subheader-${Ce}`}),null):n.item?.({item:re,index:Ce,props:ke})??T(kn,Z(ke,{role:"option"}),{prepend:Me=>{let{isSelected:Hn}=Me;return C(pe,null,[e.multiple&&!e.hideSelected?T(Op,{key:re.value,modelValue:Hn,ripple:!1,tabindex:"-1",onClick:zt=>zt.preventDefault()},null):void 0,me.prependAvatar&&T(Qt,{image:me.prependAvatar},null),me.prependIcon&&T(ce,{icon:me.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),f.value.map((O,re)=>{function Ce(Me){Me.stopPropagation(),Me.preventDefault(),X(O,!1)}const xe={"onClick:close":Ce,onKeydown(Me){Me.key!=="Enter"&&Me.key!==" "||(Me.preventDefault(),Me.stopPropagation(),Ce(Me))},onMousedown(Me){Me.preventDefault(),Me.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},me=M?!!n.chip:!!n.selection,ke=me?Xa(M?n.chip({item:O,index:re,props:xe}):n.selection({item:O,index:re})):void 0;if(!(me&&!ke))return C("div",{key:O.value,class:"v-select__selection"},[M?n.chip?T(Pe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:O.title}}},{default:()=>[ke]}):T(nt,Z({key:"chip",closable:e.closableChips,size:"small",text:O.title,disabled:O.props.disabled},xe),null):ke??C("span",{class:"v-select__selection-text"},[O.title,e.multiple&&re<f.value.length-1&&C("span",{class:"v-select__selection-comma"},[Se(",")])])])})]),"append-inner":function(){for(var O=arguments.length,re=new Array(O),Ce=0;Ce<O;Ce++)re[Ce]=arguments[Ce];return C(pe,null,[n["append-inner"]?.(...re),e.menuIcon?T(ce,{class:"v-select__menu-icon",color:i.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),_t({isFocused:h,menu:x,select:X},i)}}),Gg={key:2,class:"text-caption text-medium-emphasis mt-1 ml-1"},Bg={__name:"FieldSelect",props:{fieldKey:String,field:Object,path:String},emits:["update:value"],setup(e,{emit:t}){const n=e,o=t,i=R(()=>{const d=n.field.value,f=(n.field.options||[]).some(m=>m.value===d);return d==="custom"||!f});function l(d){d==="custom"?o("update:value",""):o("update:value",d)}function a(d){o("update:value",d)}function u(){const d=n.field.options||[];d.length>0&&d[0].value!=="custom"&&o("update:value",d[0].value)}return(d,c)=>(K(),ue("div",null,[i.value?(K(),he(pt,{key:0,"model-value":e.field.value,"onUpdate:modelValue":a,variant:"outlined",density:"comfortable","hide-details":"auto",placeholder:`Enter custom ${e.fieldKey.replace(/_/g," ")}`,class:"field-input","prepend-inner-icon":"mdi-pencil"},{"append-inner":z(()=>[T(be,{icon:"mdi-format-list-bulleted",size:"x-small",variant:"text",onClick:u,title:"Back to dropdown"})]),_:1},8,["model-value","placeholder"])):(K(),he(qg,{key:1,"model-value":e.field.value,"onUpdate:modelValue":l,items:e.field.options||[],"item-value":"value","item-title":"label",variant:"outlined",density:"comfortable","hide-details":"auto",placeholder:`Select ${e.fieldKey.replace(/_/g," ")}`,class:"field-input"},Yt({_:2},[e.field.description?{name:"prepend-inner",fn:z(()=>[T(Zt,{location:"top"},{activator:z(({props:f})=>[T(ce,Z(f,{size:"small",icon:"mdi-information-outline"}),null,16)]),default:z(()=>[Se(" "+se(e.field.description),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","items","placeholder"])),e.field.description&&!i.value?(K(),ue("div",Gg,se(e.field.description),1)):Ee("",!0)]))}},Hg=et(Bg,[["__scopeId","data-v-2f73f23f"]]),$g=ho("v-alert-title"),Jg=Q({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function zg(e,t){return{iconSize:R(()=>{const o=new Map(e.iconSizes),i=e.iconSize??t()??"default";return o.has(i)?o.get(i):i})}}const Og=["success","info","warning","error"],Wg=Q({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Te,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Og.includes(e)},...ge(),...Bt(),...yt(),...St(),...Jg(),...ss(),...ls(),...rt(),...Ge(),...Le(),...sn({variant:"flat"})},"VAlert"),Mn=le()({name:"VAlert",props:Wg(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:o}=t;const i=Ae(e,"modelValue"),l=F(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{iconSize:a}=zg(e,()=>e.prominent?44:void 0),{themeClasses:u}=ze(e),{colorClasses:d,colorStyles:c,variantClasses:f}=Co(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:m}=Gt(e),{dimensionStyles:v}=ht(e),{elevationClasses:p}=Ct(e),{locationStyles:h}=os(e),{positionClasses:g}=is(e),{roundedClasses:y}=at(e),{textColorClasses:S,textColorStyles:E}=kt(()=>e.borderColor),{t:_}=nn(),w=F(()=>({"aria-label":_(e.closeLabel),onClick(x){i.value=!1,n("click:close",x)}}));return()=>{const x=!!(o.prepend||l.value),P=!!(o.title||e.title),I=!!(o.close||e.closable),b={density:e.density,icon:l.value,size:e.iconSize||e.prominent?a.value:void 0};return i.value&&T(e.tag,{class:te(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},u.value,d.value,m.value,p.value,g.value,y.value,f.value,e.class]),style:ve([c.value,v.value,h.value,e.style]),role:"alert"},{default:()=>[To(!1,"v-alert"),e.border&&C("div",{key:"border",class:te(["v-alert__border",S.value]),style:ve(E.value)},null),x&&C("div",{key:"prepend",class:"v-alert__prepend"},[o.prepend?T(Pe,{key:"prepend-defaults",disabled:!l.value,defaults:{VIcon:{...b}}},o.prepend):T(ce,Z({key:"prepend-icon"},b),null)]),C("div",{class:"v-alert__content"},[P&&T($g,{key:"title"},{default:()=>[o.title?.()??e.title]}),o.text?.()??e.text,o.default?.()]),o.append&&C("div",{key:"append",class:"v-alert__append"},[o.append()]),I&&C("div",{key:"close",class:"v-alert__close"},[o.close?T(Pe,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[o.close?.({props:w.value})]}):T(be,Z({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},w.value),null)])]})}}}),Kg=Q({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...cn(),...Go()},"VSwitch"),Nl=le()({name:"VSwitch",inheritAttrs:!1,props:Kg(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:o}=t;const i=Ae(e,"indeterminate"),l=Ae(e,"modelValue"),{loaderClasses:a}=Ql(e),{isFocused:u,focus:d,blur:c}=dn(e),f=J(),m=J(),v=Qa&&window.matchMedia("(forced-colors: active)").matches,p=F(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),h=je(),g=F(()=>e.id||`switch-${h}`);function y(){i.value&&(i.value=!1)}function S(E){E.stopPropagation(),E.preventDefault(),f.value?.input?.click()}return de(()=>{const[E,_]=Vn(n),w=vt.filterProps(e),x=Rn.filterProps(e);return T(vt,Z({ref:m,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":i.value},a.value,e.class]},E,w,{modelValue:l.value,"onUpdate:modelValue":P=>l.value=P,id:g.value,focused:u.value,style:e.style}),{...o,default:P=>{let{id:I,messagesId:b,isDisabled:A,isReadonly:k,isValid:N}=P;const D={model:l,isValid:N};return T(Rn,Z({ref:f},x,{modelValue:l.value,"onUpdate:modelValue":[U=>l.value=U,y],id:I.value,"aria-describedby":b.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:A.value,readonly:k.value,onFocus:d,onBlur:c},_),{...o,default:U=>{let{backgroundColorClasses:V,backgroundColorStyles:G}=U;return C("div",{class:te(["v-switch__track",v?void 0:V.value]),style:ve(G.value),onClick:S},[o["track-true"]&&C("div",{key:"prepend",class:"v-switch__track-true"},[o["track-true"](D)]),o["track-false"]&&C("div",{key:"append",class:"v-switch__track-false"},[o["track-false"](D)])])},input:U=>{let{inputNode:V,icon:G,backgroundColorClasses:H,backgroundColorStyles:X}=U;return C(pe,null,[V,C("div",{class:te(["v-switch__thumb",{"v-switch__thumb--filled":G||e.loading},e.inset||v?void 0:H.value]),style:ve(e.inset?void 0:X.value)},[o.thumb?T(Pe,{defaults:{VIcon:{icon:G,size:"x-small"}}},{default:()=>[o.thumb({...D,icon:G})]}):T($s,null,{default:()=>[e.loading?T(Zl,{name:"v-switch",active:!0,color:N.value===!1?void 0:p.value},{default:ee=>o.loader?o.loader(ee):T(_o,{active:ee.isActive,color:ee.color,indeterminate:!0,size:"16",width:"2"},null)}):G&&T(ce,{key:String(G),icon:G,size:"x-small"},null)]})])])}})}})}),_t({},m)}}),Yg={class:"field-renderer"},Xg={class:"d-flex align-center mb-3"},Qg={class:"d-flex align-center flex-grow-1"},Zg={class:"text-subtitle-1 font-weight-medium"},jg={key:0,class:"nested-children"},eh={class:"d-flex align-center mb-2"},th={class:"flex-grow-1"},nh={class:"d-flex align-center"},oh={class:"text-subtitle-2 font-weight-medium"},ih={key:0},lh={__name:"FieldRenderer",props:{fieldKey:String,field:Object,path:String,depth:{type:Number,default:0}},emits:["update:value","update:toggle"],setup(e,{emit:t}){const n=e,o=t,i=J(!0),l=R(()=>n.field.children&&typeof n.field.children=="object"&&Object.keys(n.field.children).length>0),a=R(()=>"toggle"in n.field),u=R(()=>a.value?n.field.toggle===!0:!0),d=R(()=>n.field.type==="select"?Hg:n.field.type==="number"?Dp:n.field.type==="array"?Hp:hp);function c(y){return y.split("_").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" ")}function f(y){return n.path?`${n.path}.${y}`:y}function m(y){n.path?o("update:toggle",{path:n.path,toggle:y}):o("update:toggle",y)}function v(y){n.path?o("update:value",{path:n.path,value:y}):o("update:value",y)}function p(y){o("update:value",y)}function h(y){o("update:toggle",y)}function g(){return{camera:"mdi-camera",lens:"mdi-camera-iris",settings:"mdi-cog",lighting:"mdi-lightbulb",main_light:"mdi-lightbulb-on",fill_light:"mdi-lightbulb-outline",rim_light:"mdi-lightbulb-multiple",post_processing:"mdi-image-edit",style:"mdi-palette",technical:"mdi-tune"}[n.fieldKey]||"mdi-folder"}return(y,S)=>{const E=Za("FieldRenderer",!0);return K(),ue("div",Yg,[l.value?(K(),he(Ze,{key:0,variant:"outlined",class:te(["nested-section-card",`depth-${e.depth}`,{"section-disabled":a.value&&!u.value}]),density:"compact"},{default:z(()=>[T(At,{class:"py-3"},{default:z(()=>[C("div",Xg,[a.value?(K(),he(Nl,{key:0,"model-value":u.value,"onUpdate:modelValue":m,density:"compact","hide-details":"",color:"primary",class:"mr-3",style:{flex:"0 0 auto"}},null,8,["model-value"])):Ee("",!0),C("div",Qg,[T(ce,{icon:g(),class:"me-2",size:"small"},null,8,["icon"]),C("span",Zg,se(c(e.fieldKey)),1),e.field.required?(K(),he(nt,{key:0,size:"x-small",color:"error",variant:"flat",class:"ms-2"},{default:z(()=>[...S[1]||(S[1]=[Se(" Required ",-1)])]),_:1})):Ee("",!0)]),T(be,{icon:i.value?"mdi-chevron-down":"mdi-chevron-right",variant:"text",size:"small",density:"compact",onClick:S[0]||(S[0]=_=>i.value=!i.value),class:"ml-2"},null,8,["icon"])]),T(un,null,{default:z(()=>[i.value&&u.value?(K(),ue("div",jg,[(K(!0),ue(pe,null,It(e.field.children,(_,w)=>(K(),he(E,{key:w,"field-key":w,field:_,path:f(w),depth:e.depth+1,"onUpdate:value":p,"onUpdate:toggle":h},null,8,["field-key","field","path","depth"]))),128))])):a.value&&!u.value?(K(),he(Mn,{key:1,type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:z(()=>[...S[2]||(S[2]=[Se(" Enable this section to configure its fields ",-1)])]),_:1})):Ee("",!0)]),_:1})]),_:1})]),_:1},8,["class"])):(K(),he(Ze,{key:1,variant:"outlined",class:te(["field-card",`depth-${e.depth}`,{"field-disabled":a.value&&!u.value}]),density:"compact"},{default:z(()=>[T(At,{class:"py-3"},{default:z(()=>[C("div",eh,[a.value?(K(),he(Nl,{key:0,"model-value":u.value,"onUpdate:modelValue":m,density:"compact","hide-details":"",color:"primary",class:"mr-3",style:{flex:"0 0 auto"}},null,8,["model-value"])):Ee("",!0),C("div",th,[C("div",nh,[C("span",oh,se(c(e.fieldKey)),1),e.field.required?(K(),he(nt,{key:0,size:"x-small",color:"error",variant:"flat",class:"ms-2"},{default:z(()=>[...S[3]||(S[3]=[Se(" Required ",-1)])]),_:1})):Ee("",!0)])])]),u.value?(K(),ue("div",ih,[(K(),he(ja(d.value),{"field-key":e.fieldKey,field:e.field,path:e.path,"onUpdate:value":v,"onUpdate:toggle":m},null,40,["field-key","field","path"]))])):a.value&&!u.value?(K(),he(Mn,{key:1,type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:z(()=>[...S[4]||(S[4]=[Se(" Enable this field to edit its value ",-1)])]),_:1})):Ee("",!0)]),_:1})]),_:1},8,["class"]))])}}},sh=et(lh,[["__scopeId","data-v-1a237a3d"]]),tn=Symbol.for("vuetify:v-expansion-panel"),Ra=Q({...ge(),...la()},"VExpansionPanelText"),Vl=le()({name:"VExpansionPanelText",props:Ra(),setup(e,t){let{slots:n}=t;const o=Fe(tn);if(!o)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:l}=sa(e,o.isSelected);return de(()=>T(un,{onAfterLeave:l},{default:()=>[Ne(C("div",{class:te(["v-expansion-panel-text",e.class]),style:ve(e.style)},[n.default&&i.value&&C("div",{class:"v-expansion-panel-text__wrapper"},[n.default?.()])]),[[Pt,o.isSelected.value]])]})),{}}}),ka=Q({color:String,expandIcon:{type:Te,default:"$expand"},collapseIcon:{type:Te,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ge(),...yt()},"VExpansionPanelTitle"),Dl=le()({name:"VExpansionPanelTitle",directives:{vRipple:Qe},props:ka(),setup(e,t){let{slots:n}=t;const o=Fe(tn);if(!o)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:l}=Je(()=>e.color),{dimensionStyles:a}=ht(e),u=R(()=>({collapseIcon:e.collapseIcon,disabled:o.disabled.value,expanded:o.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),d=F(()=>o.isSelected.value?e.collapseIcon:e.expandIcon);return de(()=>Ne(C("button",{class:te(["v-expansion-panel-title",{"v-expansion-panel-title--active":o.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},i.value,e.class]),style:ve([l.value,a.value,e.style]),type:"button",tabindex:o.disabled.value?-1:void 0,disabled:o.disabled.value,"aria-expanded":o.isSelected.value,onClick:e.readonly?void 0:o.toggle},[C("span",{class:"v-expansion-panel-title__overlay"},null),n.default?.(u.value),!e.hideActions&&T(Pe,{defaults:{VIcon:{icon:d.value}}},{default:()=>[C("span",{class:"v-expansion-panel-title__icon"},[n.actions?.(u.value)??T(ce,null,null)])]})]),[[Qe,e.ripple]])),{}}}),Ma=Q({title:String,text:String,bgColor:String,...St(),...ns(),...rt(),...Ge(),...ka(),...Ra()},"VExpansionPanel"),ah=le()({name:"VExpansionPanel",props:Ma(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const o=jn(e,tn),{backgroundColorClasses:i,backgroundColorStyles:l}=Je(()=>e.bgColor),{elevationClasses:a}=Ct(e),{roundedClasses:u}=at(e),d=F(()=>o?.disabled.value||e.disabled),c=R(()=>o.group.items.value.reduce((v,p,h)=>(o.group.selected.value.includes(p.id)&&v.push(h),v),[])),f=R(()=>{const v=o.group.items.value.findIndex(p=>p.id===o.id);return!o.isSelected.value&&c.value.some(p=>p-v===1)}),m=R(()=>{const v=o.group.items.value.findIndex(p=>p.id===o.id);return!o.isSelected.value&&c.value.some(p=>p-v===-1)});return st(tn,o),de(()=>{const v=!!(n.text||e.text),p=!!(n.title||e.title),h=Dl.filterProps(e),g=Vl.filterProps(e);return T(e.tag,{class:te(["v-expansion-panel",{"v-expansion-panel--active":o.isSelected.value,"v-expansion-panel--before-active":f.value,"v-expansion-panel--after-active":m.value,"v-expansion-panel--disabled":d.value},u.value,i.value,e.class]),style:ve([l.value,e.style])},{default:()=>[C("div",{class:te(["v-expansion-panel__shadow",...a.value])},null),T(Pe,{defaults:{VExpansionPanelTitle:{...h},VExpansionPanelText:{...g}}},{default:()=>[p&&T(Dl,{key:"title"},{default:()=>[n.title?n.title():e.title]}),v&&T(Vl,{key:"text"},{default:()=>[n.text?n.text():e.text]}),n.default?.()]})]})}),{groupItem:o}}}),rh=["default","accordion","inset","popout"],uh=Q({flat:Boolean,...yo(),...Nn(Ma(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Le(),...ge(),...Ge(),variant:{type:String,default:"default",validator:e=>rh.includes(e)}},"VExpansionPanels"),dh=le()({name:"VExpansionPanels",props:uh(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:o,prev:i}=So(e,tn),{themeClasses:l}=ze(e),a=F(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ln({VExpansionPanel:{bgColor:F(()=>e.bgColor),collapseIcon:F(()=>e.collapseIcon),color:F(()=>e.color),eager:F(()=>e.eager),elevation:F(()=>e.elevation),expandIcon:F(()=>e.expandIcon),focusable:F(()=>e.focusable),hideActions:F(()=>e.hideActions),readonly:F(()=>e.readonly),ripple:F(()=>e.ripple),rounded:F(()=>e.rounded),static:F(()=>e.static)}}),de(()=>T(e.tag,{class:te(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},l.value,a.value,e.class]),style:ve(e.style)},{default:()=>[n.default?.({prev:i,next:o})]})),{next:o,prev:i}}});function ch(e){let{rootEl:t,isSticky:n,layoutItemStyles:o}=e;const i=oe(!1),l=oe(0),a=R(()=>{const c=typeof i.value=="boolean"?"top":i.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[c]:ye(l.value)}:{top:o.value.top}]});gt(()=>{ne(n,c=>{c?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)},{immediate:!0})}),lt(()=>{window.removeEventListener("scroll",d)});let u=0;function d(){const c=u>window.scrollY?"up":"down",f=t.value.getBoundingClientRect(),m=parseFloat(o.value.top??0),v=window.scrollY-Math.max(0,l.value-m),p=f.height+Math.max(l.value,m)-window.scrollY-window.innerHeight,h=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;f.height<window.innerHeight-m?(i.value="top",l.value=m):c==="up"&&i.value==="bottom"||c==="down"&&i.value==="top"?(l.value=window.scrollY+f.top-h,i.value=!0):c==="down"&&p<=0?(l.value=0,i.value="bottom"):c==="up"&&v<=0&&(h?i.value!=="top"&&(l.value=-v+h+m,i.value="top"):(l.value=f.top+v,i.value="top")),u=window.scrollY}return{isStuck:i,stickyStyles:a}}const fh=100,mh=20;function Ll(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Fl(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const o=Ll(t),i=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(i-o)*Math.abs(i),n===e.length-1&&(t*=.5)}return Ll(t)*1e3}function vh(){const e={};function t(i){Array.from(i.changedTouches).forEach(l=>{(e[l.identifier]??(e[l.identifier]=new $l(mh))).push([i.timeStamp,l])})}function n(i){Array.from(i.changedTouches).forEach(l=>{delete e[l.identifier]})}function o(i){const l=e[i]?.values().reverse();if(!l)throw new Error(`No samples for touch id ${i}`);const a=l[0],u=[],d=[];for(const c of l){if(a[0]-c[0]>fh)break;u.push({t:c[0],d:c[1].clientX}),d.push({t:c[0],d:c[1].clientY})}return{x:Fl(u),y:Fl(d),get direction(){const{x:c,y:f}=this,[m,v]=[Math.abs(c),Math.abs(f)];return m>v&&c>=0?"right":m>v&&c<=0?"left":v>m&&f>=0?"down":v>m&&f<=0?"up":ph()}}}return{addMovement:t,endTouch:n,getVelocity:o}}function ph(){throw new Error}function gh(e){let{el:t,isActive:n,isTemporary:o,width:i,touchless:l,position:a}=e;gt(()=>{window.addEventListener("touchstart",E,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",w,{passive:!0})}),lt(()=>{window.removeEventListener("touchstart",E),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",w)});const u=R(()=>["left","right"].includes(a.value)),{addMovement:d,endTouch:c,getVelocity:f}=vh();let m=!1;const v=oe(!1),p=oe(0),h=oe(0);let g;function y(P,I){return(a.value==="left"?P:a.value==="right"?document.documentElement.clientWidth-P:a.value==="top"?P:a.value==="bottom"?document.documentElement.clientHeight-P:Nt())-(I?i.value:0)}function S(P){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const b=a.value==="left"?(P-h.value)/i.value:a.value==="right"?(document.documentElement.clientWidth-P-h.value)/i.value:a.value==="top"?(P-h.value)/i.value:a.value==="bottom"?(document.documentElement.clientHeight-P-h.value)/i.value:Nt();return I?Xe(b):b}function E(P){if(l.value)return;const I=P.changedTouches[0].clientX,b=P.changedTouches[0].clientY,A=25,k=a.value==="left"?I<A:a.value==="right"?I>document.documentElement.clientWidth-A:a.value==="top"?b<A:a.value==="bottom"?b>document.documentElement.clientHeight-A:Nt(),N=n.value&&(a.value==="left"?I<i.value:a.value==="right"?I>document.documentElement.clientWidth-i.value:a.value==="top"?b<i.value:a.value==="bottom"?b>document.documentElement.clientHeight-i.value:Nt());(k||N||n.value&&o.value)&&(g=[I,b],h.value=y(u.value?I:b,n.value),p.value=S(u.value?I:b),m=h.value>-20&&h.value<80,c(P),d(P))}function _(P){const I=P.changedTouches[0].clientX,b=P.changedTouches[0].clientY;if(m){if(!P.cancelable){m=!1;return}const k=Math.abs(I-g[0]),N=Math.abs(b-g[1]);(u.value?k>N&&k>3:N>k&&N>3)?(v.value=!0,m=!1):(u.value?N:k)>3&&(m=!1)}if(!v.value)return;P.preventDefault(),d(P);const A=S(u.value?I:b,!1);p.value=Math.max(0,Math.min(1,A)),A>1?h.value=y(u.value?I:b,!0):A<0&&(h.value=y(u.value?I:b,!1))}function w(P){if(m=!1,!v.value)return;d(P),v.value=!1;const I=f(P.changedTouches[0].identifier),b=Math.abs(I.x),A=Math.abs(I.y);(u.value?b>A&&b>400:A>b&&A>3)?n.value=I.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||Nt()):n.value=p.value>.5}const x=R(()=>v.value?{transform:a.value==="left"?`translateX(calc(-100% + ${p.value*i.value}px))`:a.value==="right"?`translateX(calc(100% - ${p.value*i.value}px))`:a.value==="top"?`translateY(calc(-100% + ${p.value*i.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${p.value*i.value}px))`:Nt(),transition:"none"}:void 0);return Ye(v,()=>{const P=t.value?.style.transform??null,I=t.value?.style.transition??null;mt(()=>{t.value?.style.setProperty("transform",x.value?.transform||"none"),t.value?.style.setProperty("transition",x.value?.transition||null)}),qe(()=>{t.value?.style.setProperty("transform",P),t.value?.style.setProperty("transition",I)})}),{isDragging:v,dragProgress:p,dragStyles:x}}function Nt(){throw new Error}const hh=["start","end","left","right","top","bottom"],yh=Q({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>hh.includes(e)},sticky:Boolean,...rn(),...ge(),...na(),...Wl({mobile:null}),...St(),...tr(),...rt(),...Ge({tag:"nav"}),...Le()},"VNavigationDrawer"),Sh=le()({name:"VNavigationDrawer",props:yh(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:o,slots:i}=t;const{isRtl:l}=it(),{themeClasses:a}=ze(e),{borderClasses:u}=an(e),{backgroundColorClasses:d,backgroundColorStyles:c}=Je(()=>e.color),{elevationClasses:f}=Ct(e),{displayClasses:m,mobile:v}=on(e),{roundedClasses:p}=at(e),h=jl(),g=Ae(e,"modelValue",null,q=>!!q),{ssrBootStyles:y}=Kl(),{scopeId:S}=fn(),E=J(),_=oe(!1),{runOpenDelay:w,runCloseDelay:x}=oa(e,q=>{_.value=q}),P=R(()=>e.rail&&e.expandOnHover&&_.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),I=R(()=>rr(e.location,l.value)),b=F(()=>e.persistent),A=R(()=>!e.permanent&&(v.value||e.temporary)),k=R(()=>e.sticky&&!A.value&&I.value!=="bottom");Ye(()=>e.expandOnHover&&e.rail!=null,()=>{ne(_,q=>o("update:rail",!q))}),Ye(()=>!e.disableResizeWatcher,()=>{ne(A,q=>!e.permanent&&Ie(()=>g.value=!q))}),Ye(()=>!e.disableRouteWatcher&&!!h,()=>{ne(h.currentRoute,()=>A.value&&(g.value=!1))}),ne(()=>e.permanent,q=>{q&&(g.value=!0)}),e.modelValue==null&&!A.value&&(g.value=e.permanent||!v.value);const{isDragging:N,dragProgress:D}=gh({el:E,isActive:g,isTemporary:A,width:P,touchless:F(()=>e.touchless),position:I}),U=R(()=>{const q=A.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):P.value;return N.value?q*D.value:q}),{layoutItemStyles:V,layoutItemScrimStyles:G}=er({id:e.name,order:R(()=>parseInt(e.order,10)),position:I,layoutSize:U,elementSize:P,active:Ol(g),disableTransitions:F(()=>N.value),absolute:R(()=>e.absolute||k.value&&typeof H.value!="string")}),{isStuck:H,stickyStyles:X}=ch({rootEl:E,isSticky:k,layoutItemStyles:V}),ee=Je(()=>typeof e.scrim=="string"?e.scrim:null),ae=R(()=>({...N.value?{opacity:D.value*.2,transition:"none"}:void 0,...G.value}));return ln({VList:{bgColor:"transparent"}}),de(()=>{const q=i.image||e.image;return C(pe,null,[T(e.tag,Z({ref:E,onMouseenter:w,onMouseleave:x,class:["v-navigation-drawer",`v-navigation-drawer--${I.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":_.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":A.value,"v-navigation-drawer--persistent":b.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":k.value},a.value,d.value,u.value,m.value,f.value,p.value,e.class],style:[c.value,V.value,y.value,X.value,e.style]},S,n),{default:()=>[q&&C("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?T(Pe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},i.image):T(as,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),i.prepend&&C("div",{class:"v-navigation-drawer__prepend"},[i.prepend?.()]),C("div",{class:"v-navigation-drawer__content"},[i.default?.()]),i.append&&C("div",{class:"v-navigation-drawer__append"},[i.append?.()])]}),T(qt,{name:"fade-transition"},{default:()=>[A.value&&(N.value||g.value)&&!!e.scrim&&C("div",Z({class:["v-navigation-drawer__scrim",ee.backgroundColorClasses.value],style:[ae.value,ee.backgroundColorStyles.value],onClick:()=>{b.value||(g.value=!1)}},S),null)]})])}),{isStuck:H}}}),Ch=Q({color:String,...rn(),...ge(),...yt(),...St(),...ss(),...ls(),...rt(),...Ge(),...Le()},"VSheet"),Th=le()({name:"VSheet",props:Ch(),setup(e,t){let{slots:n}=t;const{themeClasses:o}=ze(e),{backgroundColorClasses:i,backgroundColorStyles:l}=Je(()=>e.color),{borderClasses:a}=an(e),{dimensionStyles:u}=ht(e),{elevationClasses:d}=Ct(e),{locationStyles:c}=os(e),{positionClasses:f}=is(e),{roundedClasses:m}=at(e);return de(()=>T(e.tag,{class:te(["v-sheet",o.value,i.value,a.value,d.value,f.value,m.value,e.class]),style:ve([l.value,u.value,c.value,e.style])},n)),{}}}),_h={class:"d-flex align-center justify-space-between"},Eh={class:"mb-3"},Ih={class:"d-flex align-center justify-space-between mb-2"},Ah={class:"d-flex align-center"},bh={class:"mt-2 px-2 py-1",style:{"background-color":"rgba(var(--v-theme-warning), 0.1)","border-radius":"4px","border-left":"3px solid rgb(var(--v-theme-warning))"}},wh={class:"text-caption text-medium-emphasis"},Ph={class:"d-flex align-center flex-grow-1"},xh={class:"text-subtitle-1 font-weight-medium"},Rh={class:"pa-2"},kh={class:"mt-4"},Mh={class:"json-preview"},Nh={__name:"SidePanel",props:{modelValue:{type:Boolean,default:!0},permanent:{type:Boolean,default:!0},isPreviewMode:{type:Boolean,default:!1},previewSettings:{type:Object,default:null}},emits:["update:modelValue","generate","exit-preview"],setup(e,{emit:t}){const n=e,o=t,i=Gs(),l=J(!1),a=J([0,1]),u=R(()=>n.isPreviewMode&&n.previewSettings?n.previewSettings:i.prompt),d=R(()=>n.isPreviewMode&&n.previewSettings?JSON.stringify(n.previewSettings,null,2):JSON.stringify(i.finalJSON,null,2));function c(h){return h.split("_").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" ")}function f(h){return{text:"mdi-text-box",style:"mdi-palette",technical:"mdi-cog"}[h]||"mdi-tune"}function m(h,g){if(typeof g=="object"&&g!==null&&g.path&&g.value!==void 0)i.setValue(g.path,g.value);else{const y=i.getValue(h);y&&"value"in y&&(y.value=g)}}function v(h,g){typeof g=="object"&&g!==null&&g.path&&typeof g.toggle=="boolean"?i.setToggle(g.path,g.toggle):i.setToggle(h,g)}function p(){const h=i.getFinalJSON();console.log("Final JSON:",h),o("generate",h)}return(h,g)=>(K(),he(Sh,{"model-value":e.modelValue,"onUpdate:modelValue":g[4]||(g[4]=y=>o("update:modelValue",y)),permanent:e.permanent,width:"620",color:"surface",class:"side-panel"},{default:z(()=>[T(Th,{class:"pa-4 d-flex flex-column",color:"transparent",height:"100%"},{default:z(()=>[e.isPreviewMode?(K(),he(Mn,{key:0,type:"info",variant:"tonal",density:"compact",class:"mb-3",closable:"","onClick:close":g[1]||(g[1]=y=>o("exit-preview"))},{prepend:z(()=>[T(ce,{icon:"mdi-eye"})]),default:z(()=>[C("div",_h,[g[6]||(g[6]=C("span",{class:"text-subtitle-2"},[C("strong",null,"Preview Mode:"),Se(" Viewing old generation settings ")],-1)),T(be,{size:"small",variant:"text",onClick:g[0]||(g[0]=y=>o("exit-preview")),"prepend-icon":"mdi-arrow-right"},{default:z(()=>[...g[5]||(g[5]=[Se(" Exit Preview ",-1)])]),_:1})])]),_:1})):Ee("",!0),C("div",Eh,[C("div",Ih,[C("div",Ah,[T(ce,{icon:"mdi-tune",size:"large",class:"me-2",color:"primary"}),g[7]||(g[7]=C("div",{class:"text-h5 font-weight-bold"},"ACI Prompt Testing",-1))])]),T(wt),C("div",bh,[C("span",wh,[T(ce,{icon:"mdi-alert-circle-outline",size:"x-small",class:"me-1"}),g[8]||(g[8]=C("strong",null,"Note:",-1)),g[9]||(g[9]=Se(" Generations are unique and do not have consistency between generations... yet ",-1))])])]),C("div",{class:te(["prompt-fields flex-grow-1",{"preview-mode":e.isPreviewMode}])},[T(dh,{modelValue:a.value,"onUpdate:modelValue":g[2]||(g[2]=y=>a.value=y),multiple:"",variant:"accordion",class:"fields-panels"},{default:z(()=>[(K(!0),ue(pe,null,It(u.value,(y,S)=>(K(),he(ah,{key:S},{title:z(()=>[C("div",Ph,[T(ce,{icon:f(S),class:"me-2",size:"small"},null,8,["icon"]),C("span",xh,se(c(S)),1)])]),text:z(()=>[C("div",Rh,[T(sh,{"field-key":S,field:y,path:S,disabled:e.isPreviewMode,"onUpdate:value":E=>m(S,E),"onUpdate:toggle":E=>v(S,E)},null,8,["field-key","field","path","disabled","onUpdate:value","onUpdate:toggle"])])]),_:2},1024))),128))]),_:1},8,["modelValue"])],2),C("div",kh,[T(wt,{class:"mb-4"}),T(be,{block:"",color:"primary",size:"large",onClick:p,class:"mb-2",elevation:"2",disabled:e.isPreviewMode},{default:z(()=>[T(ce,{icon:e.isPreviewMode?"mdi-lock":"mdi-play",class:"me-2"},null,8,["icon"]),Se(" "+se(e.isPreviewMode?"Generation Locked (Preview Mode)":"Generate"),1)]),_:1},8,["disabled"]),T(be,{block:"",variant:"outlined",size:"default",onClick:g[3]||(g[3]=y=>l.value=!l.value),class:"mb-2"},{default:z(()=>[T(ce,{icon:l.value?"mdi-chevron-up":"mdi-chevron-down",class:"me-2"},null,8,["icon"]),Se(" "+se(l.value?"Hide":"Show")+" JSON (DEBUGGING) ",1)]),_:1}),T(un,null,{default:z(()=>[l.value?(K(),he(Ze,{key:0,variant:"outlined",class:"mt-2"},{default:z(()=>[T(At,{class:"pa-3"},{default:z(()=>[C("pre",Mh,se(d.value),1)]),_:1})]),_:1})):Ee("",!0)]),_:1})])]),_:1})]),_:1},8,["model-value","permanent"]))}},Vh=et(Nh,[["__scopeId","data-v-63f54ace"]]),Na=vo("imageStore",{state:()=>({images:[],selectedImageId:null,maxImages:10}),getters:{allImages:e=>e.images,selectedImage:e=>e.images.find(t=>t.id===e.selectedImageId)||null,canAddMore:e=>e.images.length<e.maxImages,imagesForAPI:e=>e.images.map(t=>({inlineData:{mimeType:t.mimeType,data:t.base64}}))},actions:{async addImages(e){const t=Array.from(e),n={added:[],skipped:[],errors:[]};for(const o of t)try{if(!this.canAddMore){n.errors.push({file:o.name,reason:"Maximum images reached"});continue}if(!o.type.startsWith("image/")){n.errors.push({file:o.name,reason:"Not an image file"});continue}if(this.images.some(u=>u.name===o.name&&u.size===o.size)){n.skipped.push(o.name);continue}const l=await this.fileToBase64(o),a={id:Date.now()+Math.random(),file:o,base64:l,mimeType:o.type,name:o.name,size:o.size,previewUrl:URL.createObjectURL(o),uploadedAt:new Date};this.images.push(a),n.added.push(o.name),this.images.length===1&&(this.selectedImageId=a.id)}catch(i){n.errors.push({file:o.name,reason:i.message})}return n},async addImage(e){const t=await this.addImages([e]);if(t.errors.length>0)throw new Error(t.errors[0].reason);return this.images[this.images.length-1]},removeImage(e){const t=this.images.findIndex(n=>n.id===e);t!==-1&&(URL.revokeObjectURL(this.images[t].previewUrl),this.images.splice(t,1),this.selectedImageId===e&&(this.selectedImageId=this.images.length>0?this.images[0].id:null))},selectImage(e){this.images.find(n=>n.id===e)&&(this.selectedImageId=e)},clearAll(){this.images.forEach(e=>URL.revokeObjectURL(e.previewUrl)),this.images=[],this.selectedImageId=null},fileToBase64(e){return new Promise((t,n)=>{const o=new FileReader;o.onload=()=>{const i=o.result.split(",")[1];t(i)},o.onerror=n,o.readAsDataURL(e)})},formatFileSize(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/Math.pow(t,o)*100)/100+" "+n[o]}}}),Dh={class:"image-upload-area"},Lh={class:"d-flex align-center mb-3"},Fh={class:"image-cards-container"},Uh={class:"image-card-content"},qh={class:"d-flex align-center justify-center fill-height"},Gh={class:"image-info"},Bh={class:"text-caption text-truncate"},Hh={class:"text-caption text-medium-emphasis"},$h={class:"image-card-content upload-content"},Jh={__name:"ImageUploadArea",setup(e){const t=Na(),n=J(null),o=()=>{n.value?.click()},i=async u=>{const d=u.target.files;if(!(!d||d.length===0))try{const c=await t.addImages(d);if(c.skipped.length>0||c.errors.length>0){let f="";c.added.length>0&&(f+=`Added ${c.added.length} image(s). `),c.skipped.length>0&&(f+=`Skipped ${c.skipped.length} duplicate(s). `),c.errors.length>0&&(f+=`Failed ${c.errors.length} file(s).`),console.log("Upload results:",c),c.added.length===0&&alert(f)}u.target.value=""}catch(c){console.error("Error adding images:",c),alert(c.message)}},l=u=>{t.removeImage(u)},a=()=>{confirm("Are you sure you want to remove all images?")&&t.clearAll()};return(u,d)=>(K(),ue("div",Dh,[C("div",Lh,[T(ce,{icon:"mdi-image-multiple",class:"me-2",color:"primary"}),d[1]||(d[1]=C("span",{class:"text-h6 font-weight-medium"},"Reference Images",-1)),T(nt,{class:"ms-2",size:"small",color:"primary",variant:"outlined"},{default:z(()=>[Se(se(Ue(t).images.length)+"/"+se(Ue(t).maxImages),1)]),_:1}),T(fs),Ue(t).images.length>0?(K(),he(be,{key:0,size:"small",variant:"text",color:"error",onClick:a,"prepend-icon":"mdi-delete"},{default:z(()=>[...d[0]||(d[0]=[Se(" Clear All ",-1)])]),_:1})):Ee("",!0)]),C("div",Fh,[(K(!0),ue(pe,null,It(Ue(t).images,c=>(K(),he(Ze,{key:c.id,class:te(["image-card",{"image-card-selected":Ue(t).selectedImageId===c.id}]),onClick:f=>Ue(t).selectImage(c.id),elevation:"2",hover:""},{default:z(()=>[C("div",Uh,[T(as,{src:c.previewUrl,alt:c.name,cover:"",class:"image-thumbnail"},{placeholder:z(()=>[C("div",qh,[T(_o,{indeterminate:"",color:"primary"})])]),_:1},8,["src","alt"]),T(be,{icon:"mdi-close",size:"x-small",color:"error",class:"remove-btn",onClick:Yl(f=>l(c.id),["stop"]),elevation:"2"},null,8,["onClick"]),C("div",Gh,[C("div",Bh,se(c.name),1),C("div",Hh,se(Ue(t).formatFileSize(c.size)),1)])])]),_:2},1032,["class","onClick"]))),128)),Ue(t).canAddMore?(K(),he(Ze,{key:0,class:"image-card image-card-upload",elevation:"2",hover:"",onClick:o},{default:z(()=>[C("div",$h,[T(ce,{icon:"mdi-plus",size:"48",color:"primary"}),d[2]||(d[2]=C("span",{class:"text-body-2 text-medium-emphasis mt-2"},"Add Image",-1))])]),_:1})):Ee("",!0),C("input",{ref_key:"fileInput",ref:n,type:"file",accept:"image/*",multiple:"",onChange:i,style:{display:"none"}},null,544)])]))}},zh=et(Jh,[["__scopeId","data-v-ea9c946e"]]),Oh={class:"generated-viewer"},Wh={key:0,class:"empty-state"},Kh={key:1,class:"viewer-container"},Yh={key:0,class:"history-sidebar"},Xh={class:"history-header"},Qh={class:"history-list"},Zh={class:"thumbnail-wrapper"},jh=["src","alt"],ey={key:0,class:"active-indicator"},ty={class:"card-info"},ny={class:"d-flex align-center justify-space-between mb-1"},oy={class:"text-caption font-weight-bold"},iy={class:"text-caption text-medium-emphasis mb-1"},ly={class:"text-caption text-medium-emphasis mb-1"},sy={key:0,class:"text-caption text-success"},ay={key:0,class:"navigation-arrows"},ry={class:"floating-controls"},uy={key:1,class:"navigation-indicators"},dy={__name:"GeneratedImageViewer",props:{imageUrl:{type:String,default:null},generations:{type:Array,default:()=>[]},currentGenerationIndex:{type:Number,default:-1}},emits:["select-generation","delete-generation"],setup(e,{emit:t}){const n=e,o=t,i=J(null),l=J(null),a=J(null),u=J(1),d=J({x:0,y:0}),c=J(!1),f=J({x:0,y:0}),m=R(()=>n.generations.map((A,k)=>({...A,originalIndex:k})).reverse()),v=async()=>{if(!n.imageUrl||!i.value)return;const A=new Image;A.onload=()=>{a.value=A,h()},A.onerror=k=>{console.error("Failed to load image:",k)},A.src=n.imageUrl},p=()=>{if(!i.value||!a.value)return;const A=i.value.getContext("2d"),k=l.value.clientWidth,N=l.value.clientHeight;i.value.width=k,i.value.height=N,A.clearRect(0,0,k,N),A.save(),A.translate(d.value.x,d.value.y),A.scale(u.value,u.value);const D=a.value.width,U=a.value.height;A.drawImage(a.value,0,0,D,U),A.restore()},h=()=>{if(!a.value||!l.value)return;const A=l.value.clientWidth,k=l.value.clientHeight,N=a.value.width,D=a.value.height,U=A/N,V=k/D;u.value=Math.min(U,V,1)*.9,d.value={x:(A-N*u.value)/2,y:(k-D*u.value)/2},p()},g=()=>{const A=u.value;u.value=Math.min(u.value*1.2,5);const k=l.value.clientWidth,N=l.value.clientHeight,D=k/2,U=N/2;d.value.x=D-(D-d.value.x)*(u.value/A),d.value.y=U-(U-d.value.y)*(u.value/A),p()},y=()=>{const A=u.value;u.value=Math.max(u.value/1.2,.1);const k=l.value.clientWidth,N=l.value.clientHeight,D=k/2,U=N/2;d.value.x=D-(D-d.value.x)*(u.value/A),d.value.y=U-(U-d.value.y)*(u.value/A),p()},S=A=>{c.value=!0,f.value={x:A.clientX-d.value.x,y:A.clientY-d.value.y},l.value.style.cursor="grabbing"},E=A=>{c.value&&(d.value={x:A.clientX-f.value.x,y:A.clientY-f.value.y},p())},_=()=>{c.value=!1,l.value.style.cursor="grab"},w=A=>{A.preventDefault();const k=A.deltaY>0?.9:1.1,N=u.value;u.value=Math.max(.1,Math.min(5,u.value*k));const D=l.value.getBoundingClientRect(),U=A.clientX-D.left,V=A.clientY-D.top;d.value.x=U-(U-d.value.x)*(u.value/N),d.value.y=V-(V-d.value.y)*(u.value/N),p()},x=()=>{if(!n.imageUrl)return;const A=document.createElement("a");A.href=n.imageUrl,A.download=`generated-image-${Date.now()}.png`,A.click()},P=()=>{a.value&&p()},I=A=>{const k=new Date(A),D=new Date-k,U=Math.floor(D/6e4),V=Math.floor(D/36e5),G=Math.floor(D/864e5);return U<1?"Just now":U<60?`${U}m ago`:V<24?`${V}h ago`:G<7?`${G}d ago`:k.toLocaleDateString()},b=A=>new Date(A).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return ne(()=>n.imageUrl,async()=>{await Ie(),v()}),gt(()=>{window.addEventListener("resize",P),n.imageUrl&&v()}),Xl(()=>{window.removeEventListener("resize",P)}),(A,k)=>(K(),ue("div",Oh,[e.imageUrl?(K(),ue("div",Kh,[e.generations.length>0?(K(),ue("div",Yh,[C("div",Xh,[T(ce,{icon:"mdi-history",size:"small",class:"me-2"}),k[4]||(k[4]=C("span",{class:"text-subtitle-2 font-weight-bold"},"History",-1)),T(nt,{size:"x-small",class:"ml-2"},{default:z(()=>[Se(se(e.generations.length),1)]),_:1})]),C("div",Qh,[(K(!0),ue(pe,null,It(m.value,(N,D)=>(K(),he(Ze,{key:N.id,class:te(["history-card",{active:N.originalIndex===e.currentGenerationIndex}]),onClick:U=>o("select-generation",N.originalIndex)},{default:z(()=>[C("div",Zh,[C("img",{src:N.blobUrl,alt:`Generation ${N.originalIndex+1}`,class:"thumbnail"},null,8,jh),N.originalIndex===e.currentGenerationIndex?(K(),ue("div",ey,[T(ce,{icon:"mdi-eye",size:"small"})])):Ee("",!0)]),C("div",ty,[C("div",ny,[C("span",oy,"Generation "+se(N.originalIndex+1),1),T(be,{icon:"mdi-delete",size:"x-small",variant:"text",density:"compact",onClick:Yl(U=>o("delete-generation",N.id),["stop"]),title:"Delete this generation"},null,8,["onClick"])]),C("div",iy,se(I(N.timestamp)),1),C("div",ly,se(b(N.timestamp)),1),N.cost?(K(),ue("div",sy," $"+se(N.cost.toFixed(4)),1)):Ee("",!0)])]),_:2},1032,["class","onClick"]))),128))])])):Ee("",!0),C("div",{ref_key:"canvasContainer",ref:l,class:"canvas-wrapper",onMousedown:S,onMousemove:E,onMouseup:_,onMouseleave:_,onWheel:w},[C("canvas",{ref_key:"canvas",ref:i},null,512),e.generations.length>1?(K(),ue("div",ay,[T(be,{icon:"mdi-chevron-left",size:"large",variant:"elevated",color:"surface",class:"nav-arrow nav-arrow-left",disabled:e.currentGenerationIndex===0,onClick:k[0]||(k[0]=N=>o("select-generation",e.currentGenerationIndex-1)),title:"Previous generation ()"},null,8,["disabled"]),T(be,{icon:"mdi-chevron-right",size:"large",variant:"elevated",color:"surface",class:"nav-arrow nav-arrow-right",disabled:e.currentGenerationIndex===e.generations.length-1,onClick:k[1]||(k[1]=N=>o("select-generation",e.currentGenerationIndex+1)),title:"Next generation ()"},null,8,["disabled"])])):Ee("",!0)],544),C("div",ry,[T(nt,{class:"zoom-indicator",size:"small",variant:"elevated"},{default:z(()=>[Se(se(Math.round(u.value*100))+"% ",1)]),_:1}),T(ur,{density:"compact",class:"control-group"},{default:z(()=>[T(be,{size:"small",icon:"mdi-magnify-plus",onClick:g,title:"Zoom In"}),T(be,{size:"small",icon:"mdi-magnify-minus",onClick:y,title:"Zoom Out"}),T(be,{size:"small",icon:"mdi-fit-to-screen",onClick:h,title:"Fit to Screen"}),T(be,{size:"small",icon:"mdi-download",onClick:x,title:"Download Image"})]),_:1}),T(xa,{location:"top"},{activator:z(({props:N})=>[T(be,Z(N,{size:"small",icon:"mdi-keyboard",variant:"elevated",title:"Keyboard Shortcuts",class:"shortcuts-btn"}),null,16)]),default:z(()=>[T(Ze,{"min-width":"250"},{default:z(()=>[T(rs,{class:"text-subtitle-2"},{default:z(()=>[T(ce,{icon:"mdi-keyboard",size:"small",class:"me-2"}),k[5]||(k[5]=Se(" Keyboard Shortcuts ",-1))]),_:1}),T(wt),T(At,{class:"pa-3"},{default:z(()=>[...k[6]||(k[6]=[C("div",{class:"shortcuts-list"},[C("div",{class:"shortcut-item"},[C("kbd",null,""),Se(),C("kbd",null,""),C("span",null,"Navigate history")]),C("div",{class:"shortcut-item"},[C("kbd",null,"Home"),C("span",null,"First generation")]),C("div",{class:"shortcut-item"},[C("kbd",null,"End"),C("span",null,"Latest generation")]),C("div",{class:"shortcut-item"},[C("kbd",null,"Esc"),C("span",null,"Exit preview mode")])],-1)])]),_:1})]),_:1})]),_:1})]),e.generations.length>1?(K(),ue("div",uy,[T(nt,{size:"small",variant:"elevated",class:"generation-indicator"},{default:z(()=>[Se(se(e.currentGenerationIndex+1)+" / "+se(e.generations.length),1)]),_:1})])):Ee("",!0)])):(K(),ue("div",Wh,[T(ce,{icon:"mdi-image-outline",size:"80",color:"grey-lighten-1"}),k[2]||(k[2]=C("p",{class:"text-h6 text-medium-emphasis mt-4"},"No generated image yet",-1)),k[3]||(k[3]=C("p",{class:"text-body-2 text-disabled"}," Configure your prompt and images above, then click Generate ",-1))]))]))}},cy=et(dy,[["__scopeId","data-v-bf03d1bd"]]),fy=Q({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Bn({origin:"center center",scrollStrategy:"block",transition:{component:No},zIndex:2400})},"VDialog"),my=le()({name:"VDialog",props:fy(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:o}=t;const i=Ae(e,"modelValue"),{scopeId:l}=fn(),a=J();async function u(m){const v=m.relatedTarget,p=m.target;await Ie(),i.value&&v!==p&&a.value?.contentEl&&a.value?.globalTop&&![document,a.value.contentEl].includes(p)&&!a.value.contentEl.contains(p)&&Xt(a.value.contentEl)[0]?.focus()}function d(m){if(m.key!=="Tab"||!a.value?.contentEl)return;const v=Xt(a.value.contentEl);if(!v.length)return;const p=v[0],h=v[v.length-1],g=document.activeElement;m.shiftKey&&g===p?(m.preventDefault(),h.focus()):!m.shiftKey&&g===h&&(m.preventDefault(),p.focus())}lt(()=>{document.removeEventListener("focusin",u),document.removeEventListener("keydown",d)}),De&&ne(()=>i.value&&e.retainFocus,m=>{m?(document.addEventListener("focusin",u,{once:!0}),document.addEventListener("keydown",d)):(document.removeEventListener("focusin",u),document.removeEventListener("keydown",d))},{immediate:!0});function c(){n("afterEnter"),(e.scrim||e.retainFocus)&&a.value?.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function f(){n("afterLeave")}return ne(i,async m=>{m||(await Ie(),a.value.activatorEl?.focus({preventScroll:!0}))}),de(()=>{const m=bt.filterProps(e),v=Z({"aria-haspopup":"dialog"},e.activatorProps),p=Z({tabindex:-1},e.contentProps);return T(bt,Z({ref:a,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},m,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,"aria-modal":"true",activatorProps:v,contentProps:p,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:c,onAfterLeave:f},l),{activator:o.activator,default:function(){for(var h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];return T(Pe,{root:"VDialog"},{default:()=>[o.default?.(...g)]})}})}),_t({},a)}}),vy={__name:"ApiKeyDialog",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","api-key-saved"],setup(e,{emit:t}){const n=e,o=t,i=R({get:()=>n.modelValue,set:c=>o("update:modelValue",c)}),l=J(""),a=J(!1),u=J(""),d=()=>{const c=l.value.trim();if(!c){u.value="API key cannot be empty";return}if(c.length<20){u.value="API key seems too short. Please check and try again.";return}u.value="",o("api-key-saved",c),i.value=!1,l.value=""};return(c,f)=>(K(),he(my,{modelValue:i.value,"onUpdate:modelValue":f[2]||(f[2]=m=>i.value=m),persistent:"","max-width":"500px"},{default:z(()=>[T(Ze,null,{default:z(()=>[T(rs,{class:"text-h5 pa-4 bg-primary"},{default:z(()=>[T(ce,{icon:"mdi-key-variant",class:"me-2"}),f[3]||(f[3]=Se(" Insert Supplied API Key ",-1))]),_:1}),T(At,{class:"pa-4"},{default:z(()=>[f[5]||(f[5]=C("div",{class:"mb-4"},[C("p",{class:"text-body-1 mb-2"}," Please enter your Google GenAI API key to continue. "),C("p",{class:"text-body-2 text-medium-emphasis"}," Your API key will be kept in memory for this session only and never stored. It will only be sent to Google's GenAI API Safely. Don't share this key. ")],-1)),T(pt,{modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=m=>l.value=m),label:"API Key",placeholder:"Enter your Google GenAI API key",variant:"outlined",type:a.value?"text":"password","append-inner-icon":a.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":f[1]||(f[1]=m=>a.value=!a.value),"error-messages":u.value,onKeyup:nr(d,["enter"]),autofocus:"",density:"comfortable"},null,8,["modelValue","type","append-inner-icon","error-messages"]),T(Mn,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{text:z(()=>[...f[4]||(f[4]=[C("div",{class:"text-caption"}," DO NOT SHARE THE API KEY WITH ANYONE... EVER. ",-1)])]),_:1})]),_:1}),T(dr,{class:"pa-4 pt-0"},{default:z(()=>[T(fs),T(be,{color:"primary",variant:"elevated",disabled:!l.value||l.value.trim().length===0,onClick:d},{default:z(()=>[...f[6]||(f[6]=[Se(" Continue ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},py=et(vy,[["__scopeId","data-v-c117c3ca"]]),gy=vo("generationHistory",{state:()=>({generations:[],currentGenerationIndex:-1,maxGenerations:50}),getters:{allGenerations:e=>e.generations,currentGeneration:e=>e.currentGenerationIndex>=0&&e.currentGenerationIndex<e.generations.length?e.generations[e.currentGenerationIndex]:null,isViewingLatest:e=>e.currentGenerationIndex===e.generations.length-1,isPreviewMode:e=>e.currentGenerationIndex>=0&&e.currentGenerationIndex<e.generations.length-1,latestGeneration:e=>e.generations.length>0?e.generations[e.generations.length-1]:null,canNavigatePrevious:e=>e.currentGenerationIndex>0,canNavigateNext:e=>e.currentGenerationIndex<e.generations.length-1},actions:{addGeneration(e){const t=this.dataUrlToBlobUrl(e.imageUrl),n={id:Date.now()+Math.random(),blobUrl:t,dataUrl:e.imageUrl,settings:JSON.parse(JSON.stringify(e.settings)),usageMetadata:e.usageMetadata,cost:e.cost,timestamp:new Date().toISOString(),createdAt:new Date};if(this.generations.push(n),this.generations.length>this.maxGenerations){const o=this.generations.shift();o.blobUrl&&URL.revokeObjectURL(o.blobUrl)}return this.currentGenerationIndex=this.generations.length-1,n},selectGeneration(e){e>=0&&e<this.generations.length&&(this.currentGenerationIndex=e)},selectGenerationById(e){const t=this.generations.findIndex(n=>n.id===e);t!==-1&&(this.currentGenerationIndex=t)},navigatePrevious(){this.canNavigatePrevious&&this.currentGenerationIndex--},navigateNext(){this.canNavigateNext&&this.currentGenerationIndex++},goToLatest(){this.generations.length>0&&(this.currentGenerationIndex=this.generations.length-1)},deleteGeneration(e){const t=this.generations.findIndex(n=>n.id===e);if(t!==-1){const n=this.generations[t];n.blobUrl&&URL.revokeObjectURL(n.blobUrl),this.generations.splice(t,1),this.currentGenerationIndex>=this.generations.length&&(this.currentGenerationIndex=this.generations.length-1)}},clearAll(){this.generations.forEach(e=>{e.blobUrl&&URL.revokeObjectURL(e.blobUrl)}),this.generations=[],this.currentGenerationIndex=-1},dataUrlToBlobUrl(e){if(!e)return null;try{const t=e.split(","),n=t[0].match(/:(.*?);/),o=n?n[1]:"image/png",i=t[1],l=atob(i),a=new Uint8Array(l.length);for(let d=0;d<l.length;d++)a[d]=l.charCodeAt(d);const u=new Blob([a],{type:o});return URL.createObjectURL(u)}catch(t){return console.error("Error converting data URL to blob URL:",t),e}},formatTimestamp(e){const t=new Date(e),o=new Date-t,i=Math.floor(o/6e4),l=Math.floor(o/36e5),a=Math.floor(o/864e5);return i<1?"Just now":i<60?`${i}m ago`:l<24?`${l}h ago`:a<7?`${a}d ago`:t.toLocaleDateString()}}}),hy={class:"editor-container"},yy={class:"content-layout"},Sy={class:"upload-section"},Cy={class:"preview-section"},Ty={class:"d-flex align-center justify-space-between mb-2"},_y={class:"d-flex align-center"},Ey={class:"cost-summary mb-3"},Iy={class:"cost-item current"},Ay={class:"cost-value"},by={class:"cost-item total"},wy={class:"cost-value"},Py={class:"usage-stats"},xy={class:"stat-item"},Ry={class:"stat-value"},ky={class:"stat-item"},My={class:"stat-value"},Ny={class:"stat-item stat-total"},Vy={class:"stat-value"},Dy={class:"usage-details"},Ly={key:0,class:"detail-section"},Fy={class:"text-caption"},Uy={key:1,class:"detail-section"},qy={class:"text-caption"},Gy={class:"generating-content"},By={__name:"editor",setup(e){const t=J(!0),n=Na(),o=gy(),i=Gs(),l=J(null),a=J(!1),u=J(null),d=J(!0),c=J(0),f=J(0),m=J(!1),v=J(null),p=R(()=>{const P=o.currentGeneration;return P?P.blobUrl:l.value}),h={INPUT_PER_1M:.3,OUTPUT_PER_IMAGE:.039},g=P=>{if(!P)return 0;const b=(P.promptTokenCount||0)/1e6*h.INPUT_PER_1M,A=h.OUTPUT_PER_IMAGE;return b+A},y=async P=>{if(o.isPreviewMode){alert("Cannot generate while viewing old generations. Please exit preview mode first.");return}a.value=!0,u.value=null;try{const I=[];I.push(P.prompt);const b=n.imagesForAPI;if(b.length>0&&I.push(...b),!v.value){alert("API key not found. Please enter your API key."),m.value=!0;return}const k=await new kv({apiKey:v.value}).models.generateContent({model:"gemini-2.5-flash-image",contents:I,config:{responseModalities:["Image"],systemInstruction:"You are an attentive model designed to interpret structured JSON prompts. You must fully read, parse, and apply every field, key, and nested value within the JSON input. The 'text' field contains the primary instruction that defines the core task, and all other fieldssuch as style, technical, and nested attributesspecify how that task should be executed. Do not ignore or omit any property. Each parameter, attribute, and sub-object directly affects the intended output and must be considered. Follow all specifications, styles, compositions, formats, and details exactly as defined in the JSON. Prioritise accuracy and fidelity to the JSON content above any inferred assumptions."}});if(console.log("API Response:",k),k?.usageMetadata&&(u.value=k.usageMetadata,console.log("Usage metadata:",k.usageMetadata),f.value=g(k.usageMetadata),c.value+=f.value,console.log("Generation cost:",f.value.toFixed(4),"USD"),console.log("Total cost:",c.value.toFixed(4),"USD")),k?.candidates?.[0]?.content?.parts?.[0]?.inlineData){const N=k.candidates[0].content.parts[0].inlineData,D=N.data,V=`data:${N.mimeType||"image/png"};base64,${D}`;l.value=V,o.addGeneration({imageUrl:V,settings:i.prompt,usageMetadata:k.usageMetadata,cost:f.value}),console.log("Generated image loaded successfully and saved to history")}else console.warn("No image data in response"),alert("No image was generated in the response")}catch(I){console.error("Generation error:",I),alert("Error generating content: "+I.message)}finally{a.value=!1}},S=P=>{o.selectGeneration(P)},E=P=>{o.deleteGeneration(P)},_=()=>{o.goToLatest()},w=P=>{if(o.generations.length!==0&&!["INPUT","TEXTAREA"].includes(P.target.tagName))switch(P.key){case"ArrowLeft":case"ArrowUp":P.preventDefault(),o.navigatePrevious();break;case"ArrowRight":case"ArrowDown":P.preventDefault(),o.navigateNext();break;case"Escape":o.isPreviewMode&&(P.preventDefault(),_());break;case"Home":P.preventDefault(),o.selectGeneration(0);break;case"End":P.preventDefault(),o.goToLatest();break}},x=P=>{v.value=P,console.log("API key set for this session")};return gt(()=>{window.addEventListener("keydown",w),m.value=!0}),Xl(()=>{window.removeEventListener("keydown",w)}),(P,I)=>(K(),ue("div",hy,[T(py,{modelValue:m.value,"onUpdate:modelValue":I[0]||(I[0]=b=>m.value=b),onApiKeySaved:x},null,8,["modelValue"]),T(Vh,{modelValue:t.value,"onUpdate:modelValue":I[1]||(I[1]=b=>t.value=b),permanent:!0,"is-preview-mode":Ue(o).isPreviewMode,"preview-settings":Ue(o).currentGeneration?.settings,onGenerate:y,onExitPreview:_},null,8,["modelValue","is-preview-mode","preview-settings"]),T(or,{class:"main-content"},{default:z(()=>[C("div",yy,[C("div",Sy,[T(zh)]),C("div",Cy,[T(cy,{"image-url":p.value,generations:Ue(o).allGenerations,"current-generation-index":Ue(o).currentGenerationIndex,onSelectGeneration:S,onDeleteGeneration:E},null,8,["image-url","generations","current-generation-index"]),T(un,null,{default:z(()=>[u.value&&d.value?(K(),he(Ze,{key:0,class:"usage-card",variant:"elevated",elevation:"4"},{default:z(()=>[T(At,{class:"pa-3"},{default:z(()=>[C("div",Ty,[C("div",_y,[T(ce,{icon:"mdi-chart-box-outline",size:"small",class:"me-2",color:"primary"}),I[5]||(I[5]=C("span",{class:"text-subtitle-2 font-weight-bold"},"Token Usage & Cost",-1))]),T(be,{icon:"mdi-close",size:"x-small",variant:"text",onClick:I[2]||(I[2]=b=>d.value=!1)})]),C("div",Ey,[C("div",Iy,[I[6]||(I[6]=C("span",{class:"cost-label"},"This Generation:",-1)),C("span",Ay,"$"+se(f.value.toFixed(4)),1)]),C("div",by,[I[7]||(I[7]=C("span",{class:"cost-label"},"Total Session:",-1)),C("span",wy,"$"+se(c.value.toFixed(4)),1)])]),T(wt,{class:"mb-3"}),C("div",Py,[C("div",xy,[I[8]||(I[8]=C("span",{class:"stat-label"},"Prompt:",-1)),C("span",Ry,se(u.value.promptTokenCount?.toLocaleString()),1)]),C("div",ky,[I[9]||(I[9]=C("span",{class:"stat-label"},"Response:",-1)),C("span",My,se(u.value.candidatesTokenCount?.toLocaleString()),1)]),C("div",Ny,[I[10]||(I[10]=C("span",{class:"stat-label"},"Total Tokens:",-1)),C("span",Vy,se(u.value.totalTokenCount?.toLocaleString()),1)])]),T(wt,{class:"my-2"}),C("div",Dy,[u.value.promptTokensDetails?(K(),ue("div",Ly,[I[11]||(I[11]=C("div",{class:"text-caption text-medium-emphasis mb-1"},"Prompt Breakdown:",-1)),(K(!0),ue(pe,null,It(u.value.promptTokensDetails,(b,A)=>(K(),ue("div",{key:`prompt-${A}`,class:"detail-item"},[T(nt,{size:"x-small",variant:"outlined",class:"me-1"},{default:z(()=>[Se(se(b.modality),1)]),_:2},1024),C("span",Fy,se(b.tokenCount?.toLocaleString()),1)]))),128))])):Ee("",!0),u.value.candidatesTokensDetails?(K(),ue("div",Uy,[I[12]||(I[12]=C("div",{class:"text-caption text-medium-emphasis mb-1"},"Response Breakdown:",-1)),(K(!0),ue(pe,null,It(u.value.candidatesTokensDetails,(b,A)=>(K(),ue("div",{key:`candidate-${A}`,class:"detail-item"},[T(nt,{size:"x-small",variant:"outlined",class:"me-1"},{default:z(()=>[Se(se(b.modality),1)]),_:2},1024),C("span",qy,se(b.tokenCount?.toLocaleString()),1)]))),128))])):Ee("",!0)])]),_:1})]),_:1})):Ee("",!0)]),_:1}),u.value&&!d.value?(K(),he(be,{key:0,class:"usage-toggle-btn",icon:"mdi-chart-box-outline",color:"primary",elevation:"4",onClick:I[3]||(I[3]=b=>d.value=!0),title:"Show usage & cost"})):Ee("",!0)])]),T(bt,{modelValue:a.value,"onUpdate:modelValue":I[4]||(I[4]=b=>a.value=b),class:"align-center justify-center",contained:"",persistent:""},{default:z(()=>[C("div",Gy,[T(_o,{indeterminate:"",size:"64",width:"6",color:"primary"}),I[13]||(I[13]=C("p",{class:"text-h6 mt-4 mb-2"},"Generating Image...",-1)),I[14]||(I[14]=C("p",{class:"text-body-2 text-medium-emphasis"},"This may take a moment",-1))])]),_:1},8,["modelValue"])]),_:1})]))}},Jy=et(By,[["__scopeId","data-v-a2d21def"]]);export{Jy as default};
